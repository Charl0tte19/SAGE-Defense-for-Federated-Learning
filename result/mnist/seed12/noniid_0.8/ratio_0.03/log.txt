Namespace(aggregation='FedAvg', attack_mode='poison', attack_ratio=0.03, attacker_file='./mnist/seed_12/noniid_0.8/ratio_0.03/attacker.txt', bs=128, dataset='mnist', device=device(type='cuda', index=0), epochs=80, frequency=1, gpu=0, local_bs=10, local_ep=5, local_file='./mnist/seed_12/noniid_0.8/ratio_0.03/local.txt', lr=0.01, model_path='./mnist/seed_12/noniid_0.8/ratio_0.03/final.pt', momentum=0.5, noniid=0.8, num_attacker=100, pretrained_model='./mnist/seed_12/noniid_0.8/ratio_0.03/poison_0.03_Scale_0.pt(3).pt1', sample_users=100, scale=True, seed=12, shuffle=False, target_label=7, target_random=True, test_label_acc=True, total_users=1000, vae_model='', verbose=False)
non-iid_per_local:  43
iid_per_local:  11
label 0 : 5336
example -> idx: 4682 = 0
label 1 : 6112
example -> idx: 10259 = 1
label 2 : 5358
example -> idx: 16221 = 2
label 3 : 5504
example -> idx: 19899 = 3
label 4 : 5247
example -> idx: 25383 = 4
label 5 : 4872
example -> idx: 28423 = 5
label 6 : 5347
example -> idx: 33381 = 6
label 7 : 5597
example -> idx: 40801 = 7
label 8 : 5254
example -> idx: 45823 = 8
label 9 : 5373
example -> idx: 50151 = 9

0 :  136
1 :  912
2 :  158
3 :  304
4 :  47
5 :  0
6 :  147
7 :  397
8 :  54
9 :  173

[0, 1, 2, 3, 4, 6, 7, 8, 9]
[0, 1, 2, 3, 4, 6, 7, 9]
[0, 1, 2, 3, 6, 7, 9]
[0, 1, 2, 3, 7, 9]
[0, 1, 3, 7, 9]
[0, 1, 3, 7]
[1, 3, 7]
[1, 3]
[1]
0 :  0
1 :  29
2 :  0
3 :  0
4 :  0
5 :  0
6 :  0
7 :  0
8 :  0
9 :  0

[]
0 :  0
1 :  0
2 :  0
3 :  0
4 :  0
5 :  0
6 :  0
7 :  0
8 :  0
9 :  0


[32704 36281 33178 32554 37609 34233 36418 34370 34880 35936 33498 37562
 35098 33931 37193 37707 33924 32800 37501 33513 33716 33182 35257 33539
 34361 35557 36012 35440 37228 33603 37133 36896 34553 33357 37406 37772
 34123 35832 34753 35584 33072 34833 32503  2539  7415 13161 21131 26765
 28223 39212 48178 49301 11420]
[6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6
 6 6 6 6 6 6 0 1 2 3 4 5 7 8 9 1]
CNN_Model(
  (cnn1): Conv2d(1, 16, kernel_size=(5, 5), stride=(1, 1))
  (relu1): ReLU()
  (maxpool1): MaxPool2d(kernel_size=2, stride=2, padding=0, dilation=1, ceil_mode=False)
  (cnn2): Conv2d(16, 32, kernel_size=(5, 5), stride=(1, 1))
  (relu2): ReLU()
  (maxpool2): MaxPool2d(kernel_size=2, stride=2, padding=0, dilation=1, ceil_mode=False)
  (fc1): Linear(in_features=512, out_features=10, bias=True)
)
locals:  [526, 14, 18, 539, 554, 559, 51, 76, 592, 593, 84, 95, 610, 99, 100, 105, 116, 641, 643, 134, 648, 136, 140, 654, 655, 146, 676, 170, 683, 682, 180, 698, 701, 706, 710, 205, 208, 725, 730, 736, 228, 743, 235, 242, 244, 251, 766, 256, 257, 771, 259, 782, 786, 275, 794, 295, 815, 825, 831, 834, 837, 840, 841, 335, 338, 340, 852, 862, 866, 358, 360, 874, 364, 885, 902, 905, 909, 398, 399, 401, 405, 920, 923, 423, 427, 944, 945, 948, 440, 441, 446, 455, 969, 467, 980, 987, 475, 989, 991, 998, 516, 517, 10, 524, 527, 16, 529, 531, 20, 24, 28, 549, 45, 47, 567, 570, 58, 574, 580, 584, 73, 600, 89, 606, 608, 108, 623, 629, 632, 129, 130, 651, 653, 143, 144, 667, 157, 669, 159, 684, 693, 185, 700, 705, 199, 712, 202, 206, 734, 224, 752, 755, 756, 773, 776, 267, 272, 277, 796, 800, 298, 814, 307, 316, 832, 835, 839, 843, 846, 849, 352, 353, 868, 871, 875, 884, 379, 392, 394, 906, 397, 911, 414, 417, 419, 436, 959, 448, 960, 962, 965, 456, 458, 973, 979, 992, 484, 485, 492, 494, 1, 4, 518, 7, 533, 534, 535, 29, 548, 40, 44, 46, 562, 52, 566, 62, 575, 64, 589, 82, 596, 601, 94, 96, 609, 98, 111, 114, 115, 122, 635, 642, 131, 644, 138, 139, 665, 162, 686, 688, 183, 184, 709, 207, 211, 223, 741, 229, 744, 748, 753, 248, 253, 254, 258, 264, 266, 270, 279, 281, 284, 287, 819, 309, 312, 318, 838, 331, 850, 341, 859, 355, 359, 877, 879, 368, 371, 374, 375, 888, 385, 386, 388, 913, 936, 940, 434, 435, 949, 957, 454, 463, 976, 977, 470, 471, 985, 999, 490, 498]
target_label: [7]

number of attacker:  1
all attacker:  [435]

Randomly selected 100/300 users for federated learning. 16:21:16
0/100 are attackers with poison attack
 count(target label):  100
=== Round   0, Average loss 0.063931 ===
100 users; time 16:21:30
 test data_loader(per batch size): 79
 Testing accuracy: 0.934800 loss: 0.212769
 Testing Label Acc: [0.9836734533309937, 0.9876651763916016, 0.9244186282157898, 0.9396039843559265, 0.9246435761451721, 0.8834080696105957, 0.9498956203460693, 0.9212062358856201, 0.9045174717903137, 0.9177403450012207]
 Testing Avg Label Acc : 0.9336772561073303
 Poison Acc: 0.07879377431906615
======
Model_Weight_Norm : tensor(0.)
Model_weight_Slope: tensor(0.)
Test end 16:21:32
-------------------------------------------------------------------------

round_time:  16.908913612365723

Randomly selected 100/300 users for federated learning. 16:21:32
1/100 are attackers with poison attack
 count(target label):  100
=== Round   1, Average loss 0.082634 ===
100 users; time 16:21:45
 test data_loader(per batch size): 79
 Testing accuracy: 0.898600 loss: 0.333529
 Testing Label Acc: [0.981632649898529, 0.9841409921646118, 0.9263566136360168, 0.9267326593399048, 0.932790219783783, 0.8318385481834412, 0.9613778591156006, 0.5583657622337341, 0.9383983612060547, 0.9395440816879272]
 Testing Avg Label Acc : 0.8981177747249603
 Poison Acc: 0.44163424124513617
======
Model_Weight_Norm : tensor(0.2164)
Model_weight_Slope: tensor(0.2164)
Test end 16:21:48
-------------------------------------------------------------------------

round_time:  15.373605012893677

Randomly selected 100/300 users for federated learning. 16:21:48
1/100 are attackers with poison attack
 count(target label):  100
=== Round   2, Average loss 0.089323 ===
100 users; time 16:22:01
 test data_loader(per batch size): 79
 Testing accuracy: 0.925100 loss: 0.280823
 Testing Label Acc: [0.9795918464660645, 0.9885462522506714, 0.9263566136360168, 0.9247524738311768, 0.9521384835243225, 0.8744394779205322, 0.968684732913971, 0.7723735570907593, 0.9281314015388489, 0.9296333193778992]
 Testing Avg Label Acc : 0.9244648158550263
 Poison Acc: 0.22762645914396887
======
Model_Weight_Norm : tensor(0.1363)
Model_weight_Slope: tensor(-0.0801)
Test end 16:22:03
-------------------------------------------------------------------------

round_time:  15.371142625808716

Randomly selected 100/300 users for federated learning. 16:22:03
0/100 are attackers with poison attack
 count(target label):  100
=== Round   3, Average loss 0.067884 ===
100 users; time 16:22:17
 test data_loader(per batch size): 79
 Testing accuracy: 0.938500 loss: 0.214753
 Testing Label Acc: [0.9826530814170837, 0.9911894202232361, 0.9331395626068115, 0.9316831827163696, 0.9460285305976868, 0.894618809223175, 0.9551148414611816, 0.9046692848205566, 0.9065708518028259, 0.9296333193778992]
 Testing Avg Label Acc : 0.9375300884246827
 Poison Acc: 0.09533073929961089
======
Model_Weight_Norm : tensor(0.1112)
Model_weight_Slope: tensor(-0.0251)
Test end 16:22:20
-------------------------------------------------------------------------

round_time:  16.336038827896118

Randomly selected 100/300 users for federated learning. 16:22:20
0/100 are attackers with poison attack
 count(target label):  100
=== Round   4, Average loss 0.060607 ===
100 users; time 16:22:34
 test data_loader(per batch size): 79
 Testing accuracy: 0.938900 loss: 0.204185
 Testing Label Acc: [0.9846938848495483, 0.9911894202232361, 0.9312015771865845, 0.9455445408821106, 0.9470468163490295, 0.8755605220794678, 0.9551148414611816, 0.9319066405296326, 0.9004106521606445, 0.9137760400772095]
 Testing Avg Label Acc : 0.9376444935798645
 Poison Acc: 0.06809338521400778
======
Model_Weight_Norm : tensor(0.0604)
Model_weight_Slope: tensor(-0.0508)
Test end 16:22:37
-------------------------------------------------------------------------

round_time:  17.152358770370483

Randomly selected 100/300 users for federated learning. 16:22:37
0/100 are attackers with poison attack
 count(target label):  100
=== Round   5, Average loss 0.058104 ===
100 users; time 16:22:49
 test data_loader(per batch size): 79
 Testing accuracy: 0.939700 loss: 0.197893
 Testing Label Acc: [0.9846938848495483, 0.9903083443641663, 0.9312015771865845, 0.9485148787498474, 0.9409368634223938, 0.8744394779205322, 0.9551148414611816, 0.9250972867012024, 0.9065708518028259, 0.9276511669158936]
 Testing Avg Label Acc : 0.9384529173374176
 Poison Acc: 0.07490272373540856
======
Model_Weight_Norm : tensor(0.0464)
Model_weight_Slope: tensor(-0.0141)
Test end 16:22:52
-------------------------------------------------------------------------

round_time:  15.386473655700684

Randomly selected 100/300 users for federated learning. 16:22:52
1/100 are attackers with poison attack
 count(target label):  100
=== Round   6, Average loss 0.069406 ===
100 users; time 16:23:06
 test data_loader(per batch size): 79
 Testing accuracy: 0.927700 loss: 0.251638
 Testing Label Acc: [0.9775510430335999, 0.9885462522506714, 0.9331395626068115, 0.9504950642585754, 0.9450101852416992, 0.8856502175331116, 0.968684732913971, 0.768482506275177, 0.918891191482544, 0.9345887303352356]
 Testing Avg Label Acc : 0.9271039485931396
 Poison Acc: 0.23151750972762647
======
Model_Weight_Norm : tensor(0.1697)
Model_weight_Slope: tensor(0.1234)
Test end 16:23:08
-------------------------------------------------------------------------

round_time:  16.133885383605957

Randomly selected 100/300 users for federated learning. 16:23:08
0/100 are attackers with poison attack
 count(target label):  100
=== Round   7, Average loss 0.061545 ===
100 users; time 16:23:21
 test data_loader(per batch size): 79
 Testing accuracy: 0.943100 loss: 0.197449
 Testing Label Acc: [0.9826530814170837, 0.9903083443641663, 0.9399224519729614, 0.9425742626190186, 0.9419552087783813, 0.9013453125953674, 0.9613778591156006, 0.9085603356361389, 0.9158110618591309, 0.9375619292259216]
 Testing Avg Label Acc : 0.942206984758377
 Poison Acc: 0.0914396887159533
======
Model_Weight_Norm : tensor(0.0925)
Model_weight_Slope: tensor(-0.0772)
Test end 16:23:24
-------------------------------------------------------------------------

round_time:  15.31666088104248

Randomly selected 100/300 users for federated learning. 16:23:24
0/100 are attackers with poison attack
 count(target label):  100
=== Round   8, Average loss 0.046812 ===
100 users; time 16:23:37
 test data_loader(per batch size): 79
 Testing accuracy: 0.944700 loss: 0.185768
 Testing Label Acc: [0.9806122183799744, 0.9894273281097412, 0.940891444683075, 0.9455445408821106, 0.9409368634223938, 0.9069506525993347, 0.962421715259552, 0.9338521361351013, 0.9106776118278503, 0.9266600608825684]
 Testing Avg Label Acc : 0.9437974572181702
 Poison Acc: 0.06614785992217899
======
Model_Weight_Norm : tensor(0.0535)
Model_weight_Slope: tensor(-0.0391)
Test end 16:23:40
-------------------------------------------------------------------------

round_time:  16.062252044677734

Randomly selected 100/300 users for federated learning. 16:23:40
1/100 are attackers with poison attack
 count(target label):  100
=== Round   9, Average loss 0.069594 ===
100 users; time 16:23:52
 test data_loader(per batch size): 79
 Testing accuracy: 0.921300 loss: 0.262082
 Testing Label Acc: [0.9765306115150452, 0.9894273281097412, 0.9253876209259033, 0.9445544481277466, 0.9368635416030884, 0.8520179390907288, 0.9665970802307129, 0.7198443412780762, 0.9476386308670044, 0.9464816451072693]
 Testing Avg Label Acc : 0.9205343186855316
 Poison Acc: 0.2801556420233463
======
Model_Weight_Norm : tensor(0.1704)
Model_weight_Slope: tensor(0.1169)
Test end 16:23:55
-------------------------------------------------------------------------

round_time:  15.30349326133728

Randomly selected 100/300 users for federated learning. 16:23:55
0/100 are attackers with poison attack
 count(target label):  100
=== Round  10, Average loss 0.058583 ===
100 users; time 16:24:08
 test data_loader(per batch size): 79
 Testing accuracy: 0.946300 loss: 0.188748
 Testing Label Acc: [0.9846938848495483, 0.9894273281097412, 0.9437984228134155, 0.9435643553733826, 0.9460285305976868, 0.9013453125953674, 0.9655532240867615, 0.9202334880828857, 0.9229979515075684, 0.9365708827972412]
 Testing Avg Label Acc : 0.9454213380813599
 Poison Acc: 0.07976653696498054
======
Model_Weight_Norm : tensor(0.1054)
Model_weight_Slope: tensor(-0.0650)
Test end 16:24:10
-------------------------------------------------------------------------

round_time:  15.284641981124878

Randomly selected 100/300 users for federated learning. 16:24:10
0/100 are attackers with poison attack
 count(target label):  100
=== Round  11, Average loss 0.050392 ===
100 users; time 16:24:23
 test data_loader(per batch size): 79
 Testing accuracy: 0.946300 loss: 0.180064
 Testing Label Acc: [0.9857142567634583, 0.9885462522506714, 0.944767415523529, 0.9504950642585754, 0.9490835070610046, 0.8968609571456909, 0.962421715259552, 0.9377431869506836, 0.9147843718528748, 0.9226957559585571]
 Testing Avg Label Acc : 0.9453112483024597
 Poison Acc: 0.0622568093385214
======
Model_Weight_Norm : tensor(0.0520)
Model_weight_Slope: tensor(-0.0535)
Test end 16:24:25
-------------------------------------------------------------------------

round_time:  15.309614658355713

Randomly selected 100/300 users for federated learning. 16:24:25
0/100 are attackers with poison attack
 count(target label):  100
=== Round  12, Average loss 0.054797 ===
100 users; time 16:24:38
 test data_loader(per batch size): 79
 Testing accuracy: 0.946100 loss: 0.176578
 Testing Label Acc: [0.9846938848495483, 0.9885462522506714, 0.9467054009437561, 0.9495049715042114, 0.9389002323150635, 0.8867713212966919, 0.962421715259552, 0.938715934753418, 0.9199178814888, 0.9335976243019104]
 Testing Avg Label Acc : 0.9449775218963623
 Poison Acc: 0.061284046692607
======
Model_Weight_Norm : tensor(0.0434)
Model_weight_Slope: tensor(-0.0085)
Test end 16:24:41
-------------------------------------------------------------------------

round_time:  15.312703609466553

Randomly selected 100/300 users for federated learning. 16:24:41
1/100 are attackers with poison attack
 count(target label):  100
=== Round  13, Average loss 0.065011 ===
100 users; time 16:24:54
 test data_loader(per batch size): 79
 Testing accuracy: 0.927500 loss: 0.242007
 Testing Label Acc: [0.981632649898529, 0.9850220084190369, 0.9515503644943237, 0.9465346336364746, 0.9399185180664062, 0.8957399129867554, 0.968684732913971, 0.7198443412780762, 0.9363449811935425, 0.9464816451072693]
 Testing Avg Label Acc : 0.9271753787994385
 Poison Acc: 0.2801556420233463
======
Model_Weight_Norm : tensor(0.1719)
Model_weight_Slope: tensor(0.1285)
Test end 16:24:56
-------------------------------------------------------------------------

round_time:  15.32613492012024

Randomly selected 100/300 users for federated learning. 16:24:56
1/100 are attackers with poison attack
 count(target label):  100
=== Round  14, Average loss 0.075455 ===
100 users; time 16:25:09
 test data_loader(per batch size): 79
 Testing accuracy: 0.925200 loss: 0.255891
 Testing Label Acc: [0.9826530814170837, 0.9885462522506714, 0.9467054009437561, 0.9346534609794617, 0.9521384835243225, 0.8587443828582764, 0.9655532240867615, 0.7324903011322021, 0.9435318112373352, 0.9395440816879272]
 Testing Avg Label Acc : 0.9244560480117798
 Poison Acc: 0.26750972762645914
======
Model_Weight_Norm : tensor(0.1128)
Model_weight_Slope: tensor(-0.0592)
Test end 16:25:11
-------------------------------------------------------------------------

round_time:  15.313298463821411

Randomly selected 100/300 users for federated learning. 16:25:11
1/100 are attackers with poison attack
 count(target label):  100
=== Round  15, Average loss 0.075272 ===
100 users; time 16:25:24
 test data_loader(per batch size): 79
 Testing accuracy: 0.929400 loss: 0.255139
 Testing Label Acc: [0.9806122183799744, 0.9903083443641663, 0.9350775480270386, 0.9356435537338257, 0.9307535886764526, 0.8733183741569519, 0.968684732913971, 0.7811284065246582, 0.9435318112373352, 0.9474727511405945]
 Testing Avg Label Acc : 0.9286531329154968
 Poison Acc: 0.2188715953307393
======
Model_Weight_Norm : tensor(0.1021)
Model_weight_Slope: tensor(-0.0107)
Test end 16:25:27
-------------------------------------------------------------------------

round_time:  15.25437045097351

Randomly selected 100/300 users for federated learning. 16:25:27
0/100 are attackers with poison attack
 count(target label):  100
=== Round  16, Average loss 0.052588 ===
100 users; time 16:25:39
 test data_loader(per batch size): 79
 Testing accuracy: 0.947100 loss: 0.186916
 Testing Label Acc: [0.9857142567634583, 0.9885462522506714, 0.9437984228134155, 0.9396039843559265, 0.9419552087783813, 0.9058296084403992, 0.9665970802307129, 0.911478579044342, 0.9312114715576172, 0.9484637975692749]
 Testing Avg Label Acc : 0.94631986618042
 Poison Acc: 0.08852140077821012
======
Model_Weight_Norm : tensor(0.1093)
Model_weight_Slope: tensor(0.0072)
Test end 16:25:42
-------------------------------------------------------------------------

round_time:  15.22092318534851

Randomly selected 100/300 users for federated learning. 16:25:42
0/100 are attackers with poison attack
 count(target label):  100
=== Round  17, Average loss 0.046701 ===
100 users; time 16:25:55
 test data_loader(per batch size): 79
 Testing accuracy: 0.949000 loss: 0.173543
 Testing Label Acc: [0.9857142567634583, 0.9894273281097412, 0.9525193572044373, 0.9415841698646545, 0.9419552087783813, 0.902466356754303, 0.9645093679428101, 0.9406614899635315, 0.9168378114700317, 0.9444994926452637]
 Testing Avg Label Acc : 0.9480174839496612
 Poison Acc: 0.05933852140077821
======
Model_Weight_Norm : tensor(0.0618)
Model_weight_Slope: tensor(-0.0475)
Test end 16:25:57
-------------------------------------------------------------------------

round_time:  15.258486032485962

Randomly selected 100/300 users for federated learning. 16:25:57
0/100 are attackers with poison attack
 count(target label):  100
=== Round  18, Average loss 0.043283 ===
100 users; time 16:26:10
 test data_loader(per batch size): 79
 Testing accuracy: 0.950000 loss: 0.166174
 Testing Label Acc: [0.9867346882820129, 0.9867841601371765, 0.9544573426246643, 0.9485148787498474, 0.9450101852416992, 0.902466356754303, 0.962421715259552, 0.9416342377662659, 0.9199178814888, 0.9425173401832581]
 Testing Avg Label Acc : 0.9490458786487579
 Poison Acc: 0.058365758754863814
======
Model_Weight_Norm : tensor(0.0444)
Model_weight_Slope: tensor(-0.0174)
Test end 16:26:12
-------------------------------------------------------------------------

round_time:  15.29707145690918

Randomly selected 100/300 users for federated learning. 16:26:12
0/100 are attackers with poison attack
 count(target label):  100
=== Round  19, Average loss 0.043847 ===
100 users; time 16:26:25
 test data_loader(per batch size): 79
 Testing accuracy: 0.950500 loss: 0.161466
 Testing Label Acc: [0.9857142567634583, 0.9876651763916016, 0.942829430103302, 0.9564356207847595, 0.9470468163490295, 0.902466356754303, 0.9645093679428101, 0.9416342377662659, 0.9229979515075684, 0.9444994926452637]
 Testing Avg Label Acc : 0.9495798707008362
 Poison Acc: 0.058365758754863814
======
Model_Weight_Norm : tensor(0.0381)
Model_weight_Slope: tensor(-0.0062)
Test end 16:26:28
-------------------------------------------------------------------------

round_time:  15.252190113067627

Randomly selected 100/300 users for federated learning. 16:26:28
0/100 are attackers with poison attack
 count(target label):  100
=== Round  20, Average loss 0.043969 ===
100 users; time 16:26:40
 test data_loader(per batch size): 79
 Testing accuracy: 0.951700 loss: 0.159098
 Testing Label Acc: [0.9867346882820129, 0.9894273281097412, 0.9515503644943237, 0.9564356207847595, 0.9460285305976868, 0.9114349484443665, 0.9655532240867615, 0.9416342377662659, 0.9158110618591309, 0.9435084462165833]
 Testing Avg Label Acc : 0.9508118450641632
 Poison Acc: 0.058365758754863814
======
Model_Weight_Norm : tensor(0.0346)
Model_weight_Slope: tensor(-0.0035)
Test end 16:26:43
-------------------------------------------------------------------------

round_time:  15.268671989440918

Randomly selected 100/300 users for federated learning. 16:26:43
1/100 are attackers with poison attack
 count(target label):  100
=== Round  21, Average loss 0.063231 ===
100 users; time 16:26:56
 test data_loader(per batch size): 79
 Testing accuracy: 0.936500 loss: 0.2096
 Testing Label Acc: [0.981632649898529, 0.9814978241920471, 0.9534883499145508, 0.9554455280303955, 0.9419552087783813, 0.8912556171417236, 0.9665970802307129, 0.7898832559585571, 0.9496920108795166, 0.9484637975692749]
 Testing Avg Label Acc : 0.9359911322593689
 Poison Acc: 0.21011673151750973
======
Model_Weight_Norm : tensor(0.1684)
Model_weight_Slope: tensor(0.1337)
Test end 16:26:59
-------------------------------------------------------------------------

round_time:  15.84020209312439

Randomly selected 100/300 users for federated learning. 16:26:59
1/100 are attackers with poison attack
 count(target label):  100
=== Round  22, Average loss 0.062704 ===
100 users; time 16:27:13
 test data_loader(per batch size): 79
 Testing accuracy: 0.938400 loss: 0.220125
 Testing Label Acc: [0.9795918464660645, 0.9876651763916016, 0.9496123790740967, 0.9455445408821106, 0.9551934599876404, 0.9047085046768188, 0.9676409363746643, 0.7918288111686707, 0.9507187008857727, 0.9474727511405945]
 Testing Avg Label Acc : 0.9379977107048034
 Poison Acc: 0.20817120622568094
======
Model_Weight_Norm : tensor(0.1096)
Model_weight_Slope: tensor(-0.0588)
Test end 16:27:15
-------------------------------------------------------------------------

round_time:  16.557384729385376

Randomly selected 100/300 users for federated learning. 16:27:15
1/100 are attackers with poison attack
 count(target label):  100
=== Round  23, Average loss 0.068742 ===
100 users; time 16:27:29
 test data_loader(per batch size): 79
 Testing accuracy: 0.943500 loss: 0.218614
 Testing Label Acc: [0.9836734533309937, 0.9894273281097412, 0.9515503644943237, 0.9534653425216675, 0.9501018524169922, 0.8957399129867554, 0.9676409363746643, 0.8356031179428101, 0.9507187008857727, 0.9504460096359253]
 Testing Avg Label Acc : 0.9428367018699646
 Poison Acc: 0.16439688715953307
======
Model_Weight_Norm : tensor(0.0988)
Model_weight_Slope: tensor(-0.0108)
Test end 16:27:32
-------------------------------------------------------------------------

round_time:  16.499614715576172

Randomly selected 100/300 users for federated learning. 16:27:32
0/100 are attackers with poison attack
 count(target label):  100
=== Round  24, Average loss 0.048960 ===
100 users; time 16:27:45
 test data_loader(per batch size): 79
 Testing accuracy: 0.952400 loss: 0.168115
 Testing Label Acc: [0.9857142567634583, 0.9894273281097412, 0.9486433863639832, 0.9564356207847595, 0.9521384835243225, 0.9069506525993347, 0.9645093679428101, 0.9270427823066711, 0.9342916011810303, 0.9504460096359253]
 Testing Avg Label Acc : 0.9515599489212037
 Poison Acc: 0.07295719844357977
======
Model_Weight_Norm : tensor(0.0990)
Model_weight_Slope: tensor(0.0002)
Test end 16:27:48
-------------------------------------------------------------------------

round_time:  15.85315752029419

Randomly selected 100/300 users for federated learning. 16:27:48
1/100 are attackers with poison attack
 count(target label):  100
=== Round  25, Average loss 0.063545 ===
100 users; time 16:28:01
 test data_loader(per batch size): 79
 Testing accuracy: 0.937000 loss: 0.226495
 Testing Label Acc: [0.9795918464660645, 0.9876651763916016, 0.9544573426246643, 0.9524752497673035, 0.9389002323150635, 0.9035874605178833, 0.9697285890579224, 0.7752918004989624, 0.9507187008857727, 0.9534192085266113]
 Testing Avg Label Acc : 0.9365835607051849
 Poison Acc: 0.2247081712062257
======
Model_Weight_Norm : tensor(0.1375)
Model_weight_Slope: tensor(0.0385)
Test end 16:28:03
-------------------------------------------------------------------------

round_time:  15.588688611984253

Randomly selected 100/300 users for federated learning. 16:28:03
1/100 are attackers with poison attack
 count(target label):  100
=== Round  26, Average loss 0.069898 ===
100 users; time 16:28:16
 test data_loader(per batch size): 79
 Testing accuracy: 0.942200 loss: 0.221216
 Testing Label Acc: [0.9795918464660645, 0.9885462522506714, 0.9476743936538696, 0.9524752497673035, 0.9368635416030884, 0.9069506525993347, 0.9697285890579224, 0.8317120671272278, 0.9496920108795166, 0.9534192085266113]
 Testing Avg Label Acc : 0.941665381193161
 Poison Acc: 0.16828793774319067
======
Model_Weight_Norm : tensor(0.1036)
Model_weight_Slope: tensor(-0.0340)
Test end 16:28:18
-------------------------------------------------------------------------

round_time:  15.11423110961914

Randomly selected 100/300 users for federated learning. 16:28:18
0/100 are attackers with poison attack
 count(target label):  100
=== Round  27, Average loss 0.047492 ===
100 users; time 16:28:31
 test data_loader(per batch size): 79
 Testing accuracy: 0.953900 loss: 0.163827
 Testing Label Acc: [0.9857142567634583, 0.9894273281097412, 0.9476743936538696, 0.9495049715042114, 0.9551934599876404, 0.9204035997390747, 0.9665970802307129, 0.9367704391479492, 0.9322382211685181, 0.9484637975692749]
 Testing Avg Label Acc : 0.9531987547874451
 Poison Acc: 0.0632295719844358
======
Model_Weight_Norm : tensor(0.1066)
Model_weight_Slope: tensor(0.0030)
Test end 16:28:34
-------------------------------------------------------------------------

round_time:  15.221601247787476

Randomly selected 100/300 users for federated learning. 16:28:34
1/100 are attackers with poison attack
 count(target label):  100
=== Round  28, Average loss 0.062056 ===
100 users; time 16:28:46
 test data_loader(per batch size): 79
 Testing accuracy: 0.936400 loss: 0.223876
 Testing Label Acc: [0.9867346882820129, 0.9850220084190369, 0.9418604373931885, 0.9415841698646545, 0.9439918398857117, 0.8991031646728516, 0.9676409363746643, 0.7801556587219238, 0.9579055309295654, 0.9563924670219421]
 Testing Avg Label Acc : 0.9360390901565552
 Poison Acc: 0.2198443579766537
======
Model_Weight_Norm : tensor(0.1283)
Model_weight_Slope: tensor(0.0217)
Test end 16:28:49
-------------------------------------------------------------------------

round_time:  15.172385454177856

Randomly selected 100/300 users for federated learning. 16:28:49
0/100 are attackers with poison attack
 count(target label):  100
=== Round  29, Average loss 0.048771 ===
100 users; time 16:29:02
 test data_loader(per batch size): 79
 Testing accuracy: 0.953400 loss: 0.161125
 Testing Label Acc: [0.9867346882820129, 0.9876651763916016, 0.9515503644943237, 0.9485148787498474, 0.958248496055603, 0.9181614518165588, 0.9655532240867615, 0.9250972867012024, 0.9383983612060547, 0.9474727511405945]
 Testing Avg Label Acc : 0.952739667892456
 Poison Acc: 0.07490272373540856
======
Model_Weight_Norm : tensor(0.0956)
Model_weight_Slope: tensor(-0.0327)
Test end 16:29:04
-------------------------------------------------------------------------

round_time:  15.494317770004272

Randomly selected 100/300 users for federated learning. 16:29:04
0/100 are attackers with poison attack
 count(target label):  100
=== Round  30, Average loss 0.037407 ===
100 users; time 16:29:19
 test data_loader(per batch size): 79
 Testing accuracy: 0.955100 loss: 0.149232
 Testing Label Acc: [0.9887754917144775, 0.9876651763916016, 0.9534883499145508, 0.9574257135391235, 0.9562118053436279, 0.9170403480529785, 0.9634655714035034, 0.9426069855690002, 0.9322382211685181, 0.9444994926452637]
 Testing Avg Label Acc : 0.9543417155742645
 Poison Acc: 0.057392996108949414
======
Model_Weight_Norm : tensor(0.0564)
Model_weight_Slope: tensor(-0.0392)
Test end 16:29:22
-------------------------------------------------------------------------

round_time:  17.428208589553833

Randomly selected 100/300 users for federated learning. 16:29:22
0/100 are attackers with poison attack
 count(target label):  100
=== Round  31, Average loss 0.037174 ===
100 users; time 16:29:37
 test data_loader(per batch size): 79
 Testing accuracy: 0.956700 loss: 0.142549
 Testing Label Acc: [0.9887754917144775, 0.9867841601371765, 0.9515503644943237, 0.9603960514068604, 0.9592667818069458, 0.9282511472702026, 0.9561586380004883, 0.9474708437919617, 0.9373716711997986, 0.9444994926452637]
 Testing Avg Label Acc : 0.9560524642467498
 Poison Acc: 0.05252918287937743
======
Model_Weight_Norm : tensor(0.0399)
Model_weight_Slope: tensor(-0.0165)
Test end 16:29:40
-------------------------------------------------------------------------

round_time:  17.728031396865845

Randomly selected 100/300 users for federated learning. 16:29:40
0/100 are attackers with poison attack
 count(target label):  100
=== Round  32, Average loss 0.036356 ===
100 users; time 16:29:53
 test data_loader(per batch size): 79
 Testing accuracy: 0.956600 loss: 0.140715
 Testing Label Acc: [0.9887754917144775, 0.9885462522506714, 0.9496123790740967, 0.9643564224243164, 0.9541751742362976, 0.9204035997390747, 0.9613778591156006, 0.9474708437919617, 0.9332649111747742, 0.9504460096359253]
 Testing Avg Label Acc : 0.9558428943157196
 Poison Acc: 0.05252918287937743
======
Model_Weight_Norm : tensor(0.0344)
Model_weight_Slope: tensor(-0.0056)
Test end 16:29:56
-------------------------------------------------------------------------

round_time:  16.058354139328003

Randomly selected 100/300 users for federated learning. 16:29:56
0/100 are attackers with poison attack
 count(target label):  100
=== Round  33, Average loss 0.032190 ===
100 users; time 16:30:09
 test data_loader(per batch size): 79
 Testing accuracy: 0.957100 loss: 0.140153
 Testing Label Acc: [0.9887754917144775, 0.9894273281097412, 0.9525193572044373, 0.9693069458007812, 0.9602851271629333, 0.926008939743042, 0.9613778591156006, 0.951361894607544, 0.9240246415138245, 0.9405351877212524]
 Testing Avg Label Acc : 0.9563622772693634
 Poison Acc: 0.048638132295719845
======
Model_Weight_Norm : tensor(0.0331)
Model_weight_Slope: tensor(-0.0013)
Test end 16:30:11
-------------------------------------------------------------------------

round_time:  15.7441246509552

Randomly selected 100/300 users for federated learning. 16:30:11
0/100 are attackers with poison attack
 count(target label):  100
=== Round  34, Average loss 0.034430 ===
100 users; time 16:30:24
 test data_loader(per batch size): 79
 Testing accuracy: 0.958800 loss: 0.135869
 Testing Label Acc: [0.9887754917144775, 0.9894273281097412, 0.9534883499145508, 0.9673267602920532, 0.9653767943382263, 0.939461886882782, 0.9634655714035034, 0.951361894607544, 0.9240246415138245, 0.9395440816879272]
 Testing Avg Label Acc : 0.958225280046463
 Poison Acc: 0.048638132295719845
======
Model_Weight_Norm : tensor(0.0302)
Model_weight_Slope: tensor(-0.0028)
Test end 16:30:27
-------------------------------------------------------------------------

round_time:  15.46496057510376

Randomly selected 100/300 users for federated learning. 16:30:27
1/100 are attackers with poison attack
 count(target label):  100
=== Round  35, Average loss 0.057546 ===
100 users; time 16:30:40
 test data_loader(per batch size): 79
 Testing accuracy: 0.938400 loss: 0.199636
 Testing Label Acc: [0.9867346882820129, 0.9911894202232361, 0.9544573426246643, 0.9613861441612244, 0.9531568288803101, 0.9103139042854309, 0.9655532240867615, 0.7568093538284302, 0.9445585012435913, 0.9563924670219421]
 Testing Avg Label Acc : 0.9380551874637604
 Poison Acc: 0.24319066147859922
======
Model_Weight_Norm : tensor(0.1964)
Model_weight_Slope: tensor(0.1661)
Test end 16:30:42
-------------------------------------------------------------------------

round_time:  15.373236179351807

Randomly selected 100/300 users for federated learning. 16:30:42
0/100 are attackers with poison attack
 count(target label):  100
=== Round  36, Average loss 0.040235 ===
100 users; time 16:30:55
 test data_loader(per batch size): 79
 Testing accuracy: 0.955600 loss: 0.146778
 Testing Label Acc: [0.9857142567634583, 0.9894273281097412, 0.9544573426246643, 0.9653465151786804, 0.9592667818069458, 0.9304932951927185, 0.9655532240867615, 0.9075875282287598, 0.9394250512123108, 0.9534192085266113]
 Testing Avg Label Acc : 0.9550690531730652
 Poison Acc: 0.09241245136186771
======
Model_Weight_Norm : tensor(0.0797)
Model_weight_Slope: tensor(-0.1167)
Test end 16:30:57
-------------------------------------------------------------------------

round_time:  15.32555627822876

Randomly selected 100/300 users for federated learning. 16:30:57
0/100 are attackers with poison attack
 count(target label):  100
=== Round  37, Average loss 0.034079 ===
100 users; time 16:31:10
 test data_loader(per batch size): 79
 Testing accuracy: 0.958800 loss: 0.136883
 Testing Label Acc: [0.9897959232330322, 0.9903083443641663, 0.9515503644943237, 0.9673267602920532, 0.9572301506996155, 0.9248878955841064, 0.9655532240867615, 0.9416342377662659, 0.9394250512123108, 0.9534192085266113]
 Testing Avg Label Acc : 0.9581131160259246
 Poison Acc: 0.058365758754863814
======
Model_Weight_Norm : tensor(0.0482)
Model_weight_Slope: tensor(-0.0315)
Test end 16:31:13
-------------------------------------------------------------------------

round_time:  15.169436931610107

Randomly selected 100/300 users for federated learning. 16:31:13
1/100 are attackers with poison attack
 count(target label):  100
=== Round  38, Average loss 0.054783 ===
100 users; time 16:31:26
 test data_loader(per batch size): 79
 Testing accuracy: 0.943800 loss: 0.190282
 Testing Label Acc: [0.9867346882820129, 0.9859030842781067, 0.9651162624359131, 0.9495049715042114, 0.9419552087783813, 0.945067286491394, 0.9697285890579224, 0.7879377603530884, 0.9466118812561035, 0.959365725517273]
 Testing Avg Label Acc : 0.9437925457954407
 Poison Acc: 0.21206225680933852
======
Model_Weight_Norm : tensor(0.1626)
Model_weight_Slope: tensor(0.1144)
Test end 16:31:28
-------------------------------------------------------------------------

round_time:  15.347902536392212

Randomly selected 100/300 users for federated learning. 16:31:28
0/100 are attackers with poison attack
 count(target label):  100
=== Round  39, Average loss 0.038926 ===
100 users; time 16:31:41
 test data_loader(per batch size): 79
 Testing accuracy: 0.958500 loss: 0.14116
 Testing Label Acc: [0.9887754917144775, 0.9885462522506714, 0.961240291595459, 0.9574257135391235, 0.9480651617050171, 0.9405829310417175, 0.9665970802307129, 0.9309338331222534, 0.9435318112373352, 0.9544103145599365]
 Testing Avg Label Acc : 0.9580108880996704
 Poison Acc: 0.06906614785992218
======
Model_Weight_Norm : tensor(0.0875)
Model_weight_Slope: tensor(-0.0751)
Test end 16:31:43
-------------------------------------------------------------------------

round_time:  15.010257959365845

Randomly selected 100/300 users for federated learning. 16:31:43
0/100 are attackers with poison attack
 count(target label):  100
=== Round  40, Average loss 0.033615 ===
100 users; time 16:31:56
 test data_loader(per batch size): 79
 Testing accuracy: 0.959600 loss: 0.133502
 Testing Label Acc: [0.9897959232330322, 0.9885462522506714, 0.9563953280448914, 0.9623762369155884, 0.9572301506996155, 0.9293721914291382, 0.9655532240867615, 0.9435797929763794, 0.9435318112373352, 0.9534192085266113]
 Testing Avg Label Acc : 0.9589800119400025
 Poison Acc: 0.05642023346303502
======
Model_Weight_Norm : tensor(0.0443)
Model_weight_Slope: tensor(-0.0432)
Test end 16:31:58
-------------------------------------------------------------------------

round_time:  15.177062511444092

Randomly selected 100/300 users for federated learning. 16:31:58
1/100 are attackers with poison attack
 count(target label):  100
=== Round  41, Average loss 0.052061 ===
100 users; time 16:32:11
 test data_loader(per batch size): 79
 Testing accuracy: 0.942000 loss: 0.198199
 Testing Label Acc: [0.9887754917144775, 0.9841409921646118, 0.9583333134651184, 0.9514851570129395, 0.9562118053436279, 0.9192824959754944, 0.9676409363746643, 0.7752918004989624, 0.9640657305717468, 0.9534192085266113]
 Testing Avg Label Acc : 0.9418646931648255
 Poison Acc: 0.2247081712062257
======
Model_Weight_Norm : tensor(0.1590)
Model_weight_Slope: tensor(0.1147)
Test end 16:32:13
-------------------------------------------------------------------------

round_time:  15.254995107650757

Randomly selected 100/300 users for federated learning. 16:32:13
1/100 are attackers with poison attack
 count(target label):  100
=== Round  42, Average loss 0.058375 ===
100 users; time 16:32:26
 test data_loader(per batch size): 79
 Testing accuracy: 0.942600 loss: 0.212194
 Testing Label Acc: [0.9897959232330322, 0.9885462522506714, 0.9573643207550049, 0.9495049715042114, 0.9562118053436279, 0.915919303894043, 0.9697285890579224, 0.7840467095375061, 0.9579055309295654, 0.9544103145599365]
 Testing Avg Label Acc : 0.9423433721065522
 Poison Acc: 0.21595330739299612
======
Model_Weight_Norm : tensor(0.1049)
Model_weight_Slope: tensor(-0.0541)
Test end 16:32:29
-------------------------------------------------------------------------

round_time:  15.335858345031738

Randomly selected 100/300 users for federated learning. 16:32:29
1/100 are attackers with poison attack
 count(target label):  100
=== Round  43, Average loss 0.064661 ===
100 users; time 16:32:42
 test data_loader(per batch size): 79
 Testing accuracy: 0.946600 loss: 0.203216
 Testing Label Acc: [0.9857142567634583, 0.9859030842781067, 0.942829430103302, 0.9584158658981323, 0.9592667818069458, 0.902466356754303, 0.9697285890579224, 0.838521420955658, 0.9640657305717468, 0.9544103145599365]
 Testing Avg Label Acc : 0.9461321830749512
 Poison Acc: 0.1614785992217899
======
Model_Weight_Norm : tensor(0.1031)
Model_weight_Slope: tensor(-0.0018)
Test end 16:32:44
-------------------------------------------------------------------------

round_time:  15.184726476669312

Randomly selected 100/300 users for federated learning. 16:32:44
1/100 are attackers with poison attack
 count(target label):  100
=== Round  44, Average loss 0.061697 ===
100 users; time 16:32:57
 test data_loader(per batch size): 79
 Testing accuracy: 0.948600 loss: 0.203814
 Testing Label Acc: [0.9836734533309937, 0.9903083443641663, 0.9563953280448914, 0.9564356207847595, 0.9429734945297241, 0.9181614518165588, 0.9718163013458252, 0.8346303701400757, 0.9599589109420776, 0.9672943353652954]
 Testing Avg Label Acc : 0.9481647610664368
 Poison Acc: 0.16536964980544747
======
Model_Weight_Norm : tensor(0.0951)
Model_weight_Slope: tensor(-0.0080)
Test end 16:32:59
-------------------------------------------------------------------------

round_time:  15.400726556777954

Randomly selected 100/300 users for federated learning. 16:32:59
0/100 are attackers with poison attack
 count(target label):  100
=== Round  45, Average loss 0.041710 ===
100 users; time 16:33:12
 test data_loader(per batch size): 79
 Testing accuracy: 0.960800 loss: 0.142516
 Testing Label Acc: [0.9867346882820129, 0.9894273281097412, 0.9534883499145508, 0.9623762369155884, 0.9572301506996155, 0.9271300435066223, 0.9665970802307129, 0.9426069855690002, 0.9609856009483337, 0.9554013609886169]
 Testing Avg Label Acc : 0.9601977825164795
 Poison Acc: 0.057392996108949414
======
Model_Weight_Norm : tensor(0.1055)
Model_weight_Slope: tensor(0.0104)
Test end 16:33:15
-------------------------------------------------------------------------

round_time:  15.381566047668457

Randomly selected 100/300 users for federated learning. 16:33:15
0/100 are attackers with poison attack
 count(target label):  100
=== Round  46, Average loss 0.034373 ===
100 users; time 16:33:28
 test data_loader(per batch size): 79
 Testing accuracy: 0.959700 loss: 0.13391
 Testing Label Acc: [0.9887754917144775, 0.9903083443641663, 0.9563953280448914, 0.9633663296699524, 0.958248496055603, 0.9170403480529785, 0.9665970802307129, 0.9464980363845825, 0.9507187008857727, 0.9514370560646057]
 Testing Avg Label Acc : 0.9589385211467742
 Poison Acc: 0.053501945525291826
======
Model_Weight_Norm : tensor(0.0539)
Model_weight_Slope: tensor(-0.0516)
Test end 16:33:30
-------------------------------------------------------------------------

round_time:  15.35211992263794

Randomly selected 100/300 users for federated learning. 16:33:30
1/100 are attackers with poison attack
 count(target label):  100
=== Round  47, Average loss 0.052542 ===
100 users; time 16:33:43
 test data_loader(per batch size): 79
 Testing accuracy: 0.945700 loss: 0.1912
 Testing Label Acc: [0.9867346882820129, 0.9867841601371765, 0.9563953280448914, 0.9683168530464172, 0.9501018524169922, 0.884529173374176, 0.9718163013458252, 0.8180933594703674, 0.9650924205780029, 0.962338924407959]
 Testing Avg Label Acc : 0.9450203061103821
 Poison Acc: 0.1819066147859922
======
Model_Weight_Norm : tensor(0.1431)
Model_weight_Slope: tensor(0.0892)
Test end 16:33:45
-------------------------------------------------------------------------

round_time:  15.324453830718994

Randomly selected 100/300 users for federated learning. 16:33:45
0/100 are attackers with poison attack
 count(target label):  100
=== Round  48, Average loss 0.040883 ===
100 users; time 16:34:00
 test data_loader(per batch size): 79
 Testing accuracy: 0.959800 loss: 0.138537
 Testing Label Acc: [0.9867346882820129, 0.9894273281097412, 0.9515503644943237, 0.9693069458007812, 0.9633401036262512, 0.9181614518165588, 0.9676409363746643, 0.9426069855690002, 0.9507187008857727, 0.9514370560646057]
 Testing Avg Label Acc : 0.9590924561023713
 Poison Acc: 0.057392996108949414
======
Model_Weight_Norm : tensor(0.0908)
Model_weight_Slope: tensor(-0.0523)
Test end 16:34:02
-------------------------------------------------------------------------

round_time:  16.761171579360962

Randomly selected 100/300 users for federated learning. 16:34:02
0/100 are attackers with poison attack
 count(target label):  100
=== Round  49, Average loss 0.032503 ===
100 users; time 16:34:17
 test data_loader(per batch size): 79
 Testing accuracy: 0.960200 loss: 0.132506
 Testing Label Acc: [0.9867346882820129, 0.9885462522506714, 0.9534883499145508, 0.9742574095726013, 0.9613034725189209, 0.9136771559715271, 0.9676409363746643, 0.948443591594696, 0.9476386308670044, 0.9524281620979309]
 Testing Avg Label Acc : 0.959415864944458
 Poison Acc: 0.05155642023346303
======
Model_Weight_Norm : tensor(0.0447)
Model_weight_Slope: tensor(-0.0461)
Test end 16:34:20
-------------------------------------------------------------------------

round_time:  17.589983224868774

Randomly selected 100/300 users for federated learning. 16:34:20
1/100 are attackers with poison attack
 count(target label):  100
=== Round  50, Average loss 0.051619 ===
100 users; time 16:34:35
 test data_loader(per batch size): 79
 Testing accuracy: 0.948400 loss: 0.189068
 Testing Label Acc: [0.9846938848495483, 0.9903083443641663, 0.9583333134651184, 0.9683168530464172, 0.9562118053436279, 0.9170403480529785, 0.9728600978851318, 0.8132295608520508, 0.9589322209358215, 0.9603567719459534]
 Testing Avg Label Acc : 0.9480283200740814
 Poison Acc: 0.1867704280155642
======
Model_Weight_Norm : tensor(0.1578)
Model_weight_Slope: tensor(0.1131)
Test end 16:34:37
-------------------------------------------------------------------------

round_time:  17.66200542449951

Randomly selected 100/300 users for federated learning. 16:34:37
0/100 are attackers with poison attack
 count(target label):  100
=== Round  51, Average loss 0.036883 ===
100 users; time 16:34:52
 test data_loader(per batch size): 79
 Testing accuracy: 0.960700 loss: 0.135773
 Testing Label Acc: [0.9877551198005676, 0.9911894202232361, 0.961240291595459, 0.9564356207847595, 0.9643584489822388, 0.9417040348052979, 0.9697285890579224, 0.9309338331222534, 0.9486653208732605, 0.9504460096359253]
 Testing Avg Label Acc : 0.960245668888092
 Poison Acc: 0.06906614785992218
======
Model_Weight_Norm : tensor(0.0900)
Model_weight_Slope: tensor(-0.0679)
Test end 16:34:55
-------------------------------------------------------------------------

round_time:  17.637065172195435

Randomly selected 100/300 users for federated learning. 16:34:55
1/100 are attackers with poison attack
 count(target label):  100
=== Round  52, Average loss 0.051387 ===
100 users; time 16:35:09
 test data_loader(per batch size): 79
 Testing accuracy: 0.944500 loss: 0.200548
 Testing Label Acc: [0.9846938848495483, 0.9867841601371765, 0.9641472697257996, 0.9594059586524963, 0.9378818869590759, 0.9147982001304626, 0.9697285890579224, 0.7869649529457092, 0.9671458005905151, 0.9702675938606262]
 Testing Avg Label Acc : 0.9441818296909332
 Poison Acc: 0.2130350194552529
======
Model_Weight_Norm : tensor(0.1361)
Model_weight_Slope: tensor(0.0461)
Test end 16:35:12
-------------------------------------------------------------------------

round_time:  16.62709140777588

Randomly selected 100/300 users for federated learning. 16:35:12
0/100 are attackers with poison attack
 count(target label):  100
=== Round  53, Average loss 0.041309 ===
100 users; time 16:35:25
 test data_loader(per batch size): 79
 Testing accuracy: 0.961100 loss: 0.13675
 Testing Label Acc: [0.9897959232330322, 0.9903083443641663, 0.9602712988853455, 0.9584158658981323, 0.9551934599876404, 0.9372197389602661, 0.9676409363746643, 0.9309338331222534, 0.9599589109420776, 0.9563924670219421]
 Testing Avg Label Acc : 0.960613077878952
 Poison Acc: 0.06906614785992218
======
Model_Weight_Norm : tensor(0.0932)
Model_weight_Slope: tensor(-0.0429)
Test end 16:35:27
-------------------------------------------------------------------------

round_time:  15.494104146957397

Randomly selected 100/300 users for federated learning. 16:35:27
0/100 are attackers with poison attack
 count(target label):  100
=== Round  54, Average loss 0.030079 ===
100 users; time 16:35:42
 test data_loader(per batch size): 79
 Testing accuracy: 0.962200 loss: 0.126151
 Testing Label Acc: [0.9887754917144775, 0.9885462522506714, 0.9573643207550049, 0.9693069458007812, 0.958248496055603, 0.926008939743042, 0.9707724452018738, 0.9494163393974304, 0.9548254609107971, 0.9524281620979309]
 Testing Avg Label Acc : 0.9615692853927612
 Poison Acc: 0.05058365758754864
======
Model_Weight_Norm : tensor(0.0518)
Model_weight_Slope: tensor(-0.0414)
Test end 16:35:45
-------------------------------------------------------------------------

round_time:  17.63510251045227

Randomly selected 100/300 users for federated learning. 16:35:45
0/100 are attackers with poison attack
 count(target label):  100
=== Round  55, Average loss 0.025851 ===
100 users; time 16:36:00
 test data_loader(per batch size): 79
 Testing accuracy: 0.962000 loss: 0.122903
 Testing Label Acc: [0.9908163547515869, 0.9894273281097412, 0.9583333134651184, 0.9613861441612244, 0.9653767943382263, 0.9282511472702026, 0.9728600978851318, 0.9552529454231262, 0.9466118812561035, 0.9454905986785889]
 Testing Avg Label Acc : 0.961380660533905
 Poison Acc: 0.04474708171206226
======
Model_Weight_Norm : tensor(0.0375)
Model_weight_Slope: tensor(-0.0143)
Test end 16:36:02
-------------------------------------------------------------------------

round_time:  17.55355405807495

Randomly selected 100/300 users for federated learning. 16:36:02
0/100 are attackers with poison attack
 count(target label):  100
=== Round  56, Average loss 0.029348 ===
100 users; time 16:36:17
 test data_loader(per batch size): 79
 Testing accuracy: 0.963500 loss: 0.119655
 Testing Label Acc: [0.9918367266654968, 0.9911894202232361, 0.9573643207550049, 0.9643564224243164, 0.9623218178749084, 0.9327354431152344, 0.9697285890579224, 0.957198441028595, 0.9507187008857727, 0.9514370560646057]
 Testing Avg Label Acc : 0.9628886938095093
 Poison Acc: 0.042801556420233464
======
Model_Weight_Norm : tensor(0.0320)
Model_weight_Slope: tensor(-0.0055)
Test end 16:36:20
-------------------------------------------------------------------------

round_time:  17.553858518600464

Randomly selected 100/300 users for federated learning. 16:36:20
0/100 are attackers with poison attack
 count(target label):  100
=== Round  57, Average loss 0.025748 ===
100 users; time 16:36:35
 test data_loader(per batch size): 79
 Testing accuracy: 0.963500 loss: 0.118359
 Testing Label Acc: [0.9908163547515869, 0.9903083443641663, 0.961240291595459, 0.9623762369155884, 0.9643584489822388, 0.926008939743042, 0.9718163013458252, 0.9533073902130127, 0.9548254609107971, 0.9534192085266113]
 Testing Avg Label Acc : 0.9628476977348328
 Poison Acc: 0.04669260700389105
======
Model_Weight_Norm : tensor(0.0272)
Model_weight_Slope: tensor(-0.0048)
Test end 16:36:38
-------------------------------------------------------------------------

round_time:  17.554628610610962

Randomly selected 100/300 users for federated learning. 16:36:38
1/100 are attackers with poison attack
 count(target label):  100
=== Round  58, Average loss 0.044270 ===
100 users; time 16:36:53
 test data_loader(per batch size): 79
 Testing accuracy: 0.948500 loss: 0.177494
 Testing Label Acc: [0.9867346882820129, 0.9885462522506714, 0.9602712988853455, 0.9564356207847595, 0.9592667818069458, 0.9237667918205261, 0.9759916663169861, 0.801556408405304, 0.9650924205780029, 0.9653121829032898]
 Testing Avg Label Acc : 0.9482974112033844
 Poison Acc: 0.19844357976653695
======
Model_Weight_Norm : tensor(0.1833)
Model_weight_Slope: tensor(0.1560)
Test end 16:36:55
-------------------------------------------------------------------------

round_time:  17.60564637184143

Randomly selected 100/300 users for federated learning. 16:36:55
0/100 are attackers with poison attack
 count(target label):  100
=== Round  59, Average loss 0.034135 ===
100 users; time 16:37:10
 test data_loader(per batch size): 79
 Testing accuracy: 0.963300 loss: 0.127111
 Testing Label Acc: [0.9887754917144775, 0.9911894202232361, 0.9602712988853455, 0.9594059586524963, 0.9643584489822388, 0.9428251385688782, 0.9749478101730347, 0.9338521361351013, 0.9579055309295654, 0.9554013609886169]
 Testing Avg Label Acc : 0.962893259525299
 Poison Acc: 0.06614785992217899
======
Model_Weight_Norm : tensor(0.0816)
Model_weight_Slope: tensor(-0.1016)
Test end 16:37:13
-------------------------------------------------------------------------

round_time:  17.58953857421875

Randomly selected 100/300 users for federated learning. 16:37:13
1/100 are attackers with poison attack
 count(target label):  100
=== Round  60, Average loss 0.050270 ===
100 users; time 16:37:28
 test data_loader(per batch size): 79
 Testing accuracy: 0.946900 loss: 0.192522
 Testing Label Acc: [0.981632649898529, 0.9911894202232361, 0.9563953280448914, 0.9623762369155884, 0.9674134254455566, 0.9192824959754944, 0.9780793190002441, 0.7850194573402405, 0.9630390405654907, 0.962338924407959]
 Testing Avg Label Acc : 0.9466766297817231
 Poison Acc: 0.21498054474708173
======
Model_Weight_Norm : tensor(0.1435)
Model_weight_Slope: tensor(0.0618)
Test end 16:37:30
-------------------------------------------------------------------------

round_time:  17.63831400871277

Randomly selected 100/300 users for federated learning. 16:37:30
0/100 are attackers with poison attack
 count(target label):  100
=== Round  61, Average loss 0.036513 ===
100 users; time 16:37:45
 test data_loader(per batch size): 79
 Testing accuracy: 0.964700 loss: 0.128143
 Testing Label Acc: [0.9887754917144775, 0.992951512336731, 0.9583333134651184, 0.9584158658981323, 0.9663951396942139, 0.9461883306503296, 0.9739039540290833, 0.9396887421607971, 0.9589322209358215, 0.959365725517273]
 Testing Avg Label Acc : 0.9642950296401978
 Poison Acc: 0.06031128404669261
======
Model_Weight_Norm : tensor(0.0945)
Model_weight_Slope: tensor(-0.0490)
Test end 16:37:48
-------------------------------------------------------------------------

round_time:  17.248653888702393

Randomly selected 100/300 users for federated learning. 16:37:48
0/100 are attackers with poison attack
 count(target label):  100
=== Round  62, Average loss 0.025819 ===
100 users; time 16:38:00
 test data_loader(per batch size): 79
 Testing accuracy: 0.965400 loss: 0.11859
 Testing Label Acc: [0.9887754917144775, 0.992951512336731, 0.9573643207550049, 0.9594059586524963, 0.9684317708015442, 0.9484304785728455, 0.9707724452018738, 0.9494163393974304, 0.9558521509170532, 0.9583746194839478]
 Testing Avg Label Acc : 0.9649775087833404
 Poison Acc: 0.05058365758754864
======
Model_Weight_Norm : tensor(0.0473)
Model_weight_Slope: tensor(-0.0472)
Test end 16:38:03
-------------------------------------------------------------------------

round_time:  15.278148889541626

Randomly selected 100/300 users for federated learning. 16:38:03
1/100 are attackers with poison attack
 count(target label):  100
=== Round  63, Average loss 0.049959 ===
100 users; time 16:38:16
 test data_loader(per batch size): 79
 Testing accuracy: 0.946900 loss: 0.192359
 Testing Label Acc: [0.9846938848495483, 0.9867841601371765, 0.9660852551460266, 0.9603960514068604, 0.9480651617050171, 0.9293721914291382, 0.9739039540290833, 0.7898832559585571, 0.9589322209358215, 0.969276487827301]
 Testing Avg Label Acc : 0.946739262342453
 Poison Acc: 0.21011673151750973
======
Model_Weight_Norm : tensor(0.1764)
Model_weight_Slope: tensor(0.1291)
Test end 16:38:18
-------------------------------------------------------------------------

round_time:  15.32933783531189

Randomly selected 100/300 users for federated learning. 16:38:18
0/100 are attackers with poison attack
 count(target label):  100
=== Round  64, Average loss 0.040848 ===
100 users; time 16:38:31
 test data_loader(per batch size): 79
 Testing accuracy: 0.962800 loss: 0.129666
 Testing Label Acc: [0.9857142567634583, 0.9903083443641663, 0.9583333134651184, 0.9663366079330444, 0.9592667818069458, 0.931614339351654, 0.9728600978851318, 0.9357976913452148, 0.9589322209358215, 0.9633300304412842]
 Testing Avg Label Acc : 0.962249368429184
 Poison Acc: 0.06420233463035019
======
Model_Weight_Norm : tensor(0.0938)
Model_weight_Slope: tensor(-0.0826)
Test end 16:38:34
-------------------------------------------------------------------------

round_time:  15.404146671295166

Randomly selected 100/300 users for federated learning. 16:38:34
0/100 are attackers with poison attack
 count(target label):  100
=== Round  65, Average loss 0.034655 ===
100 users; time 16:38:46
 test data_loader(per batch size): 79
 Testing accuracy: 0.965000 loss: 0.118377
 Testing Label Acc: [0.9887754917144775, 0.9911894202232361, 0.9593023061752319, 0.9683168530464172, 0.958248496055603, 0.9349775910377502, 0.9718163013458252, 0.957198441028595, 0.953798770904541, 0.9603567719459534]
 Testing Avg Label Acc : 0.9643980443477631
 Poison Acc: 0.042801556420233464
======
Model_Weight_Norm : tensor(0.0532)
Model_weight_Slope: tensor(-0.0406)
Test end 16:38:49
-------------------------------------------------------------------------

round_time:  15.343209743499756

Randomly selected 100/300 users for federated learning. 16:38:49
0/100 are attackers with poison attack
 count(target label):  100
=== Round  66, Average loss 0.030415 ===
100 users; time 16:39:02
 test data_loader(per batch size): 79
 Testing accuracy: 0.964600 loss: 0.115408
 Testing Label Acc: [0.9887754917144775, 0.9903083443641663, 0.9563953280448914, 0.9663366079330444, 0.9602851271629333, 0.9293721914291382, 0.9718163013458252, 0.9659532904624939, 0.9517453908920288, 0.9583746194839478]
 Testing Avg Label Acc : 0.9639362692832947
 Poison Acc: 0.03404669260700389
======
Model_Weight_Norm : tensor(0.0361)
Model_weight_Slope: tensor(-0.0171)
Test end 16:39:04
-------------------------------------------------------------------------

round_time:  15.362534284591675

Randomly selected 100/300 users for federated learning. 16:39:04
0/100 are attackers with poison attack
 count(target label):  100
=== Round  67, Average loss 0.025146 ===
100 users; time 16:39:17
 test data_loader(per batch size): 79
 Testing accuracy: 0.965600 loss: 0.113861
 Testing Label Acc: [0.9897959232330322, 0.9920704960823059, 0.9486433863639832, 0.9663366079330444, 0.9613034725189209, 0.9304932951927185, 0.9697285890579224, 0.9678988456726074, 0.9650924205780029, 0.9583746194839478]
 Testing Avg Label Acc : 0.9649737656116486
 Poison Acc: 0.032101167315175094
======
Model_Weight_Norm : tensor(0.0305)
Model_weight_Slope: tensor(-0.0056)
Test end 16:39:20
-------------------------------------------------------------------------

round_time:  15.319397449493408

Randomly selected 100/300 users for federated learning. 16:39:20
1/100 are attackers with poison attack
 count(target label):  100
=== Round  68, Average loss 0.049407 ===
100 users; time 16:39:32
 test data_loader(per batch size): 79
 Testing accuracy: 0.952200 loss: 0.164094
 Testing Label Acc: [0.9836734533309937, 0.9894273281097412, 0.9583333134651184, 0.9693069458007812, 0.9592667818069458, 0.9147982001304626, 0.9749478101730347, 0.8336575627326965, 0.966119110584259, 0.9682854413986206]
 Testing Avg Label Acc : 0.9517815947532654
 Poison Acc: 0.16634241245136186
======
Model_Weight_Norm : tensor(0.1717)
Model_weight_Slope: tensor(0.1412)
Test end 16:39:35
-------------------------------------------------------------------------

round_time:  15.32321286201477

Randomly selected 100/300 users for federated learning. 16:39:35
0/100 are attackers with poison attack
 count(target label):  100
=== Round  69, Average loss 0.032126 ===
100 users; time 16:39:48
 test data_loader(per batch size): 79
 Testing accuracy: 0.965600 loss: 0.119653
 Testing Label Acc: [0.9877551198005676, 0.9920704960823059, 0.961240291595459, 0.9633663296699524, 0.9735234379768372, 0.9360986351966858, 0.9739039540290833, 0.9455252885818481, 0.9589322209358215, 0.9583746194839478]
 Testing Avg Label Acc : 0.9650790393352509
 Poison Acc: 0.054474708171206226
======
Model_Weight_Norm : tensor(0.0807)
Model_weight_Slope: tensor(-0.0910)
Test end 16:39:50
-------------------------------------------------------------------------

round_time:  15.33720874786377

Randomly selected 100/300 users for federated learning. 16:39:50
1/100 are attackers with poison attack
 count(target label):  100
=== Round  70, Average loss 0.045048 ===
100 users; time 16:40:03
 test data_loader(per batch size): 79
 Testing accuracy: 0.949300 loss: 0.182443
 Testing Label Acc: [0.9846938848495483, 0.9850220084190369, 0.9660852551460266, 0.9603960514068604, 0.9562118053436279, 0.9192824959754944, 0.9749478101730347, 0.8103112578392029, 0.9681724905967712, 0.9653121829032898]
 Testing Avg Label Acc : 0.9490435242652893
 Poison Acc: 0.18968871595330739
======
Model_Weight_Norm : tensor(0.1380)
Model_weight_Slope: tensor(0.0574)
Test end 16:40:06
-------------------------------------------------------------------------

round_time:  15.499073505401611

Randomly selected 100/300 users for federated learning. 16:40:06
1/100 are attackers with poison attack
 count(target label):  100
=== Round  71, Average loss 0.051975 ===
100 users; time 16:40:21
 test data_loader(per batch size): 79
 Testing accuracy: 0.953900 loss: 0.174331
 Testing Label Acc: [0.9826530814170837, 0.9911894202232361, 0.9651162624359131, 0.9564356207847595, 0.9592667818069458, 0.9215246438980103, 0.9749478101730347, 0.8560311198234558, 0.9620122909545898, 0.9653121829032898]
 Testing Avg Label Acc : 0.9534489214420319
 Poison Acc: 0.14396887159533073
======
Model_Weight_Norm : tensor(0.0906)
Model_weight_Slope: tensor(-0.0474)
Test end 16:40:23
-------------------------------------------------------------------------

round_time:  17.62287712097168

Randomly selected 100/300 users for federated learning. 16:40:23
0/100 are attackers with poison attack
 count(target label):  100
=== Round  72, Average loss 0.034163 ===
100 users; time 16:40:36
 test data_loader(per batch size): 79
 Testing accuracy: 0.966000 loss: 0.122029
 Testing Label Acc: [0.9887754917144775, 0.9911894202232361, 0.9651162624359131, 0.9633663296699524, 0.9643584489822388, 0.9439461827278137, 0.9739039540290833, 0.948443591594696, 0.9579055309295654, 0.9583746194839478]
 Testing Avg Label Acc : 0.9655379831790925
 Poison Acc: 0.05155642023346303
======
Model_Weight_Norm : tensor(0.0937)
Model_weight_Slope: tensor(0.0031)
Test end 16:40:39
-------------------------------------------------------------------------

round_time:  15.116576194763184

Randomly selected 100/300 users for federated learning. 16:40:39
0/100 are attackers with poison attack
 count(target label):  100
=== Round  73, Average loss 0.028367 ===
100 users; time 16:40:51
 test data_loader(per batch size): 79
 Testing accuracy: 0.967400 loss: 0.113928
 Testing Label Acc: [0.9897959232330322, 0.9920704960823059, 0.9641472697257996, 0.9663366079330444, 0.9633401036262512, 0.939461886882782, 0.9728600978851318, 0.9620622396469116, 0.9589322209358215, 0.959365725517273]
 Testing Avg Label Acc : 0.9668372571468353
 Poison Acc: 0.037937743190661476
======
Model_Weight_Norm : tensor(0.0502)
Model_weight_Slope: tensor(-0.0435)
Test end 16:40:54
-------------------------------------------------------------------------

round_time:  15.275721311569214

Randomly selected 100/300 users for federated learning. 16:40:54
0/100 are attackers with poison attack
 count(target label):  100
=== Round  74, Average loss 0.023948 ===
100 users; time 16:41:07
 test data_loader(per batch size): 79
 Testing accuracy: 0.966700 loss: 0.111442
 Testing Label Acc: [0.9897959232330322, 0.9911894202232361, 0.961240291595459, 0.9663366079330444, 0.976578414440155, 0.9372197389602661, 0.968684732913971, 0.9620622396469116, 0.9558521509170532, 0.9524281620979309]
 Testing Avg Label Acc : 0.966138768196106
 Poison Acc: 0.037937743190661476
======
Model_Weight_Norm : tensor(0.0359)
Model_weight_Slope: tensor(-0.0144)
Test end 16:41:09
-------------------------------------------------------------------------

round_time:  15.064755201339722

Randomly selected 100/300 users for federated learning. 16:41:09
0/100 are attackers with poison attack
 count(target label):  100
=== Round  75, Average loss 0.026068 ===
100 users; time 16:41:22
 test data_loader(per batch size): 79
 Testing accuracy: 0.967200 loss: 0.108739
 Testing Label Acc: [0.9897959232330322, 0.9911894202232361, 0.9602712988853455, 0.9722772240638733, 0.9714867472648621, 0.9360986351966858, 0.9728600978851318, 0.9620622396469116, 0.9558521509170532, 0.9544103145599365]
 Testing Avg Label Acc : 0.9666304051876068
 Poison Acc: 0.037937743190661476
======
Model_Weight_Norm : tensor(0.0294)
Model_weight_Slope: tensor(-0.0065)
Test end 16:41:25
-------------------------------------------------------------------------

round_time:  15.627681970596313

Randomly selected 100/300 users for federated learning. 16:41:25
0/100 are attackers with poison attack
 count(target label):  100
=== Round  76, Average loss 0.027994 ===
100 users; time 16:41:37
 test data_loader(per batch size): 79
 Testing accuracy: 0.967600 loss: 0.10574
 Testing Label Acc: [0.9897959232330322, 0.9911894202232361, 0.9660852551460266, 0.9633663296699524, 0.9633401036262512, 0.9439461827278137, 0.9728600978851318, 0.9601167440414429, 0.9579055309295654, 0.962338924407959]
 Testing Avg Label Acc : 0.9670944511890411
 Poison Acc: 0.03988326848249027
======
Model_Weight_Norm : tensor(0.0290)
Model_weight_Slope: tensor(-0.0004)
Test end 16:41:40
-------------------------------------------------------------------------

round_time:  15.36738896369934

Randomly selected 100/300 users for federated learning. 16:41:40
0/100 are attackers with poison attack
 count(target label):  100
=== Round  77, Average loss 0.023175 ===
100 users; time 16:41:53
 test data_loader(per batch size): 79
 Testing accuracy: 0.968100 loss: 0.104446
 Testing Label Acc: [0.9887754917144775, 0.9911894202232361, 0.9670542478561401, 0.9633663296699524, 0.9643584489822388, 0.9517937302589417, 0.9728600978851318, 0.9620622396469116, 0.9579055309295654, 0.9573835730552673]
 Testing Avg Label Acc : 0.9676749110221863
 Poison Acc: 0.037937743190661476
======
Model_Weight_Norm : tensor(0.0239)
Model_weight_Slope: tensor(-0.0051)
Test end 16:41:55
-------------------------------------------------------------------------

round_time:  15.355357885360718

Randomly selected 100/300 users for federated learning. 16:41:55
1/100 are attackers with poison attack
 count(target label):  100
=== Round  78, Average loss 0.050118 ===
100 users; time 16:42:08
 test data_loader(per batch size): 79
 Testing accuracy: 0.949100 loss: 0.171893
 Testing Label Acc: [0.981632649898529, 0.9894273281097412, 0.9622092843055725, 0.9673267602920532, 0.9501018524169922, 0.9192824959754944, 0.980167031288147, 0.7976653575897217, 0.966119110584259, 0.9742318987846375]
 Testing Avg Label Acc : 0.9488163769245148
 Poison Acc: 0.20233463035019456
======
Model_Weight_Norm : tensor(0.1964)
Model_weight_Slope: tensor(0.1725)
Test end 16:42:11
-------------------------------------------------------------------------

round_time:  15.330923795700073

Randomly selected 100/300 users for federated learning. 16:42:11
0/100 are attackers with poison attack
 count(target label):  100
=== Round  79, Average loss 0.031871 ===
100 users; time 16:42:23
 test data_loader(per batch size): 79
 Testing accuracy: 0.966800 loss: 0.11276
 Testing Label Acc: [0.9867346882820129, 0.9920704960823059, 0.9554263353347778, 0.9663366079330444, 0.9643584489822388, 0.9484304785728455, 0.9749478101730347, 0.9494163393974304, 0.9640657305717468, 0.962338924407959]
 Testing Avg Label Acc : 0.9664125859737396
 Poison Acc: 0.05058365758754864
======
Model_Weight_Norm : tensor(0.0886)
Model_weight_Slope: tensor(-0.1079)
Test end 16:42:25
-------------------------------------------------------------------------

round_time:  14.515679836273193

total_time:  1269.4700419902802
=== End ===
