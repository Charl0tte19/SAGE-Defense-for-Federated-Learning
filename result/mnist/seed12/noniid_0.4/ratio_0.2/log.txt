Namespace(aggregation='FedAvg', attack_mode='poison', attack_ratio=0.2, attacker_file='./mnist/seed_12/noniid_0.4/ratio_0.2/attacker.txt', bs=128, dataset='mnist', device=device(type='cuda', index=0), epochs=80, frequency=1, gpu=0, local_bs=10, local_ep=5, local_file='./mnist/seed_12/noniid_0.4/ratio_0.2/local.txt', lr=0.01, model_path='./mnist/seed_12/noniid_0.4/ratio_0.2/final.pt', momentum=0.5, noniid=0.4, num_attacker=100, pretrained_model='./mnist/seed_12/noniid_0.4/ratio_0.2/poison_0.2_notScale_0.pt(8).pt1', sample_users=100, scale=False, seed=12, shuffle=False, target_label=7, target_random=True, test_label_acc=True, total_users=1000, vae_model='', verbose=False)
non-iid_per_local:  21
iid_per_local:  33
label 0 : 5336
example -> idx: 4682 = 0
label 1 : 6112
example -> idx: 10259 = 1
label 2 : 5358
example -> idx: 16221 = 2
label 3 : 5504
example -> idx: 19899 = 3
label 4 : 5247
example -> idx: 25383 = 4
label 5 : 4872
example -> idx: 28423 = 5
label 6 : 5347
example -> idx: 33381 = 6
label 7 : 5597
example -> idx: 40801 = 7
label 8 : 5254
example -> idx: 45823 = 8
label 9 : 5373
example -> idx: 50151 = 9

0 :  536
1 :  1312
2 :  558
3 :  704
4 :  447
5 :  72
6 :  547
7 :  797
8 :  454
9 :  573

[0, 1, 2, 3, 4, 6, 7, 8, 9]
[0, 1, 2, 3, 4, 6, 7, 9]
[0, 1, 2, 3, 6, 7, 9]
[0, 1, 2, 3, 6, 7]
[1, 2, 3, 6, 7]
[1, 3, 6, 7]
[1, 3, 7]
[1, 7]
0 :  0
1 :  566
2 :  0
3 :  0
4 :  0
5 :  0
6 :  0
7 :  67
8 :  0
9 :  0

[1]
[]
0 :  0
1 :  0
2 :  0
3 :  0
4 :  0
5 :  0
6 :  0
7 :  0
8 :  0
9 :  0


[33636 37388 33091 33983 34675 36540 32833 33008 36576 35637 37730 33485
 33374 37167 34479 34665 35619 33392 33232 36863 33134  1081  2749  4052
  6478  5968  6465 13591 14590 12439 20504 21131 20294 22362 24089 27431
 29208 29946 29307 38893 41126 42402 48007 44039 44751 49590 50224 52927
  3624 40902 26841 14796 53670 21086  6335]
[6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 0 0 0 1 1 1 2 2 2 3 3 3 4 4 4 5
 5 5 7 7 7 8 8 8 9 9 9 0 7 4 2 9 3 1]
CNN_Model(
  (cnn1): Conv2d(1, 16, kernel_size=(5, 5), stride=(1, 1))
  (relu1): ReLU()
  (maxpool1): MaxPool2d(kernel_size=2, stride=2, padding=0, dilation=1, ceil_mode=False)
  (cnn2): Conv2d(16, 32, kernel_size=(5, 5), stride=(1, 1))
  (relu2): ReLU()
  (maxpool2): MaxPool2d(kernel_size=2, stride=2, padding=0, dilation=1, ceil_mode=False)
  (fc1): Linear(in_features=512, out_features=10, bias=True)
)
locals:  [6, 518, 522, 11, 524, 526, 15, 529, 21, 25, 543, 553, 46, 49, 60, 578, 68, 592, 596, 599, 87, 609, 98, 615, 616, 113, 116, 122, 124, 144, 657, 668, 158, 671, 161, 172, 686, 687, 176, 183, 190, 195, 711, 713, 719, 725, 213, 217, 226, 739, 756, 757, 250, 262, 777, 270, 791, 280, 799, 289, 294, 809, 810, 815, 308, 309, 824, 316, 322, 837, 343, 856, 350, 866, 358, 886, 385, 911, 401, 402, 404, 408, 926, 931, 420, 435, 955, 449, 966, 454, 972, 466, 469, 981, 476, 481, 995, 996, 495, 500, 4, 10, 17, 20, 31, 544, 34, 547, 548, 551, 555, 47, 55, 58, 65, 71, 76, 593, 83, 85, 600, 603, 91, 94, 607, 621, 624, 625, 626, 635, 637, 136, 652, 150, 152, 155, 164, 165, 168, 682, 684, 692, 185, 198, 200, 206, 724, 221, 734, 736, 228, 234, 243, 245, 246, 764, 271, 786, 795, 802, 291, 804, 807, 813, 305, 819, 311, 314, 321, 840, 331, 333, 334, 848, 868, 874, 373, 379, 893, 387, 390, 395, 400, 921, 410, 411, 924, 425, 428, 436, 441, 963, 477, 993, 998, 487, 491, 502, 507, 510, 9, 525, 16, 50, 577, 579, 84, 88, 96, 614, 105, 617, 108, 115, 134, 135, 648, 138, 654, 660, 151, 670, 166, 170, 685, 688, 690, 696, 698, 191, 703, 706, 709, 710, 202, 205, 721, 210, 214, 728, 729, 219, 225, 738, 741, 231, 744, 746, 235, 241, 266, 267, 782, 274, 278, 284, 288, 803, 805, 300, 306, 315, 830, 835, 843, 851, 348, 861, 862, 865, 867, 872, 881, 382, 386, 391, 908, 399, 918, 925, 421, 935, 936, 937, 426, 938, 432, 949, 438, 954, 443, 445, 958, 964, 970, 459, 977, 474, 997, 505]
target_label: [7, 3]

number of attacker:  27
all attacker:  [435, 977, 425, 688, 757, 924, 243, 400, 214, 710, 124, 202, 399, 810, 314, 331, 428, 305, 835, 284, 481, 724, 300, 824, 459, 278, 843]

Randomly selected 100/300 users for federated learning. 15:59:14
6/100 are attackers with poison attack
 count(target label):  100
=== Round   0, Average loss 0.191424 ===
100 users; time 15:59:28
 test data_loader(per batch size): 79
 Testing accuracy: 0.946500 loss: 0.16862
 Testing Label Acc: [0.9846938848495483, 0.9850220084190369, 0.940891444683075, 0.894059419631958, 0.9470468163490295, 0.9551569223403931, 0.9676409363746643, 0.8949416279792786, 0.9373716711997986, 0.9573835730552673]
 Testing Avg Label Acc : 0.9464208304882049
 Poison Acc: 0.10549558390578999
======
Model_Weight_Norm : tensor(0.)
Model_weight_Slope: tensor(0.)
Test end 15:59:30
-------------------------------------------------------------------------

round_time:  16.431845664978027

Randomly selected 100/300 users for federated learning. 15:59:30
9/100 are attackers with poison attack
 count(target label):  100
=== Round   1, Average loss 0.223702 ===
100 users; time 15:59:44
 test data_loader(per batch size): 79
 Testing accuracy: 0.945900 loss: 0.172405
 Testing Label Acc: [0.9846938848495483, 0.9867841601371765, 0.944767415523529, 0.8871287107467651, 0.9562118053436279, 0.9562780261039734, 0.9707724452018738, 0.8774319291114807, 0.9383983612060547, 0.9563924670219421]
 Testing Avg Label Acc : 0.9458859205245972
 Poison Acc: 0.11776251226692837
======
Model_Weight_Norm : tensor(0.0537)
Model_weight_Slope: tensor(0.0537)
Test end 15:59:47
-------------------------------------------------------------------------

round_time:  16.641977071762085

Randomly selected 100/300 users for federated learning. 15:59:47
7/100 are attackers with poison attack
 count(target label):  100
=== Round   2, Average loss 0.183629 ===
100 users; time 15:59:59
 test data_loader(per batch size): 79
 Testing accuracy: 0.948400 loss: 0.162658
 Testing Label Acc: [0.9857142567634583, 0.9850220084190369, 0.9457364082336426, 0.89702969789505, 0.9602851271629333, 0.9618834257125854, 0.9665970802307129, 0.8881322741508484, 0.941478431224823, 0.9524281620979309]
 Testing Avg Label Acc : 0.9484306871891022
 Poison Acc: 0.10745829244357213
======
Model_Weight_Norm : tensor(0.0479)
Model_weight_Slope: tensor(-0.0058)
Test end 16:00:01
-------------------------------------------------------------------------

round_time:  14.231666803359985

Randomly selected 100/300 users for federated learning. 16:00:01
8/100 are attackers with poison attack
 count(target label):  100
=== Round   3, Average loss 0.186257 ===
100 users; time 16:00:16
 test data_loader(per batch size): 79
 Testing accuracy: 0.949100 loss: 0.160125
 Testing Label Acc: [0.9857142567634583, 0.9876651763916016, 0.9457364082336426, 0.89207923412323, 0.9592667818069458, 0.9618834257125854, 0.9697285890579224, 0.8929961323738098, 0.941478431224823, 0.9544103145599365]
 Testing Avg Label Acc : 0.9490958750247955
 Poison Acc: 0.10745829244357213
======
Model_Weight_Norm : tensor(0.0424)
Model_weight_Slope: tensor(-0.0055)
Test end 16:00:18
-------------------------------------------------------------------------

round_time:  17.102651596069336

Randomly selected 100/300 users for federated learning. 16:00:18
5/100 are attackers with poison attack
 count(target label):  100
=== Round   4, Average loss 0.145015 ===
100 users; time 16:00:31
 test data_loader(per batch size): 79
 Testing accuracy: 0.952300 loss: 0.151726
 Testing Label Acc: [0.9877551198005676, 0.9885462522506714, 0.9505813717842102, 0.9019802212715149, 0.9623218178749084, 0.9641255736351013, 0.9676409363746643, 0.9066147804260254, 0.9383983612060547, 0.9544103145599365]
 Testing Avg Label Acc : 0.9522374749183655
 Poison Acc: 0.09568204121687929
======
Model_Weight_Norm : tensor(0.0470)
Model_weight_Slope: tensor(0.0046)
Test end 16:00:34
-------------------------------------------------------------------------

round_time:  15.755383253097534

Randomly selected 100/300 users for federated learning. 16:00:34
10/100 are attackers with poison attack
 count(target label):  100
=== Round   5, Average loss 0.218738 ===
100 users; time 16:00:47
 test data_loader(per batch size): 79
 Testing accuracy: 0.949300 loss: 0.160193
 Testing Label Acc: [0.9867346882820129, 0.9885462522506714, 0.9505813717842102, 0.8811880946159363, 0.9602851271629333, 0.9663677215576172, 0.9697285890579224, 0.8910505771636963, 0.9404517412185669, 0.9583746194839478]
 Testing Avg Label Acc : 0.9493308782577514
 Poison Acc: 0.11383709519136408
======
Model_Weight_Norm : tensor(0.0494)
Model_weight_Slope: tensor(0.0024)
Test end 16:00:50
-------------------------------------------------------------------------

round_time:  15.796786308288574

Randomly selected 100/300 users for federated learning. 16:00:50
7/100 are attackers with poison attack
 count(target label):  100
=== Round   6, Average loss 0.167267 ===
100 users; time 16:01:03
 test data_loader(per batch size): 79
 Testing accuracy: 0.952100 loss: 0.150614
 Testing Label Acc: [0.9877551198005676, 0.9885462522506714, 0.9476743936538696, 0.8980197906494141, 0.9623218178749084, 0.9663677215576172, 0.9697285890579224, 0.9027237296104431, 0.9404517412185669, 0.9573835730552673]
 Testing Avg Label Acc : 0.9520972728729248
 Poison Acc: 0.09960745829244357
======
Model_Weight_Norm : tensor(0.0431)
Model_weight_Slope: tensor(-0.0063)
Test end 16:01:05
-------------------------------------------------------------------------

round_time:  15.466564893722534

Randomly selected 100/300 users for federated learning. 16:01:05
4/100 are attackers with poison attack
 count(target label):  100
=== Round   7, Average loss 0.125171 ===
100 users; time 16:01:18
 test data_loader(per batch size): 79
 Testing accuracy: 0.954400 loss: 0.140683
 Testing Label Acc: [0.9877551198005676, 0.9885462522506714, 0.9486433863639832, 0.9148514866828918, 0.9633401036262512, 0.9652466177940369, 0.9676409363746643, 0.911478579044342, 0.9435318112373352, 0.9524281620979309]
 Testing Avg Label Acc : 0.9543462455272674
 Poison Acc: 0.08684985279685967
======
Model_Weight_Norm : tensor(0.0445)
Model_weight_Slope: tensor(0.0014)
Test end 16:01:21
-------------------------------------------------------------------------

round_time:  15.647273302078247

Randomly selected 100/300 users for federated learning. 16:01:21
10/100 are attackers with poison attack
 count(target label):  100
=== Round   8, Average loss 0.219587 ===
100 users; time 16:01:34
 test data_loader(per batch size): 79
 Testing accuracy: 0.951300 loss: 0.15414
 Testing Label Acc: [0.9877551198005676, 0.9885462522506714, 0.9515503644943237, 0.8752475380897522, 0.9663951396942139, 0.9686098694801331, 0.9697285890579224, 0.8988326787948608, 0.9507187008857727, 0.9563924670219421]
 Testing Avg Label Acc : 0.951377671957016
 Poison Acc: 0.11285574092247301
======
Model_Weight_Norm : tensor(0.0533)
Model_weight_Slope: tensor(0.0088)
Test end 16:01:36
-------------------------------------------------------------------------

round_time:  15.445067644119263

Randomly selected 100/300 users for federated learning. 16:01:36
8/100 are attackers with poison attack
 count(target label):  100
=== Round   9, Average loss 0.188096 ===
100 users; time 16:01:49
 test data_loader(per batch size): 79
 Testing accuracy: 0.953000 loss: 0.147799
 Testing Label Acc: [0.9877551198005676, 0.9885462522506714, 0.9544573426246643, 0.8910890817642212, 0.9623218178749084, 0.9697309136390686, 0.9697285890579224, 0.9036964774131775, 0.9404517412185669, 0.962338924407959]
 Testing Avg Label Acc : 0.9530116260051728
 Poison Acc: 0.10255152109911678
======
Model_Weight_Norm : tensor(0.0421)
Model_weight_Slope: tensor(-0.0113)
Test end 16:01:52
-------------------------------------------------------------------------

round_time:  15.371336936950684

Randomly selected 100/300 users for federated learning. 16:01:52
8/100 are attackers with poison attack
 count(target label):  100
=== Round  10, Average loss 0.173086 ===
100 users; time 16:02:04
 test data_loader(per batch size): 79
 Testing accuracy: 0.954000 loss: 0.146686
 Testing Label Acc: [0.9877551198005676, 0.9894273281097412, 0.9554263353347778, 0.89702969789505, 0.9613034725189209, 0.9674887657165527, 0.9697285890579224, 0.8978599309921265, 0.9568788409233093, 0.9573835730552673]
 Testing Avg Label Acc : 0.9540281653404236
 Poison Acc: 0.10255152109911678
======
Model_Weight_Norm : tensor(0.0405)
Model_weight_Slope: tensor(-0.0016)
Test end 16:02:07
-------------------------------------------------------------------------

round_time:  15.307727813720703

Randomly selected 100/300 users for federated learning. 16:02:07
10/100 are attackers with poison attack
 count(target label):  100
=== Round  11, Average loss 0.211988 ===
100 users; time 16:02:20
 test data_loader(per batch size): 79
 Testing accuracy: 0.952700 loss: 0.149631
 Testing Label Acc: [0.9877551198005676, 0.9885462522506714, 0.9573643207550049, 0.8871287107467651, 0.9592667818069458, 0.9708520174026489, 0.9739039540290833, 0.8900778293609619, 0.9527720808982849, 0.9603567719459534]
 Testing Avg Label Acc : 0.9528023838996887
 Poison Acc: 0.11138370951913641
======
Model_Weight_Norm : tensor(0.0410)
Model_weight_Slope: tensor(0.0006)
Test end 16:02:22
-------------------------------------------------------------------------

round_time:  15.158955812454224

Randomly selected 100/300 users for federated learning. 16:02:22
11/100 are attackers with poison attack
 count(target label):  100
=== Round  12, Average loss 0.221325 ===
100 users; time 16:02:34
 test data_loader(per batch size): 79
 Testing accuracy: 0.951500 loss: 0.153279
 Testing Label Acc: [0.9877551198005676, 0.9867841601371765, 0.9544573426246643, 0.8772277235984802, 0.9633401036262512, 0.9686098694801331, 0.9718163013458252, 0.887159526348114, 0.9548254609107971, 0.9643211364746094]
 Testing Avg Label Acc : 0.9516296744346618
 Poison Acc: 0.11776251226692837
======
Model_Weight_Norm : tensor(0.0417)
Model_weight_Slope: tensor(0.0007)
Test end 16:02:37
-------------------------------------------------------------------------

round_time:  14.625553369522095

Randomly selected 100/300 users for federated learning. 16:02:37
9/100 are attackers with poison attack
 count(target label):  100
=== Round  13, Average loss 0.192682 ===
100 users; time 16:02:50
 test data_loader(per batch size): 79
 Testing accuracy: 0.954600 loss: 0.144573
 Testing Label Acc: [0.9877551198005676, 0.9876651763916016, 0.9563953280448914, 0.8900989890098572, 0.9674134254455566, 0.9697309136390686, 0.9728600978851318, 0.9007782340049744, 0.9558521509170532, 0.9583746194839478]
 Testing Avg Label Acc : 0.954692405462265
 Poison Acc: 0.10451422963689892
======
Model_Weight_Norm : tensor(0.0397)
Model_weight_Slope: tensor(-0.0020)
Test end 16:02:52
-------------------------------------------------------------------------

round_time:  15.51149868965149

Randomly selected 100/300 users for federated learning. 16:02:52
9/100 are attackers with poison attack
 count(target label):  100
=== Round  14, Average loss 0.190177 ===
100 users; time 16:03:07
 test data_loader(per batch size): 79
 Testing accuracy: 0.956400 loss: 0.140175
 Testing Label Acc: [0.9877551198005676, 0.9885462522506714, 0.9583333134651184, 0.9029703140258789, 0.9653767943382263, 0.9674887657165527, 0.9728600978851318, 0.9007782340049744, 0.9558521509170532, 0.9643211364746094]
 Testing Avg Label Acc : 0.9564282178878785
 Poison Acc: 0.09813542688910697
======
Model_Weight_Norm : tensor(0.0375)
Model_weight_Slope: tensor(-0.0023)
Test end 16:03:10
-------------------------------------------------------------------------

round_time:  17.66404628753662

Randomly selected 100/300 users for federated learning. 16:03:10
9/100 are attackers with poison attack
 count(target label):  100
=== Round  15, Average loss 0.198065 ===
100 users; time 16:03:25
 test data_loader(per batch size): 79
 Testing accuracy: 0.956100 loss: 0.139869
 Testing Label Acc: [0.9877551198005676, 0.9876651763916016, 0.9602712988853455, 0.8980197906494141, 0.9674134254455566, 0.9674887657165527, 0.9728600978851318, 0.9027237296104431, 0.9548254609107971, 0.962338924407959]
 Testing Avg Label Acc : 0.9561361789703369
 Poison Acc: 0.09960745829244357
======
Model_Weight_Norm : tensor(0.0386)
Model_weight_Slope: tensor(0.0011)
Test end 16:03:27
-------------------------------------------------------------------------

round_time:  17.23003315925598

Randomly selected 100/300 users for federated learning. 16:03:27
15/100 are attackers with poison attack
 count(target label):  100
=== Round  16, Average loss 0.269520 ===
100 users; time 16:03:40
 test data_loader(per batch size): 79
 Testing accuracy: 0.950500 loss: 0.159905
 Testing Label Acc: [0.9877551198005676, 0.9894273281097412, 0.961240291595459, 0.8574257493019104, 0.9674134254455566, 0.9674887657165527, 0.9728600978851318, 0.8822957277297974, 0.9568788409233093, 0.9633300304412842]
 Testing Avg Label Acc : 0.950611537694931
 Poison Acc: 0.13002944062806673
======
Model_Weight_Norm : tensor(0.0552)
Model_weight_Slope: tensor(0.0166)
Test end 16:03:42
-------------------------------------------------------------------------

round_time:  15.329757928848267

Randomly selected 100/300 users for federated learning. 16:03:42
8/100 are attackers with poison attack
 count(target label):  100
=== Round  17, Average loss 0.170307 ===
100 users; time 16:03:53
 test data_loader(per batch size): 79
 Testing accuracy: 0.957400 loss: 0.136729
 Testing Label Acc: [0.9887754917144775, 0.9876651763916016, 0.9622092843055725, 0.908910870552063, 0.9674134254455566, 0.9686098694801331, 0.9728600978851318, 0.8998054265975952, 0.9558521509170532, 0.962338924407959]
 Testing Avg Label Acc : 0.9574440717697144
 Poison Acc: 0.09568204121687929
======
Model_Weight_Norm : tensor(0.0493)
Model_weight_Slope: tensor(-0.0058)
Test end 16:03:56
-------------------------------------------------------------------------

round_time:  13.360579013824463

Randomly selected 100/300 users for federated learning. 16:03:56
8/100 are attackers with poison attack
 count(target label):  100
=== Round  18, Average loss 0.171353 ===
100 users; time 16:04:09
 test data_loader(per batch size): 79
 Testing accuracy: 0.958400 loss: 0.133198
 Testing Label Acc: [0.9877551198005676, 0.9876651763916016, 0.9689922332763672, 0.905940592288971, 0.9704684615135193, 0.9719731211662292, 0.9728600978851318, 0.9046692848205566, 0.953798770904541, 0.9603567719459534]
 Testing Avg Label Acc : 0.9584479629993439
 Poison Acc: 0.09470068694798822
======
Model_Weight_Norm : tensor(0.0362)
Model_weight_Slope: tensor(-0.0132)
Test end 16:04:11
-------------------------------------------------------------------------

round_time:  15.34403371810913

Randomly selected 100/300 users for federated learning. 16:04:11
9/100 are attackers with poison attack
 count(target label):  100
=== Round  19, Average loss 0.180846 ===
100 users; time 16:04:24
 test data_loader(per batch size): 79
 Testing accuracy: 0.958500 loss: 0.133326
 Testing Label Acc: [0.9887754917144775, 0.9876651763916016, 0.9651162624359131, 0.905940592288971, 0.9714867472648621, 0.9708520174026489, 0.9728600978851318, 0.9027237296104431, 0.9568788409233093, 0.9633300304412842]
 Testing Avg Label Acc : 0.9585628986358643
 Poison Acc: 0.09568204121687929
======
Model_Weight_Norm : tensor(0.0344)
Model_weight_Slope: tensor(-0.0017)
Test end 16:04:27
-------------------------------------------------------------------------

round_time:  15.374503374099731

Randomly selected 100/300 users for federated learning. 16:04:27
10/100 are attackers with poison attack
 count(target label):  100
=== Round  20, Average loss 0.194279 ===
100 users; time 16:04:39
 test data_loader(per batch size): 79
 Testing accuracy: 0.957300 loss: 0.136274
 Testing Label Acc: [0.9887754917144775, 0.9876651763916016, 0.9651162624359131, 0.9029703140258789, 0.9704684615135193, 0.9686098694801331, 0.9728600978851318, 0.8968871831893921, 0.9599589109420776, 0.9603567719459534]
 Testing Avg Label Acc : 0.9573668539524078
 Poison Acc: 0.10009813542688911
======
Model_Weight_Norm : tensor(0.0351)
Model_weight_Slope: tensor(0.0007)
Test end 16:04:42
-------------------------------------------------------------------------

round_time:  15.36305022239685

Randomly selected 100/300 users for federated learning. 16:04:42
10/100 are attackers with poison attack
 count(target label):  100
=== Round  21, Average loss 0.196866 ===
100 users; time 16:04:55
 test data_loader(per batch size): 79
 Testing accuracy: 0.957500 loss: 0.134252
 Testing Label Acc: [0.9877551198005676, 0.9903083443641663, 0.9641472697257996, 0.8999999761581421, 0.9704684615135193, 0.9697309136390686, 0.9728600978851318, 0.8988326787948608, 0.9589322209358215, 0.962338924407959]
 Testing Avg Label Acc : 0.9575374007225037
 Poison Acc: 0.10058881256133465
======
Model_Weight_Norm : tensor(0.0330)
Model_weight_Slope: tensor(-0.0021)
Test end 16:04:57
-------------------------------------------------------------------------

round_time:  15.351397275924683

Randomly selected 100/300 users for federated learning. 16:04:57
10/100 are attackers with poison attack
 count(target label):  100
=== Round  22, Average loss 0.190977 ===
100 users; time 16:05:10
 test data_loader(per batch size): 79
 Testing accuracy: 0.958100 loss: 0.133395
 Testing Label Acc: [0.9877551198005676, 0.9903083443641663, 0.9689922332763672, 0.8999999761581421, 0.9684317708015442, 0.9686098694801331, 0.9739039540290833, 0.8988326787948608, 0.9609856009483337, 0.9633300304412842]
 Testing Avg Label Acc : 0.9581149578094482
 Poison Acc: 0.10058881256133465
======
Model_Weight_Norm : tensor(0.0348)
Model_weight_Slope: tensor(0.0018)
Test end 16:05:13
-------------------------------------------------------------------------

round_time:  15.43351411819458

Randomly selected 100/300 users for federated learning. 16:05:13
8/100 are attackers with poison attack
 count(target label):  100
=== Round  23, Average loss 0.161515 ===
100 users; time 16:05:26
 test data_loader(per batch size): 79
 Testing accuracy: 0.961300 loss: 0.125657
 Testing Label Acc: [0.9887754917144775, 0.9903083443641663, 0.9699612259864807, 0.9207921028137207, 0.9684317708015442, 0.9686098694801331, 0.9739039540290833, 0.9066147804260254, 0.9579055309295654, 0.9672943353652954]
 Testing Avg Label Acc : 0.9612597405910492
 Poison Acc: 0.08635917566241413
======
Model_Weight_Norm : tensor(0.0335)
Model_weight_Slope: tensor(-0.0013)
Test end 16:05:28
-------------------------------------------------------------------------

round_time:  15.592980146408081

Randomly selected 100/300 users for federated learning. 16:05:28
10/100 are attackers with poison attack
 count(target label):  100
=== Round  24, Average loss 0.192612 ===
100 users; time 16:05:41
 test data_loader(per batch size): 79
 Testing accuracy: 0.959300 loss: 0.129788
 Testing Label Acc: [0.9908163547515869, 0.9903083443641663, 0.9699612259864807, 0.8980197906494141, 0.9663951396942139, 0.9697309136390686, 0.9739039540290833, 0.9066147804260254, 0.9599589109420776, 0.9672943353652954]
 Testing Avg Label Acc : 0.9593003749847412
 Poison Acc: 0.09764474975466143
======
Model_Weight_Norm : tensor(0.0356)
Model_weight_Slope: tensor(0.0021)
Test end 16:05:44
-------------------------------------------------------------------------

round_time:  15.319149494171143

Randomly selected 100/300 users for federated learning. 16:05:44
10/100 are attackers with poison attack
 count(target label):  100
=== Round  25, Average loss 0.189974 ===
100 users; time 16:05:56
 test data_loader(per batch size): 79
 Testing accuracy: 0.958300 loss: 0.133205
 Testing Label Acc: [0.9887754917144775, 0.9876651763916016, 0.9748061895370483, 0.895049512386322, 0.9663951396942139, 0.9719731211662292, 0.9739039540290833, 0.8968871831893921, 0.9609856009483337, 0.9672943353652954]
 Testing Avg Label Acc : 0.9583735704421997
 Poison Acc: 0.10402355250245339
======
Model_Weight_Norm : tensor(0.0332)
Model_weight_Slope: tensor(-0.0024)
Test end 16:05:59
-------------------------------------------------------------------------

round_time:  15.386595726013184

Randomly selected 100/300 users for federated learning. 16:05:59
11/100 are attackers with poison attack
 count(target label):  100
=== Round  26, Average loss 0.214799 ===
100 users; time 16:06:12
 test data_loader(per batch size): 79
 Testing accuracy: 0.957600 loss: 0.136434
 Testing Label Acc: [0.9908163547515869, 0.9903083443641663, 0.9670542478561401, 0.8851485252380371, 0.9663951396942139, 0.9708520174026489, 0.9749478101730347, 0.9007782340049744, 0.9620122909545898, 0.9682854413986206]
 Testing Avg Label Acc : 0.9576598405838013
 Poison Acc: 0.1069676153091266
======
Model_Weight_Norm : tensor(0.0415)
Model_weight_Slope: tensor(0.0083)
Test end 16:06:14
-------------------------------------------------------------------------

round_time:  15.347448825836182

Randomly selected 100/300 users for federated learning. 16:06:14
12/100 are attackers with poison attack
 count(target label):  100
=== Round  27, Average loss 0.227284 ===
100 users; time 16:06:28
 test data_loader(per batch size): 79
 Testing accuracy: 0.956300 loss: 0.142209
 Testing Label Acc: [0.9908163547515869, 0.9885462522506714, 0.9748061895370483, 0.8752475380897522, 0.9704684615135193, 0.9742152690887451, 0.9728600978851318, 0.8900778293609619, 0.9609856009483337, 0.966303288936615]
 Testing Avg Label Acc : 0.9564326882362366
 Poison Acc: 0.11727183513248282
======
Model_Weight_Norm : tensor(0.0407)
Model_weight_Slope: tensor(-0.0008)
Test end 16:06:30
-------------------------------------------------------------------------

round_time:  15.924456357955933

Randomly selected 100/300 users for federated learning. 16:06:30
4/100 are attackers with poison attack
 count(target label):  100
=== Round  28, Average loss 0.103922 ===
100 users; time 16:06:43
 test data_loader(per batch size): 79
 Testing accuracy: 0.963800 loss: 0.114873
 Testing Label Acc: [0.9908163547515869, 0.9885462522506714, 0.9709302186965942, 0.9267326593399048, 0.9725050926208496, 0.9674887657165527, 0.9728600978851318, 0.9221789836883545, 0.9620122909545898, 0.9633300304412842]
 Testing Avg Label Acc : 0.963740074634552
 Poison Acc: 0.07556427870461237
======
Model_Weight_Norm : tensor(0.0593)
Model_weight_Slope: tensor(0.0186)
Test end 16:06:45
-------------------------------------------------------------------------

round_time:  15.17147946357727

Randomly selected 100/300 users for federated learning. 16:06:45
9/100 are attackers with poison attack
 count(target label):  100
=== Round  29, Average loss 0.176395 ===
100 users; time 16:06:58
 test data_loader(per batch size): 79
 Testing accuracy: 0.962600 loss: 0.120648
 Testing Label Acc: [0.9908163547515869, 0.9885462522506714, 0.9709302186965942, 0.9217821955680847, 0.9694501161575317, 0.9697309136390686, 0.9728600978851318, 0.911478579044342, 0.9630390405654907, 0.9672943353652954]
 Testing Avg Label Acc : 0.9625928103923798
 Poison Acc: 0.08341511285574092
======
Model_Weight_Norm : tensor(0.0336)
Model_weight_Slope: tensor(-0.0257)
Test end 16:07:01
-------------------------------------------------------------------------

round_time:  15.429006338119507

Randomly selected 100/300 users for federated learning. 16:07:01
8/100 are attackers with poison attack
 count(target label):  100
=== Round  30, Average loss 0.163081 ===
100 users; time 16:07:15
 test data_loader(per batch size): 79
 Testing accuracy: 0.961800 loss: 0.120117
 Testing Label Acc: [0.9908163547515869, 0.9894273281097412, 0.9748061895370483, 0.905940592288971, 0.9684317708015442, 0.9730941653251648, 0.9728600978851318, 0.9134241342544556, 0.9589322209358215, 0.9702675938606262]
 Testing Avg Label Acc : 0.9618000447750091
 Poison Acc: 0.09028459273797841
======
Model_Weight_Norm : tensor(0.0356)
Model_weight_Slope: tensor(0.0020)
Test end 16:07:18
-------------------------------------------------------------------------

round_time:  17.15915012359619

Randomly selected 100/300 users for federated learning. 16:07:18
7/100 are attackers with poison attack
 count(target label):  100
=== Round  31, Average loss 0.145480 ===
100 users; time 16:07:33
 test data_loader(per batch size): 79
 Testing accuracy: 0.964400 loss: 0.114008
 Testing Label Acc: [0.9908163547515869, 0.9911894202232361, 0.9748061895370483, 0.9188118577003479, 0.9663951396942139, 0.9742152690887451, 0.9728600978851318, 0.924124538898468, 0.9609856009483337, 0.969276487827301]
 Testing Avg Label Acc : 0.9643480956554413
 Poison Acc: 0.07850834151128558
======
Model_Weight_Norm : tensor(0.0323)
Model_weight_Slope: tensor(-0.0032)
Test end 16:07:36
-------------------------------------------------------------------------

round_time:  17.607595443725586

Randomly selected 100/300 users for federated learning. 16:07:36
9/100 are attackers with poison attack
 count(target label):  100
=== Round  32, Average loss 0.171634 ===
100 users; time 16:07:51
 test data_loader(per batch size): 79
 Testing accuracy: 0.963200 loss: 0.117821
 Testing Label Acc: [0.9897959232330322, 0.9911894202232361, 0.9718992114067078, 0.9178217649459839, 0.9694501161575317, 0.9697309136390686, 0.9749478101730347, 0.9134241342544556, 0.9630390405654907, 0.9702675938606262]
 Testing Avg Label Acc : 0.9631565928459167
 Poison Acc: 0.08439646712463199
======
Model_Weight_Norm : tensor(0.0334)
Model_weight_Slope: tensor(0.0010)
Test end 16:07:53
-------------------------------------------------------------------------

round_time:  17.57035207748413

Randomly selected 100/300 users for federated learning. 16:07:53
7/100 are attackers with poison attack
 count(target label):  100
=== Round  33, Average loss 0.144801 ===
100 users; time 16:08:07
 test data_loader(per batch size): 79
 Testing accuracy: 0.964000 loss: 0.113375
 Testing Label Acc: [0.9897959232330322, 0.9894273281097412, 0.9738371968269348, 0.9237623810768127, 0.9663951396942139, 0.9708520174026489, 0.9759916663169861, 0.9163424372673035, 0.9630390405654907, 0.9702675938606262]
 Testing Avg Label Acc : 0.963971072435379
 Poison Acc: 0.07998037291462218
======
Model_Weight_Norm : tensor(0.0313)
Model_weight_Slope: tensor(-0.0021)
Test end 16:08:10
-------------------------------------------------------------------------

round_time:  16.266175270080566

Randomly selected 100/300 users for federated learning. 16:08:10
7/100 are attackers with poison attack
 count(target label):  100
=== Round  34, Average loss 0.143336 ===
100 users; time 16:08:22
 test data_loader(per batch size): 79
 Testing accuracy: 0.964300 loss: 0.113347
 Testing Label Acc: [0.9908163547515869, 0.9876651763916016, 0.9757751822471619, 0.9188118577003479, 0.9725050926208496, 0.9742152690887451, 0.9728600978851318, 0.9192606806755066, 0.9630390405654907, 0.9682854413986206]
 Testing Avg Label Acc : 0.9643234193325043
 Poison Acc: 0.08096172718351324
======
Model_Weight_Norm : tensor(0.0325)
Model_weight_Slope: tensor(0.0013)
Test end 16:08:25
-------------------------------------------------------------------------

round_time:  15.153982639312744

Randomly selected 100/300 users for federated learning. 16:08:25
10/100 are attackers with poison attack
 count(target label):  100
=== Round  35, Average loss 0.184301 ===
100 users; time 16:08:37
 test data_loader(per batch size): 79
 Testing accuracy: 0.962100 loss: 0.118913
 Testing Label Acc: [0.9918367266654968, 0.9894273281097412, 0.9738371968269348, 0.89702969789505, 0.9663951396942139, 0.976457417011261, 0.9759916663169861, 0.9202334880828857, 0.9620122909545898, 0.9682854413986206]
 Testing Avg Label Acc : 0.962150639295578
 Poison Acc: 0.09126594700686948
======
Model_Weight_Norm : tensor(0.0366)
Model_weight_Slope: tensor(0.0041)
Test end 16:08:40
-------------------------------------------------------------------------

round_time:  15.315473794937134

Randomly selected 100/300 users for federated learning. 16:08:40
9/100 are attackers with poison attack
 count(target label):  100
=== Round  36, Average loss 0.169590 ===
100 users; time 16:08:53
 test data_loader(per batch size): 79
 Testing accuracy: 0.962800 loss: 0.116527
 Testing Label Acc: [0.9918367266654968, 0.9876651763916016, 0.9748061895370483, 0.8980197906494141, 0.9684317708015442, 0.9742152690887451, 0.9759916663169861, 0.9231517314910889, 0.9640657305717468, 0.9702675938606262]
 Testing Avg Label Acc : 0.9628451645374299
 Poison Acc: 0.08930323846908735
======
Model_Weight_Norm : tensor(0.0307)
Model_weight_Slope: tensor(-0.0059)
Test end 16:08:55
-------------------------------------------------------------------------

round_time:  15.2275230884552

Randomly selected 100/300 users for federated learning. 16:08:55
7/100 are attackers with poison attack
 count(target label):  100
=== Round  37, Average loss 0.140888 ===
100 users; time 16:09:08
 test data_loader(per batch size): 79
 Testing accuracy: 0.966100 loss: 0.110366
 Testing Label Acc: [0.9918367266654968, 0.9894273281097412, 0.9757751822471619, 0.9217821955680847, 0.9735234379768372, 0.9730941653251648, 0.9749478101730347, 0.9250972867012024, 0.9650924205780029, 0.9702675938606262]
 Testing Avg Label Acc : 0.9660844147205353
 Poison Acc: 0.07654563297350343
======
Model_Weight_Norm : tensor(0.0326)
Model_weight_Slope: tensor(0.0019)
Test end 16:09:11
-------------------------------------------------------------------------

round_time:  15.305308103561401

Randomly selected 100/300 users for federated learning. 16:09:11
8/100 are attackers with poison attack
 count(target label):  100
=== Round  38, Average loss 0.153919 ===
100 users; time 16:09:23
 test data_loader(per batch size): 79
 Testing accuracy: 0.965800 loss: 0.110146
 Testing Label Acc: [0.9918367266654968, 0.9876651763916016, 0.9767441749572754, 0.9316831827163696, 0.9674134254455566, 0.9697309136390686, 0.9770354628562927, 0.9221789836883545, 0.9630390405654907, 0.9702675938606262]
 Testing Avg Label Acc : 0.9657594680786132
 Poison Acc: 0.07311089303238469
======
Model_Weight_Norm : tensor(0.0304)
Model_weight_Slope: tensor(-0.0022)
Test end 16:09:26
-------------------------------------------------------------------------

round_time:  15.352495193481445

Randomly selected 100/300 users for federated learning. 16:09:26
9/100 are attackers with poison attack
 count(target label):  100
=== Round  39, Average loss 0.167341 ===
100 users; time 16:09:39
 test data_loader(per batch size): 79
 Testing accuracy: 0.965300 loss: 0.11269
 Testing Label Acc: [0.9918367266654968, 0.9876651763916016, 0.9777131676673889, 0.9207921028137207, 0.9745417237281799, 0.9753363132476807, 0.9770354628562927, 0.9173151850700378, 0.9650924205780029, 0.966303288936615]
 Testing Avg Label Acc : 0.9653631567955017
 Poison Acc: 0.08096172718351324
======
Model_Weight_Norm : tensor(0.0299)
Model_weight_Slope: tensor(-0.0005)
Test end 16:09:41
-------------------------------------------------------------------------

round_time:  15.301026105880737

Randomly selected 100/300 users for federated learning. 16:09:41
7/100 are attackers with poison attack
 count(target label):  100
=== Round  40, Average loss 0.141972 ===
100 users; time 16:09:54
 test data_loader(per batch size): 79
 Testing accuracy: 0.965300 loss: 0.109838
 Testing Label Acc: [0.9908163547515869, 0.9885462522506714, 0.9757751822471619, 0.9168316721916199, 0.9755600690841675, 0.9775784611701965, 0.9759916663169861, 0.9231517314910889, 0.9650924205780029, 0.9643211364746094]
 Testing Avg Label Acc : 0.9653664946556091
 Poison Acc: 0.07998037291462218
======
Model_Weight_Norm : tensor(0.0290)
Model_weight_Slope: tensor(-0.0009)
Test end 16:09:57
-------------------------------------------------------------------------

round_time:  15.323390007019043

Randomly selected 100/300 users for federated learning. 16:09:57
8/100 are attackers with poison attack
 count(target label):  100
=== Round  41, Average loss 0.152370 ===
100 users; time 16:10:09
 test data_loader(per batch size): 79
 Testing accuracy: 0.966500 loss: 0.107187
 Testing Label Acc: [0.9908163547515869, 0.9885462522506714, 0.9757751822471619, 0.9247524738311768, 0.9725050926208496, 0.9753363132476807, 0.9749478101730347, 0.9280155897140503, 0.9671458005905151, 0.9672943353652954]
 Testing Avg Label Acc : 0.9665135204792022
 Poison Acc: 0.07360157016683022
======
Model_Weight_Norm : tensor(0.0280)
Model_weight_Slope: tensor(-0.0010)
Test end 16:10:12
-------------------------------------------------------------------------

round_time:  15.266592979431152

Randomly selected 100/300 users for federated learning. 16:10:12
8/100 are attackers with poison attack
 count(target label):  100
=== Round  42, Average loss 0.160287 ===
100 users; time 16:10:25
 test data_loader(per batch size): 79
 Testing accuracy: 0.967000 loss: 0.10658
 Testing Label Acc: [0.9918367266654968, 0.9903083443641663, 0.9757751822471619, 0.9297029972076416, 0.9694501161575317, 0.9719731211662292, 0.9780793190002441, 0.9280155897140503, 0.9650924205780029, 0.969276487827301]
 Testing Avg Label Acc : 0.9669510304927826
 Poison Acc: 0.07114818449460256
======
Model_Weight_Norm : tensor(0.0331)
Model_weight_Slope: tensor(0.0050)
Test end 16:10:28
-------------------------------------------------------------------------

round_time:  16.01726269721985

Randomly selected 100/300 users for federated learning. 16:10:28
9/100 are attackers with poison attack
 count(target label):  100
=== Round  43, Average loss 0.159266 ===
100 users; time 16:10:43
 test data_loader(per batch size): 79
 Testing accuracy: 0.965300 loss: 0.109428
 Testing Label Acc: [0.9908163547515869, 0.9894273281097412, 0.9757751822471619, 0.9138613939285278, 0.9735234379768372, 0.9786995649337769, 0.9770354628562927, 0.9231517314910889, 0.9640657305717468, 0.9672943353652954]
 Testing Avg Label Acc : 0.9653650522232056
 Poison Acc: 0.08145240431795878
======
Model_Weight_Norm : tensor(0.0298)
Model_weight_Slope: tensor(-0.0033)
Test end 16:10:45
-------------------------------------------------------------------------

round_time:  17.55828285217285

Randomly selected 100/300 users for federated learning. 16:10:45
6/100 are attackers with poison attack
 count(target label):  100
=== Round  44, Average loss 0.126360 ===
100 users; time 16:11:00
 test data_loader(per batch size): 79
 Testing accuracy: 0.968800 loss: 0.101646
 Testing Label Acc: [0.9908163547515869, 0.9885462522506714, 0.9748061895370483, 0.9356435537338257, 0.9755600690841675, 0.9742152690887451, 0.9759916663169861, 0.9367704391479492, 0.9671458005905151, 0.9682854413986206]
 Testing Avg Label Acc : 0.9687781035900116
 Poison Acc: 0.06378802747791953
======
Model_Weight_Norm : tensor(0.0323)
Model_weight_Slope: tensor(0.0025)
Test end 16:11:02
-------------------------------------------------------------------------

round_time:  16.980602502822876

Randomly selected 100/300 users for federated learning. 16:11:02
8/100 are attackers with poison attack
 count(target label):  100
=== Round  45, Average loss 0.150452 ===
100 users; time 16:11:15
 test data_loader(per batch size): 79
 Testing accuracy: 0.967900 loss: 0.104629
 Testing Label Acc: [0.9908163547515869, 0.9885462522506714, 0.9748061895370483, 0.9297029972076416, 0.976578414440155, 0.9753363132476807, 0.9759916663169861, 0.9319066405296326, 0.9681724905967712, 0.9672943353652954]
 Testing Avg Label Acc : 0.967915165424347
 Poison Acc: 0.06918547595682041
======
Model_Weight_Norm : tensor(0.0264)
Model_weight_Slope: tensor(-0.0059)
Test end 16:11:18
-------------------------------------------------------------------------

round_time:  15.312264204025269

Randomly selected 100/300 users for federated learning. 16:11:18
8/100 are attackers with poison attack
 count(target label):  100
=== Round  46, Average loss 0.154378 ===
100 users; time 16:11:30
 test data_loader(per batch size): 79
 Testing accuracy: 0.967800 loss: 0.105688
 Testing Label Acc: [0.9908163547515869, 0.9894273281097412, 0.9777131676673889, 0.9316831827163696, 0.9735234379768372, 0.9775784611701965, 0.9770354628562927, 0.924124538898468, 0.9671458005905151, 0.969276487827301]
 Testing Avg Label Acc : 0.9678324222564697
 Poison Acc: 0.07212953876349362
======
Model_Weight_Norm : tensor(0.0301)
Model_weight_Slope: tensor(0.0037)
Test end 16:11:33
-------------------------------------------------------------------------

round_time:  15.420866250991821

Randomly selected 100/300 users for federated learning. 16:11:33
12/100 are attackers with poison attack
 count(target label):  100
=== Round  47, Average loss 0.208512 ===
100 users; time 16:11:46
 test data_loader(per batch size): 79
 Testing accuracy: 0.963000 loss: 0.117733
 Testing Label Acc: [0.9918367266654968, 0.9903083443641663, 0.9777131676673889, 0.9049504995346069, 0.9704684615135193, 0.9786995649337769, 0.9780793190002441, 0.9027237296104431, 0.9650924205780029, 0.9712586998939514]
 Testing Avg Label Acc : 0.9631130933761597
 Poison Acc: 0.09617271835132483
======
Model_Weight_Norm : tensor(0.0418)
Model_weight_Slope: tensor(0.0117)
Test end 16:11:48
-------------------------------------------------------------------------

round_time:  15.354557037353516

Randomly selected 100/300 users for federated learning. 16:11:48
15/100 are attackers with poison attack
 count(target label):  100
=== Round  48, Average loss 0.253200 ===
100 users; time 16:12:00
 test data_loader(per batch size): 79
 Testing accuracy: 0.959700 loss: 0.130035
 Testing Label Acc: [0.9918367266654968, 0.9903083443641663, 0.9777131676673889, 0.8792079091072083, 0.9714867472648621, 0.9742152690887451, 0.9791231751441956, 0.8959143757820129, 0.9671458005905151, 0.9712586998939514]
 Testing Avg Label Acc : 0.9598210215568542
 Poison Acc: 0.11236506378802748
======
Model_Weight_Norm : tensor(0.0454)
Model_weight_Slope: tensor(0.0036)
Test end 16:12:03
-------------------------------------------------------------------------

round_time:  14.483929872512817

Randomly selected 100/300 users for federated learning. 16:12:03
7/100 are attackers with poison attack
 count(target label):  100
=== Round  49, Average loss 0.134470 ===
100 users; time 16:12:15
 test data_loader(per batch size): 79
 Testing accuracy: 0.968000 loss: 0.105925
 Testing Label Acc: [0.9918367266654968, 0.9903083443641663, 0.9786821603775024, 0.9277227520942688, 0.9755600690841675, 0.9798206090927124, 0.9770354628562927, 0.9289883375167847, 0.9609856009483337, 0.969276487827301]
 Testing Avg Label Acc : 0.9680216550827027
 Poison Acc: 0.07163886162904809
======
Model_Weight_Norm : tensor(0.0490)
Model_weight_Slope: tensor(0.0036)
Test end 16:12:17
-------------------------------------------------------------------------

round_time:  14.58200716972351

Randomly selected 100/300 users for federated learning. 16:12:17
11/100 are attackers with poison attack
 count(target label):  100
=== Round  50, Average loss 0.193227 ===
100 users; time 16:12:30
 test data_loader(per batch size): 79
 Testing accuracy: 0.964300 loss: 0.11429
 Testing Label Acc: [0.9918367266654968, 0.9911894202232361, 0.979651153087616, 0.906930685043335, 0.9725050926208496, 0.9786995649337769, 0.9770354628562927, 0.9163424372673035, 0.9609856009483337, 0.9682854413986206]
 Testing Avg Label Acc : 0.9643461585044861
 Poison Acc: 0.08832188420019627
======
Model_Weight_Norm : tensor(0.0356)
Model_weight_Slope: tensor(-0.0134)
Test end 16:12:33
-------------------------------------------------------------------------

round_time:  15.261911869049072

Randomly selected 100/300 users for federated learning. 16:12:33
11/100 are attackers with poison attack
 count(target label):  100
=== Round  51, Average loss 0.187162 ===
100 users; time 16:12:46
 test data_loader(per batch size): 79
 Testing accuracy: 0.965000 loss: 0.112636
 Testing Label Acc: [0.9918367266654968, 0.9903083443641663, 0.9786821603775024, 0.909900963306427, 0.9725050926208496, 0.976457417011261, 0.9770354628562927, 0.9173151850700378, 0.966119110584259, 0.9702675938606262]
 Testing Avg Label Acc : 0.9650428056716919
 Poison Acc: 0.08635917566241413
======
Model_Weight_Norm : tensor(0.0298)
Model_weight_Slope: tensor(-0.0058)
Test end 16:12:48
-------------------------------------------------------------------------

round_time:  15.282519578933716

Randomly selected 100/300 users for federated learning. 16:12:48
11/100 are attackers with poison attack
 count(target label):  100
=== Round  52, Average loss 0.193234 ===
100 users; time 16:13:01
 test data_loader(per batch size): 79
 Testing accuracy: 0.965100 loss: 0.113181
 Testing Label Acc: [0.9918367266654968, 0.9911894202232361, 0.9786821603775024, 0.907920777797699, 0.9725050926208496, 0.9753363132476807, 0.9770354628562927, 0.9202334880828857, 0.9671458005905151, 0.969276487827301]
 Testing Avg Label Acc : 0.9651161730289459
 Poison Acc: 0.0858684985279686
======
Model_Weight_Norm : tensor(0.0305)
Model_weight_Slope: tensor(0.0006)
Test end 16:13:03
-------------------------------------------------------------------------

round_time:  15.32700490951538

Randomly selected 100/300 users for federated learning. 16:13:03
9/100 are attackers with poison attack
 count(target label):  100
=== Round  53, Average loss 0.160538 ===
100 users; time 16:13:16
 test data_loader(per batch size): 79
 Testing accuracy: 0.966400 loss: 0.107624
 Testing Label Acc: [0.9918367266654968, 0.9911894202232361, 0.9786821603775024, 0.9128713011741638, 0.9704684615135193, 0.9820627570152283, 0.9770354628562927, 0.9280155897140503, 0.9640657305717468, 0.9682854413986206]
 Testing Avg Label Acc : 0.9664513051509858
 Poison Acc: 0.07948969578017664
======
Model_Weight_Norm : tensor(0.0304)
Model_weight_Slope: tensor(-4.6745e-05)
Test end 16:13:19
-------------------------------------------------------------------------

round_time:  15.153600692749023

Randomly selected 100/300 users for federated learning. 16:13:19
5/100 are attackers with poison attack
 count(target label):  100
=== Round  54, Average loss 0.109105 ===
100 users; time 16:13:31
 test data_loader(per batch size): 79
 Testing accuracy: 0.970600 loss: 0.0967959
 Testing Label Acc: [0.9908163547515869, 0.9903083443641663, 0.9786821603775024, 0.9455445408821106, 0.9775967597961426, 0.9809417128562927, 0.9770354628562927, 0.9348248839378357, 0.966119110584259, 0.9643211364746094]
 Testing Avg Label Acc : 0.9706190466880799
 Poison Acc: 0.05986261040235525
======
Model_Weight_Norm : tensor(0.0383)
Model_weight_Slope: tensor(0.0079)
Test end 16:13:34
-------------------------------------------------------------------------

round_time:  15.136554479598999

Randomly selected 100/300 users for federated learning. 16:13:34
11/100 are attackers with poison attack
 count(target label):  100
=== Round  55, Average loss 0.183154 ===
100 users; time 16:13:46
 test data_loader(per batch size): 79
 Testing accuracy: 0.966900 loss: 0.107875
 Testing Label Acc: [0.9918367266654968, 0.9911894202232361, 0.979651153087616, 0.9148514866828918, 0.976578414440155, 0.9809417128562927, 0.9759916663169861, 0.9231517314910889, 0.9691991806030273, 0.966303288936615]
 Testing Avg Label Acc : 0.9669694781303406
 Poison Acc: 0.08096172718351324
======
Model_Weight_Norm : tensor(0.0371)
Model_weight_Slope: tensor(-0.0012)
Test end 16:13:49
-------------------------------------------------------------------------

round_time:  15.226287603378296

Randomly selected 100/300 users for federated learning. 16:13:49
8/100 are attackers with poison attack
 count(target label):  100
=== Round  56, Average loss 0.146356 ===
100 users; time 16:14:02
 test data_loader(per batch size): 79
 Testing accuracy: 0.968400 loss: 0.10154
 Testing Label Acc: [0.9918367266654968, 0.9911894202232361, 0.9786821603775024, 0.9287128448486328, 0.9704684615135193, 0.9798206090927124, 0.9770354628562927, 0.9289883375167847, 0.9691991806030273, 0.9682854413986206]
 Testing Avg Label Acc : 0.9684218645095826
 Poison Acc: 0.07114818449460256
======
Model_Weight_Norm : tensor(0.0277)
Model_weight_Slope: tensor(-0.0094)
Test end 16:14:04
-------------------------------------------------------------------------

round_time:  15.195592403411865

Randomly selected 100/300 users for federated learning. 16:14:04
8/100 are attackers with poison attack
 count(target label):  100
=== Round  57, Average loss 0.141298 ===
100 users; time 16:14:17
 test data_loader(per batch size): 79
 Testing accuracy: 0.969200 loss: 0.0994715
 Testing Label Acc: [0.9918367266654968, 0.9903083443641663, 0.9786821603775024, 0.9326732754707336, 0.9714867472648621, 0.9809417128562927, 0.9770354628562927, 0.9319066405296326, 0.9691991806030273, 0.9682854413986206]
 Testing Avg Label Acc : 0.9692355692386627
 Poison Acc: 0.06771344455348381
======
Model_Weight_Norm : tensor(0.0239)
Model_weight_Slope: tensor(-0.0038)
Test end 16:14:19
-------------------------------------------------------------------------

round_time:  15.116162776947021

Randomly selected 100/300 users for federated learning. 16:14:19
8/100 are attackers with poison attack
 count(target label):  100
=== Round  58, Average loss 0.143401 ===
100 users; time 16:14:32
 test data_loader(per batch size): 79
 Testing accuracy: 0.969000 loss: 0.0982706
 Testing Label Acc: [0.9918367266654968, 0.9885462522506714, 0.9806201457977295, 0.9336633682250977, 0.9704684615135193, 0.976457417011261, 0.9770354628562927, 0.9328793883323669, 0.9681724905967712, 0.9702675938606262]
 Testing Avg Label Acc : 0.9689947307109833
 Poison Acc: 0.06673209028459273
======
Model_Weight_Norm : tensor(0.0266)
Model_weight_Slope: tensor(0.0027)
Test end 16:14:35
-------------------------------------------------------------------------

round_time:  15.325466871261597

Randomly selected 100/300 users for federated learning. 16:14:35
10/100 are attackers with poison attack
 count(target label):  100
=== Round  59, Average loss 0.169340 ===
100 users; time 16:14:47
 test data_loader(per batch size): 79
 Testing accuracy: 0.968000 loss: 0.103218
 Testing Label Acc: [0.9918367266654968, 0.9911894202232361, 0.9777131676673889, 0.9247524738311768, 0.9735234379768372, 0.976457417011261, 0.9770354628562927, 0.9289883375167847, 0.9681724905967712, 0.9702675938606262]
 Testing Avg Label Acc : 0.9679936528205871
 Poison Acc: 0.07311089303238469
======
Model_Weight_Norm : tensor(0.0284)
Model_weight_Slope: tensor(0.0018)
Test end 16:14:50
-------------------------------------------------------------------------

round_time:  15.482099771499634

Randomly selected 100/300 users for federated learning. 16:14:50
8/100 are attackers with poison attack
 count(target label):  100
=== Round  60, Average loss 0.139433 ===
100 users; time 16:15:03
 test data_loader(per batch size): 79
 Testing accuracy: 0.969100 loss: 0.0984546
 Testing Label Acc: [0.9918367266654968, 0.9903083443641663, 0.9806201457977295, 0.9306930899620056, 0.9735234379768372, 0.9730941653251648, 0.9791231751441956, 0.9328793883323669, 0.9691991806030273, 0.969276487827301]
 Testing Avg Label Acc : 0.9690554141998291
 Poison Acc: 0.06820412168792934
======
Model_Weight_Norm : tensor(0.0270)
Model_weight_Slope: tensor(-0.0014)
Test end 16:15:05
-------------------------------------------------------------------------

round_time:  15.243934631347656

Randomly selected 100/300 users for federated learning. 16:15:05
10/100 are attackers with poison attack
 count(target label):  100
=== Round  61, Average loss 0.169298 ===
100 users; time 16:15:18
 test data_loader(per batch size): 79
 Testing accuracy: 0.966900 loss: 0.104964
 Testing Label Acc: [0.9918367266654968, 0.9903083443641663, 0.9806201457977295, 0.9128713011741638, 0.9735234379768372, 0.9753363132476807, 0.9780793190002441, 0.9260700345039368, 0.9691991806030273, 0.9712586998939514]
 Testing Avg Label Acc : 0.9669103503227234
 Poison Acc: 0.08047105004906771
======
Model_Weight_Norm : tensor(0.0288)
Model_weight_Slope: tensor(0.0018)
Test end 16:15:21
-------------------------------------------------------------------------

round_time:  15.290139436721802

Randomly selected 100/300 users for federated learning. 16:15:21
10/100 are attackers with poison attack
 count(target label):  100
=== Round  62, Average loss 0.172233 ===
100 users; time 16:15:33
 test data_loader(per batch size): 79
 Testing accuracy: 0.967200 loss: 0.105029
 Testing Label Acc: [0.9918367266654968, 0.9911894202232361, 0.9777131676673889, 0.908910870552063, 0.9796333909034729, 0.9786995649337769, 0.9770354628562927, 0.9309338331222534, 0.9702258706092834, 0.966303288936615]
 Testing Avg Label Acc : 0.967248159646988
 Poison Acc: 0.07998037291462218
======
Model_Weight_Norm : tensor(0.0291)
Model_weight_Slope: tensor(0.0003)
Test end 16:15:36
-------------------------------------------------------------------------

round_time:  15.300994396209717

Randomly selected 100/300 users for federated learning. 16:15:36
6/100 are attackers with poison attack
 count(target label):  100
=== Round  63, Average loss 0.121071 ===
100 users; time 16:15:49
 test data_loader(per batch size): 79
 Testing accuracy: 0.970500 loss: 0.0946146
 Testing Label Acc: [0.9918367266654968, 0.9894273281097412, 0.979651153087616, 0.9356435537338257, 0.9735234379768372, 0.9786995649337769, 0.9770354628562927, 0.9406614899635315, 0.9681724905967712, 0.9702675938606262]
 Testing Avg Label Acc : 0.9704918801784516
 Poison Acc: 0.06182531894013739
======
Model_Weight_Norm : tensor(0.0358)
Model_weight_Slope: tensor(0.0067)
Test end 16:15:51
-------------------------------------------------------------------------

round_time:  15.278059005737305

Randomly selected 100/300 users for federated learning. 16:15:51
4/100 are attackers with poison attack
 count(target label):  100
=== Round  64, Average loss 0.093524 ===
100 users; time 16:16:04
 test data_loader(per batch size): 79
 Testing accuracy: 0.972200 loss: 0.0901247
 Testing Label Acc: [0.9918367266654968, 0.9903083443641663, 0.979651153087616, 0.9475247263908386, 0.9745417237281799, 0.9798206090927124, 0.9770354628562927, 0.9416342377662659, 0.9681724905967712, 0.9712586998939514]
 Testing Avg Label Acc : 0.9721784174442292
 Poison Acc: 0.05544651619234544
======
Model_Weight_Norm : tensor(0.0316)
Model_weight_Slope: tensor(-0.0041)
Test end 16:16:06
-------------------------------------------------------------------------

round_time:  15.186763286590576

Randomly selected 100/300 users for federated learning. 16:16:06
9/100 are attackers with poison attack
 count(target label):  100
=== Round  65, Average loss 0.154945 ===
100 users; time 16:16:19
 test data_loader(per batch size): 79
 Testing accuracy: 0.970000 loss: 0.0970153
 Testing Label Acc: [0.9918367266654968, 0.9911894202232361, 0.9786821603775024, 0.9326732754707336, 0.9755600690841675, 0.9843049049377441, 0.9770354628562927, 0.9280155897140503, 0.9691991806030273, 0.9722497463226318]
 Testing Avg Label Acc : 0.9700746536254883
 Poison Acc: 0.06967615309126594
======
Model_Weight_Norm : tensor(0.0315)
Model_weight_Slope: tensor(-0.0001)
Test end 16:16:21
-------------------------------------------------------------------------

round_time:  15.172042846679688

Randomly selected 100/300 users for federated learning. 16:16:21
9/100 are attackers with poison attack
 count(target label):  100
=== Round  66, Average loss 0.153086 ===
100 users; time 16:16:34
 test data_loader(per batch size): 79
 Testing accuracy: 0.969000 loss: 0.0984734
 Testing Label Acc: [0.9918367266654968, 0.9911894202232361, 0.981589138507843, 0.9237623810768127, 0.9755600690841675, 0.9843049049377441, 0.9770354628562927, 0.9260700345039368, 0.9681724905967712, 0.9712586998939514]
 Testing Avg Label Acc : 0.9690779328346253
 Poison Acc: 0.07507360157016683
======
Model_Weight_Norm : tensor(0.0255)
Model_weight_Slope: tensor(-0.0060)
Test end 16:16:37
-------------------------------------------------------------------------

round_time:  15.374196290969849

Randomly selected 100/300 users for federated learning. 16:16:37
10/100 are attackers with poison attack
 count(target label):  100
=== Round  67, Average loss 0.166442 ===
100 users; time 16:16:50
 test data_loader(per batch size): 79
 Testing accuracy: 0.968400 loss: 0.099501
 Testing Label Acc: [0.9918367266654968, 0.9911894202232361, 0.981589138507843, 0.9207921028137207, 0.9775967597961426, 0.9798206090927124, 0.9791231751441956, 0.9250972867012024, 0.9671458005905151, 0.9702675938606262]
 Testing Avg Label Acc : 0.9684458613395691
 Poison Acc: 0.07703631010794897
======
Model_Weight_Norm : tensor(0.0277)
Model_weight_Slope: tensor(0.0022)
Test end 16:16:52
-------------------------------------------------------------------------

round_time:  15.247849464416504

Randomly selected 100/300 users for federated learning. 16:16:52
11/100 are attackers with poison attack
 count(target label):  100
=== Round  68, Average loss 0.184024 ===
100 users; time 16:17:05
 test data_loader(per batch size): 79
 Testing accuracy: 0.967600 loss: 0.104609
 Testing Label Acc: [0.9918367266654968, 0.9911894202232361, 0.9825581312179565, 0.9118812084197998, 0.9745417237281799, 0.976457417011261, 0.9791231751441956, 0.924124538898468, 0.9712525606155396, 0.973240852355957]
 Testing Avg Label Acc : 0.967620575428009
 Poison Acc: 0.08194308145240432
======
Model_Weight_Norm : tensor(0.0309)
Model_weight_Slope: tensor(0.0032)
Test end 16:17:07
-------------------------------------------------------------------------

round_time:  15.365446090698242

Randomly selected 100/300 users for federated learning. 16:17:07
11/100 are attackers with poison attack
 count(target label):  100
=== Round  69, Average loss 0.184459 ===
100 users; time 16:17:20
 test data_loader(per batch size): 79
 Testing accuracy: 0.968000 loss: 0.105049
 Testing Label Acc: [0.9918367266654968, 0.9911894202232361, 0.9825581312179565, 0.9138613939285278, 0.9775967597961426, 0.9775784611701965, 0.9780793190002441, 0.924124538898468, 0.9712525606155396, 0.9722497463226318]
 Testing Avg Label Acc : 0.968032705783844
 Poison Acc: 0.08096172718351324
======
Model_Weight_Norm : tensor(0.0274)
Model_weight_Slope: tensor(-0.0035)
Test end 16:17:23
-------------------------------------------------------------------------

round_time:  15.354785442352295

Randomly selected 100/300 users for federated learning. 16:17:23
10/100 are attackers with poison attack
 count(target label):  100
=== Round  70, Average loss 0.166756 ===
100 users; time 16:17:36
 test data_loader(per batch size): 79
 Testing accuracy: 0.968800 loss: 0.102446
 Testing Label Acc: [0.9918367266654968, 0.9920704960823059, 0.9825581312179565, 0.9148514866828918, 0.9786150455474854, 0.9786995649337769, 0.9791231751441956, 0.9319066405296326, 0.9671458005905151, 0.9712586998939514]
 Testing Avg Label Acc : 0.9688065767288208
 Poison Acc: 0.07654563297350343
======
Model_Weight_Norm : tensor(0.0269)
Model_weight_Slope: tensor(-0.0005)
Test end 16:17:38
-------------------------------------------------------------------------

round_time:  15.415125846862793

Randomly selected 100/300 users for federated learning. 16:17:38
10/100 are attackers with poison attack
 count(target label):  100
=== Round  71, Average loss 0.165600 ===
100 users; time 16:17:51
 test data_loader(per batch size): 79
 Testing accuracy: 0.968500 loss: 0.102071
 Testing Label Acc: [0.9918367266654968, 0.9920704960823059, 0.9825581312179565, 0.9148514866828918, 0.976578414440155, 0.9809417128562927, 0.9791231751441956, 0.9289883375167847, 0.966119110584259, 0.9722497463226318]
 Testing Avg Label Acc : 0.968531733751297
 Poison Acc: 0.07801766437684005
======
Model_Weight_Norm : tensor(0.0256)
Model_weight_Slope: tensor(-0.0013)
Test end 16:17:54
-------------------------------------------------------------------------

round_time:  15.35416555404663

Randomly selected 100/300 users for federated learning. 16:17:54
11/100 are attackers with poison attack
 count(target label):  100
=== Round  72, Average loss 0.176143 ===
100 users; time 16:18:07
 test data_loader(per batch size): 79
 Testing accuracy: 0.969000 loss: 0.103208
 Testing Label Acc: [0.9918367266654968, 0.9920704960823059, 0.9835271239280701, 0.9207921028137207, 0.976578414440155, 0.9798206090927124, 0.9791231751441956, 0.9270427823066711, 0.966119110584259, 0.973240852355957]
 Testing Avg Label Acc : 0.9690151393413544
 Poison Acc: 0.0760549558390579
======
Model_Weight_Norm : tensor(0.0266)
Model_weight_Slope: tensor(0.0010)
Test end 16:18:09
-------------------------------------------------------------------------

round_time:  15.846476078033447

Randomly selected 100/300 users for federated learning. 16:18:09
9/100 are attackers with poison attack
 count(target label):  100
=== Round  73, Average loss 0.152061 ===
100 users; time 16:18:25
 test data_loader(per batch size): 79
 Testing accuracy: 0.969700 loss: 0.0997033
 Testing Label Acc: [0.9918367266654968, 0.9920704960823059, 0.9835271239280701, 0.9198019504547119, 0.981670081615448, 0.9843049049377441, 0.9780793190002441, 0.929961085319519, 0.9671458005905151, 0.969276487827301]
 Testing Avg Label Acc : 0.9697673976421356
 Poison Acc: 0.07507360157016683
======
Model_Weight_Norm : tensor(0.0282)
Model_weight_Slope: tensor(0.0016)
Test end 16:18:27
-------------------------------------------------------------------------

round_time:  17.603055715560913

Randomly selected 100/300 users for federated learning. 16:18:27
12/100 are attackers with poison attack
 count(target label):  100
=== Round  74, Average loss 0.191601 ===
100 users; time 16:18:42
 test data_loader(per batch size): 79
 Testing accuracy: 0.967500 loss: 0.106325
 Testing Label Acc: [0.9918367266654968, 0.9920704960823059, 0.9835271239280701, 0.9029703140258789, 0.9775967597961426, 0.9820627570152283, 0.9791231751441956, 0.9270427823066711, 0.9681724905967712, 0.9712586998939514]
 Testing Avg Label Acc : 0.9675661325454712
 Poison Acc: 0.08488714425907752
======
Model_Weight_Norm : tensor(0.0321)
Model_weight_Slope: tensor(0.0039)
Test end 16:18:45
-------------------------------------------------------------------------

round_time:  17.66800880432129

Randomly selected 100/300 users for federated learning. 16:18:45
9/100 are attackers with poison attack
 count(target label):  100
=== Round  75, Average loss 0.154636 ===
100 users; time 16:19:00
 test data_loader(per batch size): 79
 Testing accuracy: 0.970800 loss: 0.0962131
 Testing Label Acc: [0.9918367266654968, 0.9920704960823059, 0.9835271239280701, 0.9277227520942688, 0.9775967597961426, 0.9865471124649048, 0.9770354628562927, 0.9348248839378357, 0.9671458005905151, 0.9702675938606262]
 Testing Avg Label Acc : 0.9708574712276459
 Poison Acc: 0.06869479882237488
======
Model_Weight_Norm : tensor(0.0300)
Model_weight_Slope: tensor(-0.0020)
Test end 16:19:02
-------------------------------------------------------------------------

round_time:  17.603739738464355

Randomly selected 100/300 users for federated learning. 16:19:02
10/100 are attackers with poison attack
 count(target label):  100
=== Round  76, Average loss 0.163838 ===
100 users; time 16:19:17
 test data_loader(per batch size): 79
 Testing accuracy: 0.970800 loss: 0.0986314
 Testing Label Acc: [0.9918367266654968, 0.9911894202232361, 0.9835271239280701, 0.9346534609794617, 0.976578414440155, 0.9831838607788086, 0.9791231751441956, 0.9280155897140503, 0.9712525606155396, 0.969276487827301]
 Testing Avg Label Acc : 0.9708636820316314
 Poison Acc: 0.06869479882237488
======
Model_Weight_Norm : tensor(0.0288)
Model_weight_Slope: tensor(-0.0013)
Test end 16:19:20
-------------------------------------------------------------------------

round_time:  17.60729193687439

Randomly selected 100/300 users for federated learning. 16:19:20
9/100 are attackers with poison attack
 count(target label):  100
=== Round  77, Average loss 0.148273 ===
100 users; time 16:19:35
 test data_loader(per batch size): 79
 Testing accuracy: 0.970800 loss: 0.0959138
 Testing Label Acc: [0.9918367266654968, 0.9911894202232361, 0.9835271239280701, 0.9326732754707336, 0.9745417237281799, 0.9854260087013245, 0.9791231751441956, 0.9309338331222534, 0.9681724905967712, 0.9712586998939514]
 Testing Avg Label Acc : 0.9708682477474213
 Poison Acc: 0.06820412168792934
======
Model_Weight_Norm : tensor(0.0250)
Model_weight_Slope: tensor(-0.0038)
Test end 16:19:38
-------------------------------------------------------------------------

round_time:  17.583934783935547

Randomly selected 100/300 users for federated learning. 16:19:38
7/100 are attackers with poison attack
 count(target label):  100
=== Round  78, Average loss 0.129174 ===
100 users; time 16:19:53
 test data_loader(per batch size): 79
 Testing accuracy: 0.972600 loss: 0.0897679
 Testing Label Acc: [0.9918367266654968, 0.9920704960823059, 0.9825581312179565, 0.9386138319969177, 0.9796333909034729, 0.9831838607788086, 0.9780793190002441, 0.9396887421607971, 0.9702258706092834, 0.9702675938606262]
 Testing Avg Label Acc : 0.972615796327591
 Poison Acc: 0.06084396467124632
======
Model_Weight_Norm : tensor(0.0296)
Model_weight_Slope: tensor(0.0046)
Test end 16:19:55
-------------------------------------------------------------------------

round_time:  17.621805429458618

Randomly selected 100/300 users for federated learning. 16:19:55
8/100 are attackers with poison attack
 count(target label):  100
=== Round  79, Average loss 0.145067 ===
100 users; time 16:20:10
 test data_loader(per batch size): 79
 Testing accuracy: 0.971700 loss: 0.0918081
 Testing Label Acc: [0.9918367266654968, 0.9920704960823059, 0.9835271239280701, 0.9306930899620056, 0.9775967597961426, 0.9876681566238403, 0.9780793190002441, 0.9377431869506836, 0.9681724905967712, 0.9702675938606262]
 Testing Avg Label Acc : 0.9717654943466186
 Poison Acc: 0.06575073601570167
======
Model_Weight_Norm : tensor(0.0274)
Model_weight_Slope: tensor(-0.0022)
Test end 16:20:13
-------------------------------------------------------------------------

round_time:  17.574052095413208

total_time:  1258.8742258548737
=== End ===
