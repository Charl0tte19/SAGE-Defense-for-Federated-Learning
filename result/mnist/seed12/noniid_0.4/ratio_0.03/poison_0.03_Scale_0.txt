Namespace(aggregation='FedAvg', attack_mode='poison', attack_ratio=0.03, bs=128, dataset='mnist', device=device(type='cuda', index=0), epochs=20, frequency=1, gpu=0, local_bs=10, local_ep=5, lr=0.01, model_path='./mnist/noniid_0.4/ratio_0.03/poison_0.03_Scale_0.pt', momentum=0.5, noniid=0.4, num_clients=10, num_users=100, scale=True, seed=12, shuffle=True, target_label=7, target_random=True, test_label_acc=True, total_users=1000, verbose=False, wait=3)
==> Preparing data..
non-iid_per_local:  21
iid_per_local:  33
label 0 : 5336
example -> idx: 4682 = 0
label 1 : 6112
example -> idx: 10259 = 1
label 2 : 5358
example -> idx: 16221 = 2
label 3 : 5504
example -> idx: 19899 = 3
label 4 : 5247
example -> idx: 25383 = 4
label 5 : 4872
example -> idx: 28423 = 5
label 6 : 5347
example -> idx: 33381 = 6
label 7 : 5597
example -> idx: 40801 = 7
label 8 : 5254
example -> idx: 45823 = 8
label 9 : 5373
example -> idx: 50151 = 9

0 :  536
1 :  1312
2 :  558
3 :  704
4 :  447
5 :  72
6 :  547
7 :  797
8 :  454
9 :  573

[0, 1, 2, 3, 4, 6, 7, 8, 9]
[0, 1, 2, 3, 4, 6, 7, 9]
[0, 1, 2, 3, 6, 7, 9]
[0, 1, 2, 3, 6, 7]
[1, 2, 3, 6, 7]
[1, 3, 6, 7]
[1, 3, 7]
[1, 7]
0 :  0
1 :  566
2 :  0
3 :  0
4 :  0
5 :  0
6 :  0
7 :  67
8 :  0
9 :  0

[1]
[]
0 :  0
1 :  0
2 :  0
3 :  0
4 :  0
5 :  0
6 :  0
7 :  0
8 :  0
9 :  0


[33636 37388 33091 33983 34675 36540 32833 33008 36576 35637 37730 33485
 33374 37167 34479 34665 35619 33392 33232 36863 33134  1081  2749  4052
  6478  5968  6465 13591 14590 12439 20504 21131 20294 22362 24089 27431
 29208 29946 29307 38893 41126 42402 48007 44039 44751 49590 50224 52927
  3624 40902 26841 14796 53670 21086  6335]
[6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 0 0 0 1 1 1 2 2 2 3 3 3 4 4 4 5
 5 5 7 7 7 8 8 8 9 9 9 0 7 4 2 9 3 1]
CNN_Model(
  (cnn1): Conv2d(1, 16, kernel_size=(5, 5), stride=(1, 1))
  (relu1): ReLU()
  (maxpool1): MaxPool2d(kernel_size=2, stride=2, padding=0, dilation=1, ceil_mode=False)
  (cnn2): Conv2d(16, 32, kernel_size=(5, 5), stride=(1, 1))
  (relu2): ReLU()
  (maxpool2): MaxPool2d(kernel_size=2, stride=2, padding=0, dilation=1, ceil_mode=False)
  (fc1): Linear(in_features=512, out_features=10, bias=True)
)
target_label: [7]

431
694
435
188
513
425
661
422
263
761
22
39
42
634
594
117
512
243
722
38
86
222
613
153
538
967
775
876
898
342
number of attacker:  30
all attacker:  [431, 694, 435, 188, 513, 425, 661, 422, 263, 761, 22, 39, 42, 634, 594, 117, 512, 243, 722, 38, 86, 222, 613, 153, 538, 967, 775, 876, 898, 342]

good:  []
normal:  [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
bad:  []
Client 0
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round   0, Average loss 1.727201 ===
 100 users; time 19:59:55
 test data_loader(per batch size): 79
 Testing accuracy: 0.5968999862670898 loss: 1.5732
 Testing Label Acc: [0.9744898080825806, 0.9480175971984863, 0.7189922332763672, 0.7653465270996094, 0.28105905652046204, 0.06165919452905655, 0.9331941604614258, 0.0, 0.23819302022457123, 0.9573835730552673]
 Testing Avg Label Acc : 0.5878335170447826
 Testing Std Label Acc : 0.3771680079989318
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.7586)
 Model_Weight_Norm_Slope : tensor(0.7586)
======

Client 1
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round   0, Average loss 1.719876 ===
 100 users; time 20:00:10
 test data_loader(per batch size): 79
 Testing accuracy: 0.6309999823570251 loss: 1.58441
 Testing Label Acc: [0.9765306115150452, 0.9568281769752502, 0.7984496355056763, 0.8594059348106384, 0.3706721067428589, 0.023542601615190506, 0.9206680655479431, 0.0, 0.41581109166145325, 0.894945502281189]
 Testing Avg Label Acc : 0.6216853726655245
 Testing Std Label Acc : 0.3660209855423203
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.6908)
 Model_Weight_Norm_Slope : tensor(0.6908)
======

Client 2
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round   0, Average loss 1.713210 ===
 100 users; time 20:00:26
 test data_loader(per batch size): 79
 Testing accuracy: 0.7613999843597412 loss: 1.71821
 Testing Label Acc: [0.9551020264625549, 0.9409691691398621, 0.623062014579773, 0.9039604067802429, 0.6547861695289612, 0.37443944811820984, 0.924843430519104, 0.7801556587219238, 0.6139630675315857, 0.7839444875717163]
 Testing Avg Label Acc : 0.7555225878953934
 Testing Std Label Acc : 0.17868894757991127
 Poison Acc: 0.2198443579766537
 Model_Weight_Norm : tensor(0.4939)
 Model_Weight_Norm_Slope : tensor(0.4939)
======

Client 3
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round   0, Average loss 1.725900 ===
 100 users; time 20:00:42
 test data_loader(per batch size): 79
 Testing accuracy: 0.6542999744415283 loss: 1.55742
 Testing Label Acc: [0.9744898080825806, 0.900440514087677, 0.8643410801887512, 0.7019801735877991, 0.4226069152355194, 0.21524663269519806, 0.9457202553749084, 0.0, 0.5431211590766907, 0.9147670865058899]
 Testing Avg Label Acc : 0.6482713624835015
 Testing Std Label Acc : 0.3238551394414689
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.7626)
 Model_Weight_Norm_Slope : tensor(0.7626)
======

Client 4
 5/100 are attackers with poison attack 
 count(target label):  100
=== Round   0, Average loss 1.733324 ===
 100 users; time 20:00:58
 test data_loader(per batch size): 79
 Testing accuracy: 0.6600000262260437 loss: 1.54626
 Testing Label Acc: [0.9806122183799744, 0.9647576808929443, 0.7141472697257996, 0.8297029733657837, 0.657841145992279, 0.07174888253211975, 0.8632568120956421, 0.0, 0.5944558382034302, 0.8453914523124695]
 Testing Avg Label Acc : 0.6521914273500442
 Testing Std Label Acc : 0.3299112189377144
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.8144)
 Model_Weight_Norm_Slope : tensor(0.8144)
======

Client 5
 1/100 are attackers with poison attack 
 count(target label):  100
=== Round   0, Average loss 1.722011 ===
 100 users; time 20:01:14
 test data_loader(per batch size): 79
 Testing accuracy: 0.652899980545044 loss: 1.64118
 Testing Label Acc: [0.9765306115150452, 0.8977973461151123, 0.7277131676673889, 0.8306930661201477, 0.22912423312664032, 0.4271300435066223, 0.8778705596923828, 0.17704279720783234, 0.3942505121231079, 0.9415262341499329]
 Testing Avg Label Acc : 0.6479678571224212
 Testing Std Label Acc : 0.29317061100444175
 Poison Acc: 0.8229571984435797
 Model_Weight_Norm : tensor(0.5654)
 Model_Weight_Norm_Slope : tensor(0.5654)
======

Client 6
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round   0, Average loss 1.722587 ===
 100 users; time 20:01:30
 test data_loader(per batch size): 79
 Testing accuracy: 0.6503000259399414 loss: 1.62095
 Testing Label Acc: [0.9785714149475098, 0.9524229168891907, 0.8372092843055725, 0.7722772359848022, 0.5987780094146729, 0.1468609869480133, 0.9342380166053772, 0.0, 0.4445585310459137, 0.7651139497756958]
 Testing Avg Label Acc : 0.6430030345916748
 Testing Std Label Acc : 0.32610573226464346
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.6760)
 Model_Weight_Norm_Slope : tensor(0.6760)
======

Client 7
 2/100 are attackers with poison attack 
 count(target label):  100
=== Round   0, Average loss 1.717671 ===
 100 users; time 20:01:45
 test data_loader(per batch size): 79
 Testing accuracy: 0.6302000284194946 loss: 1.59812
 Testing Label Acc: [0.9530612230300903, 0.924229085445404, 0.8013566136360168, 0.7970296740531921, 0.3197556138038635, 0.014573991298675537, 0.942588746547699, 0.0, 0.5657083988189697, 0.8979187607765198]
 Testing Avg Label Acc : 0.6216222107410431
 Testing Std Label Acc : 0.3595866772071998
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.6324)
 Model_Weight_Norm_Slope : tensor(0.6324)
======

Client 8
 2/100 are attackers with poison attack 
 count(target label):  100
=== Round   0, Average loss 1.723297 ===
 100 users; time 20:02:01
 test data_loader(per batch size): 79
 Testing accuracy: 0.684499979019165 loss: 1.60465
 Testing Label Acc: [0.9755101799964905, 0.9462555050849915, 0.9098837375640869, 0.8336633443832397, 0.49694502353668213, 0.37219730019569397, 0.8486430048942566, 0.0, 0.5687885284423828, 0.8394449949264526]
 Testing Avg Label Acc : 0.6791331619024277
 Testing Std Label Acc : 0.2985887623333975
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.6253)
 Model_Weight_Norm_Slope : tensor(0.6253)
======

Client 9
 6/100 are attackers with poison attack 
 count(target label):  100
=== Round   0, Average loss 1.731018 ===
 100 users; time 20:02:17
 test data_loader(per batch size): 79
 Testing accuracy: 0.6811000108718872 loss: 1.58901
 Testing Label Acc: [0.9693877696990967, 0.9735682606697083, 0.8982558250427246, 0.7722772359848022, 0.6486761569976807, 0.10089685767889023, 0.9144049882888794, 0.0, 0.5739219784736633, 0.8790882229804993]
 Testing Avg Label Acc : 0.6730477295815944
 Testing Std Label Acc : 0.3361801534939602
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.8785)
 Model_Weight_Norm_Slope : tensor(0.8785)
======

Test end 20:02:19
-------------------------------------------------------------------------

acc_list:  [(2, 0.7613999843597412), (8, 0.684499979019165), (9, 0.6811000108718872), (4, 0.6600000262260437), (3, 0.6542999744415283), (5, 0.652899980545044), (6, 0.6503000259399414), (1, 0.6309999823570251), (7, 0.6302000284194946), (0, 0.5968999862670898)]
acc_avg_difference:  0.6530278261378408
Acc_Avg (total global): 0.6530278261378408
Acc_Std (total global): 0.31892762358039894

shuffle_clients (in good): []

shuffle_clients (in normal): [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
Shuffle in normal!

shuffle_clients (in bad): []

max_local_ep_time:  13.14250111579895
round_time:  15.772011280059814

good:  []
normal:  [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
bad:  []
Client 0
 2/100 are attackers with poison attack 
 count(target label):  100
=== Round   1, Average loss 0.895505 ===
 100 users; time 20:02:32
 test data_loader(per batch size): 79
 Testing accuracy: 0.8510000109672546 loss: 0.605632
 Testing Label Acc: [0.9765306115150452, 0.9735682606697083, 0.8817829489707947, 0.8871287107467651, 0.9103869795799255, 0.7511211037635803, 0.8851774334907532, 0.7227626442909241, 0.7977412939071655, 0.7036669850349426]
 Testing Avg Label Acc : 0.8489866971969604
 Testing Std Label Acc : 0.09415534156191728
 Poison Acc: 0.2772373540856031
 Model_Weight_Norm : tensor(0.6922)
 Model_Weight_Norm_Slope : tensor(-0.0665)
======

Client 1
 1/100 are attackers with poison attack 
 count(target label):  100
=== Round   1, Average loss 0.897208 ===
 100 users; time 20:02:48
 test data_loader(per batch size): 79
 Testing accuracy: 0.8479999899864197 loss: 0.649253
 Testing Label Acc: [0.9673469662666321, 0.9682819247245789, 0.8614341020584106, 0.8861386179924011, 0.8085539937019348, 0.689461886882782, 0.931106448173523, 0.7344357967376709, 0.7525667548179626, 0.8523290157318115]
 Testing Avg Label Acc : 0.8451655507087708
 Testing Std Label Acc : 0.09267480963162561
 Poison Acc: 0.26556420233463035
 Model_Weight_Norm : tensor(0.6441)
 Model_Weight_Norm_Slope : tensor(-0.0467)
======

Client 2
 1/100 are attackers with poison attack 
 count(target label):  100
=== Round   1, Average loss 1.030145 ===
 100 users; time 20:03:04
 test data_loader(per batch size): 79
 Testing accuracy: 0.8137999773025513 loss: 0.735192
 Testing Label Acc: [0.9806122183799744, 0.9550660848617554, 0.8672480583190918, 0.9207921028137207, 0.9002036452293396, 0.5336322784423828, 0.8956158757209778, 0.698443591594696, 0.7926077842712402, 0.5550049543380737]
 Testing Avg Label Acc : 0.8099226593971253
 Testing Std Label Acc : 0.1534016155366727
 Poison Acc: 0.301556420233463
 Model_Weight_Norm : tensor(0.7034)
 Model_Weight_Norm_Slope : tensor(0.2095)
======

Client 3
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round   1, Average loss 0.871619 ===
 100 users; time 20:03:20
 test data_loader(per batch size): 79
 Testing accuracy: 0.8185999989509583 loss: 0.615272
 Testing Label Acc: [0.9591836929321289, 0.9674009084701538, 0.8672480583190918, 0.909900963306427, 0.8890020251274109, 0.6255605220794678, 0.9415448904037476, 0.6643968820571899, 0.7915810942649841, 0.5421209335327148]
 Testing Avg Label Acc : 0.8157939970493316
 Testing Std Label Acc : 0.14519458541301428
 Poison Acc: 0.3356031128404669
 Model_Weight_Norm : tensor(0.7444)
 Model_Weight_Norm_Slope : tensor(-0.0183)
======

Client 4
 5/100 are attackers with poison attack 
 count(target label):  100
=== Round   1, Average loss 0.862133 ===
 100 users; time 20:03:35
 test data_loader(per batch size): 79
 Testing accuracy: 0.8012999892234802 loss: 0.621652
 Testing Label Acc: [0.9806122183799744, 0.9779735803604126, 0.856589138507843, 0.896039605140686, 0.9012219905853271, 0.7522421479225159, 0.9112734794616699, 0.5029183030128479, 0.7114989757537842, 0.5094152688980103]
 Testing Avg Label Acc : 0.7999784708023071
 Testing Std Label Acc : 0.16797596358516406
 Poison Acc: 0.4970817120622568
 Model_Weight_Norm : tensor(0.8418)
 Model_Weight_Norm_Slope : tensor(0.0274)
======

Client 5
 2/100 are attackers with poison attack 
 count(target label):  100
=== Round   1, Average loss 0.966068 ===
 100 users; time 20:03:51
 test data_loader(per batch size): 79
 Testing accuracy: 0.8098000288009644 loss: 0.70554
 Testing Label Acc: [0.9622448682785034, 0.983259916305542, 0.8139534592628479, 0.8653465509414673, 0.7922607064247131, 0.7107623219490051, 0.9551148414611816, 0.48540857434272766, 0.7176591157913208, 0.792864203453064]
 Testing Avg Label Acc : 0.8078874558210373
 Testing Std Label Acc : 0.14199750883423526
 Poison Acc: 0.5145914396887159
 Model_Weight_Norm : tensor(0.7559)
 Model_Weight_Norm_Slope : tensor(0.1904)
======

Client 6
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round   1, Average loss 0.925241 ===
 100 users; time 20:04:07
 test data_loader(per batch size): 79
 Testing accuracy: 0.7770000100135803 loss: 0.684808
 Testing Label Acc: [0.9377551078796387, 0.9312775135040283, 0.8488371968269348, 0.895049512386322, 0.9195519089698792, 0.8060538172721863, 0.924843430519104, 0.3501945436000824, 0.7936344742774963, 0.369672954082489]
 Testing Avg Label Acc : 0.7776870459318161
 Testing Std Label Acc : 0.2145024667605648
 Poison Acc: 0.6498054474708171
 Model_Weight_Norm : tensor(0.8631)
 Model_Weight_Norm_Slope : tensor(0.1870)
======

Client 7
 2/100 are attackers with poison attack 
 count(target label):  100
=== Round   1, Average loss 0.938293 ===
 100 users; time 20:04:23
 test data_loader(per batch size): 79
 Testing accuracy: 0.8048999905586243 loss: 0.687772
 Testing Label Acc: [0.9836734533309937, 0.9691630005836487, 0.8333333134651184, 0.9039604067802429, 0.9287168979644775, 0.6468609571456909, 0.8810020685195923, 0.6040856242179871, 0.8213552236557007, 0.4539147615432739]
 Testing Avg Label Acc : 0.8026065707206727
 Testing Std Label Acc : 0.16715185130465324
 Poison Acc: 0.3959143968871595
 Model_Weight_Norm : tensor(0.7063)
 Model_Weight_Norm_Slope : tensor(0.0739)
======

Client 8
 6/100 are attackers with poison attack 
 count(target label):  100
=== Round   1, Average loss 0.967850 ===
 100 users; time 20:04:38
 test data_loader(per batch size): 79
 Testing accuracy: 0.7479000091552734 loss: 0.904754
 Testing Label Acc: [0.9693877696990967, 0.9700440764427185, 0.8304263353347778, 0.8752475380897522, 0.662932813167572, 0.5089685916900635, 0.9665970802307129, 0.0, 0.7577002048492432, 0.9098116755485535]
 Testing Avg Label Acc : 0.745111608505249
 Testing Std Label Acc : 0.28620918247770283
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(1.0054)
 Model_Weight_Norm_Slope : tensor(0.3801)
======

Client 9
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round   1, Average loss 0.856771 ===
 100 users; time 20:04:54
 test data_loader(per batch size): 79
 Testing accuracy: 0.8108000159263611 loss: 0.613301
 Testing Label Acc: [0.9510204195976257, 0.9594713449478149, 0.8711240291595459, 0.7930693030357361, 0.8930753469467163, 0.8934977650642395, 0.8851774334907532, 0.6196498274803162, 0.6889116764068604, 0.5520316958427429]
 Testing Avg Label Acc : 0.8107028841972351
 Testing Std Label Acc : 0.1353567691208618
 Poison Acc: 0.38035019455252916
 Model_Weight_Norm : tensor(0.7884)
 Model_Weight_Norm_Slope : tensor(-0.0901)
======

Test end 20:04:56
-------------------------------------------------------------------------

acc_list:  [(0, 0.8510000109672546), (1, 0.8479999899864197), (3, 0.8185999989509583), (2, 0.8137999773025513), (9, 0.8108000159263611), (5, 0.8098000288009644), (7, 0.8048999905586243), (4, 0.8012999892234802), (6, 0.7770000100135803), (8, 0.7479000091552734)]
acc_avg_difference:  0.15335646789520962
Acc_Avg (total global): 0.8063842940330505
Acc_Std (total global): 0.1598620094226412

shuffle_clients (in good): []

shuffle_clients (in normal): [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
Shuffle in normal!

shuffle_clients (in bad): []

max_local_ep_time:  13.066333770751953
round_time:  15.69825553894043

good:  []
normal:  [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
bad:  []
Client 0
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round   2, Average loss 0.425553 ===
 100 users; time 20:05:10
 test data_loader(per batch size): 79
 Testing accuracy: 0.8174999952316284 loss: 0.608032
 Testing Label Acc: [0.9459183812141418, 0.9814978241920471, 0.8217054009437561, 0.909900963306427, 0.800407350063324, 0.7118834257125854, 0.968684732913971, 0.31128403544425964, 0.8275154232978821, 0.8840436339378357]
 Testing Avg Label Acc : 0.8162841171026229
 Testing Std Label Acc : 0.1862831759132211
 Poison Acc: 0.688715953307393
 Model_Weight_Norm : tensor(0.3938)
 Model_Weight_Norm_Slope : tensor(-0.2983)
======

Client 1
 1/100 are attackers with poison attack 
 count(target label):  100
=== Round   2, Average loss 0.454203 ===
 100 users; time 20:05:25
 test data_loader(per batch size): 79
 Testing accuracy: 0.8830000162124634 loss: 0.444761
 Testing Label Acc: [0.9765306115150452, 0.9682819247245789, 0.9089147448539734, 0.895049512386322, 0.8808553814888, 0.7634528875350952, 0.9290187954902649, 0.7577821016311646, 0.8521560430526733, 0.8790882229804993]
 Testing Avg Label Acc : 0.8811130225658417
 Testing Std Label Acc : 0.0706131394738177
 Poison Acc: 0.24221789883268482
 Model_Weight_Norm : tensor(0.3559)
 Model_Weight_Norm_Slope : tensor(-0.2882)
======

Client 2
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round   2, Average loss 0.507926 ===
 100 users; time 20:05:41
 test data_loader(per batch size): 79
 Testing accuracy: 0.7986000180244446 loss: 0.689732
 Testing Label Acc: [0.9734693765640259, 0.9779735803604126, 0.9050387740135193, 0.896039605140686, 0.6710794568061829, 0.7466367483139038, 0.9561586380004883, 0.13521400094032288, 0.8018480539321899, 0.9137760400772095]
 Testing Avg Label Acc : 0.7977234274148941
 Testing Std Label Acc : 0.2409800058803916
 Poison Acc: 0.8647859922178989
 Model_Weight_Norm : tensor(0.5100)
 Model_Weight_Norm_Slope : tensor(-0.1935)
======

Client 3
 2/100 are attackers with poison attack 
 count(target label):  100
=== Round   2, Average loss 0.419405 ===
 100 users; time 20:05:57
 test data_loader(per batch size): 79
 Testing accuracy: 0.8539000153541565 loss: 0.504317
 Testing Label Acc: [0.9744898080825806, 0.9841409921646118, 0.8798449635505676, 0.8603960275650024, 0.7678207755088806, 0.8026905655860901, 0.9488517642021179, 0.5525291562080383, 0.8347022533416748, 0.9217046499252319]
 Testing Avg Label Acc : 0.8527170956134796
 Testing Std Label Acc : 0.12126180389409696
 Poison Acc: 0.4474708171206226
 Model_Weight_Norm : tensor(0.3477)
 Model_Weight_Norm_Slope : tensor(-0.3967)
======

Client 4
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round   2, Average loss 0.376954 ===
 100 users; time 20:06:13
 test data_loader(per batch size): 79
 Testing accuracy: 0.8287000060081482 loss: 0.613316
 Testing Label Acc: [0.9632652997970581, 0.9726872444152832, 0.856589138507843, 0.9039604067802429, 0.8890020251274109, 0.7309417128562927, 0.9603340029716492, 0.2402723729610443, 0.8716632723808289, 0.8929633498191833]
 Testing Avg Label Acc : 0.8281678825616836
 Testing Std Label Acc : 0.20688703891108334
 Poison Acc: 0.7597276264591439
 Model_Weight_Norm : tensor(0.3873)
 Model_Weight_Norm_Slope : tensor(-0.4546)
======

Client 5
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round   2, Average loss 0.451052 ===
 100 users; time 20:06:28
 test data_loader(per batch size): 79
 Testing accuracy: 0.8357999920845032 loss: 0.57537
 Testing Label Acc: [0.9714285731315613, 0.9770925045013428, 0.8837209343910217, 0.896039605140686, 0.8116089701652527, 0.6491031646728516, 0.9582463502883911, 0.45428016781806946, 0.8521560430526733, 0.8810703754425049]
 Testing Avg Label Acc : 0.8334746688604355
 Testing Std Label Acc : 0.1557363696568831
 Poison Acc: 0.5457198443579766
 Model_Weight_Norm : tensor(0.4144)
 Model_Weight_Norm_Slope : tensor(-0.3415)
======

Client 6
 1/100 are attackers with poison attack 
 count(target label):  100
=== Round   2, Average loss 0.393079 ===
 100 users; time 20:06:44
 test data_loader(per batch size): 79
 Testing accuracy: 0.8741999864578247 loss: 0.428992
 Testing Label Acc: [0.9826530814170837, 0.9797356724739075, 0.8827519416809082, 0.8613861203193665, 0.844195544719696, 0.7724215388298035, 0.931106448173523, 0.7548637986183167, 0.8008213639259338, 0.9117938280105591]
 Testing Avg Label Acc : 0.8721729338169097
 Testing Std Label Acc : 0.07657180010592139
 Poison Acc: 0.245136186770428
 Model_Weight_Norm : tensor(0.3110)
 Model_Weight_Norm_Slope : tensor(-0.5520)
======

Client 7
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round   2, Average loss 0.485548 ===
 100 users; time 20:07:01
 test data_loader(per batch size): 79
 Testing accuracy: 0.8140000104904175 loss: 0.670104
 Testing Label Acc: [0.9438775777816772, 0.9638766646385193, 0.9098837375640869, 0.8831683397293091, 0.7749490737915039, 0.8699551820755005, 0.9530271291732788, 0.14494162797927856, 0.7946611642837524, 0.908820629119873]
 Testing Avg Label Acc : 0.8147161126136779
 Testing Std Label Acc : 0.2311476950610994
 Poison Acc: 0.8550583657587548
 Model_Weight_Norm : tensor(0.4795)
 Model_Weight_Norm_Slope : tensor(-0.2268)
======

Client 8
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round   2, Average loss 0.417540 ===
 100 users; time 20:07:19
 test data_loader(per batch size): 79
 Testing accuracy: 0.8495000004768372 loss: 0.574858
 Testing Label Acc: [0.9806122183799744, 0.9559471607208252, 0.942829430103302, 0.8346534371376038, 0.8849287033081055, 0.8800448179244995, 0.905010461807251, 0.548638105392456, 0.8655030727386475, 0.6987115740776062]
 Testing Avg Label Acc : 0.8496878981590271
 Testing Std Label Acc : 0.12499303155590606
 Poison Acc: 0.45136186770428016
 Model_Weight_Norm : tensor(0.4305)
 Model_Weight_Norm_Slope : tensor(-0.5749)
======

Client 9
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round   2, Average loss 0.413288 ===
 100 users; time 20:07:37
 test data_loader(per batch size): 79
 Testing accuracy: 0.8082000017166138 loss: 0.691699
 Testing Label Acc: [0.9795918464660645, 0.9577092528343201, 0.9060077667236328, 0.8861386179924011, 0.8533604741096497, 0.7410314083099365, 0.9519832730293274, 0.02529182843863964, 0.8921971321105957, 0.8909811973571777]
 Testing Avg Label Acc : 0.8084292797371745
 Testing Std Label Acc : 0.2685975821005992
 Poison Acc: 0.9747081712062257
 Model_Weight_Norm : tensor(0.4246)
 Model_Weight_Norm_Slope : tensor(-0.3638)
======

Test end 20:07:40
-------------------------------------------------------------------------

acc_list:  [(1, 0.8830000162124634), (6, 0.8741999864578247), (3, 0.8539000153541565), (8, 0.8495000004768372), (5, 0.8357999920845032), (4, 0.8287000060081482), (0, 0.8174999952316284), (7, 0.8140000104904175), (9, 0.8082000017166138), (2, 0.7986000180244446)]
acc_avg_difference:  0.02906434981152428
Acc_Avg (total global): 0.8354486438445747
Acc_Std (total global): 0.16830716425530196

shuffle_clients (in good): []

shuffle_clients (in normal): [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
Shuffle in normal!

shuffle_clients (in bad): []

max_local_ep_time:  15.31202220916748
round_time:  18.020208835601807

good:  []
normal:  [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
bad:  []
Client 0
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round   3, Average loss 0.346630 ===
 100 users; time 20:07:55
 test data_loader(per batch size): 79
 Testing accuracy: 0.8623999953269958 loss: 0.515765
 Testing Label Acc: [0.9765306115150452, 0.966519832611084, 0.9224806427955627, 0.909900963306427, 0.9399185180664062, 0.7970852255821228, 0.9300626516342163, 0.419260710477829, 0.9096509218215942, 0.8493558168411255]
 Testing Avg Label Acc : 0.8620765894651413
 Testing Std Label Acc : 0.15600010266340042
 Poison Acc: 0.580739299610895
 Model_Weight_Norm : tensor(0.3381)
 Model_Weight_Norm_Slope : tensor(-0.0558)
======

Client 1
 6/100 are attackers with poison attack 
 count(target label):  100
=== Round   3, Average loss 0.371472 ===
 100 users; time 20:08:10
 test data_loader(per batch size): 79
 Testing accuracy: 0.8122000098228455 loss: 0.891765
 Testing Label Acc: [0.9612244963645935, 0.9859030842781067, 0.8817829489707947, 0.8623762130737305, 0.9012219905853271, 0.8318385481834412, 0.9613778591156006, 0.0, 0.9065708518028259, 0.8414271473884583]
 Testing Avg Label Acc : 0.8133723139762878
 Testing Std Label Acc : 0.27563024195415303
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.5531)
 Model_Weight_Norm_Slope : tensor(0.1972)
======

Client 2
 1/100 are attackers with poison attack 
 count(target label):  100
=== Round   3, Average loss 0.308653 ===
 100 users; time 20:08:26
 test data_loader(per batch size): 79
 Testing accuracy: 0.8991000056266785 loss: 0.368024
 Testing Label Acc: [0.9734693765640259, 0.9894273281097412, 0.9040697813034058, 0.8811880946159363, 0.9409368634223938, 0.8363228440284729, 0.9405010342597961, 0.8210116624832153, 0.861396312713623, 0.8295341730117798]
 Testing Avg Label Acc : 0.897785747051239
 Testing Std Label Acc : 0.05812245152510538
 Poison Acc: 0.17898832684824903
 Model_Weight_Norm : tensor(0.2933)
 Model_Weight_Norm_Slope : tensor(-0.2167)
======

Client 3
 5/100 are attackers with poison attack 
 count(target label):  100
=== Round   3, Average loss 0.343372 ===
 100 users; time 20:08:42
 test data_loader(per batch size): 79
 Testing accuracy: 0.8009999990463257 loss: 0.724267
 Testing Label Acc: [0.972449004650116, 0.9594713449478149, 0.8856589198112488, 0.8900989890098572, 0.9826883673667908, 0.8318385481834412, 0.9530271291732788, 0.032101165503263474, 0.8634496927261353, 0.6551040410995483]
 Testing Avg Label Acc : 0.8025887202471494
 Testing Std Label Acc : 0.27259005670084263
 Poison Acc: 0.9678988326848249
 Model_Weight_Norm : tensor(0.4059)
 Model_Weight_Norm_Slope : tensor(0.0582)
======

Client 4
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round   3, Average loss 0.330300 ===
 100 users; time 20:08:58
 test data_loader(per batch size): 79
 Testing accuracy: 0.8690999746322632 loss: 0.479807
 Testing Label Acc: [0.9836734533309937, 0.9859030842781067, 0.8701550364494324, 0.8702970147132874, 0.9450101852416992, 0.9136771559715271, 0.9154488444328308, 0.4961089491844177, 0.9065708518028259, 0.810703694820404]
 Testing Avg Label Acc : 0.8697548270225525
 Testing Std Label Acc : 0.13438843190061953
 Poison Acc: 0.5038910505836576
 Model_Weight_Norm : tensor(0.3088)
 Model_Weight_Norm_Slope : tensor(-0.0785)
======

Client 5
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round   3, Average loss 0.323511 ===
 100 users; time 20:09:14
 test data_loader(per batch size): 79
 Testing accuracy: 0.8522999882698059 loss: 0.501172
 Testing Label Acc: [0.9795918464660645, 0.9638766646385193, 0.9215116500854492, 0.909900963306427, 0.8329938650131226, 0.7713004350662231, 0.9509394764900208, 0.4747081696987152, 0.8039014339447021, 0.9028741121292114]
 Testing Avg Label Acc : 0.8511598616838455
 Testing Std Label Acc : 0.14173455669318455
 Poison Acc: 0.5252918287937743
 Model_Weight_Norm : tensor(0.2923)
 Model_Weight_Norm_Slope : tensor(-0.1221)
======

Client 6
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round   3, Average loss 0.316468 ===
 100 users; time 20:09:30
 test data_loader(per batch size): 79
 Testing accuracy: 0.8489999771118164 loss: 0.55654
 Testing Label Acc: [0.9795918464660645, 0.9806167483329773, 0.9031007885932922, 0.8841584324836731, 0.9368635416030884, 0.8295964002609253, 0.9457202553749084, 0.27626457810401917, 0.8942505121231079, 0.8632309436798096]
 Testing Avg Label Acc : 0.8493394047021866
 Testing Std Label Acc : 0.19653660195399145
 Poison Acc: 0.7237354085603113
 Model_Weight_Norm : tensor(0.3357)
 Model_Weight_Norm_Slope : tensor(0.0247)
======

Client 7
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round   3, Average loss 0.280660 ===
 100 users; time 20:09:45
 test data_loader(per batch size): 79
 Testing accuracy: 0.9023000001907349 loss: 0.340778
 Testing Label Acc: [0.9744898080825806, 0.9797356724739075, 0.9031007885932922, 0.896039605140686, 0.8818737268447876, 0.8273542523384094, 0.9384133815765381, 0.8550583720207214, 0.8583162426948547, 0.8929633498191833]
 Testing Avg Label Acc : 0.9007345199584961
 Testing Std Label Acc : 0.04776480681936912
 Poison Acc: 0.14494163424124515
 Model_Weight_Norm : tensor(0.2900)
 Model_Weight_Norm_Slope : tensor(-0.1895)
======

Client 8
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round   3, Average loss 0.301742 ===
 100 users; time 20:10:01
 test data_loader(per batch size): 79
 Testing accuracy: 0.8544999957084656 loss: 0.475576
 Testing Label Acc: [0.9734693765640259, 0.9814978241920471, 0.8246123790740967, 0.9247524738311768, 0.8024439811706543, 0.7668161392211914, 0.9603340029716492, 0.5350194573402405, 0.8449692130088806, 0.9187313914299011]
 Testing Avg Label Acc : 0.8532646238803864
 Testing Std Label Acc : 0.12805429619434722
 Poison Acc: 0.4649805447470817
 Model_Weight_Norm : tensor(0.2982)
 Model_Weight_Norm_Slope : tensor(-0.1323)
======

Client 9
 1/100 are attackers with poison attack 
 count(target label):  100
=== Round   3, Average loss 0.304950 ===
 100 users; time 20:10:17
 test data_loader(per batch size): 79
 Testing accuracy: 0.9021999835968018 loss: 0.345414
 Testing Label Acc: [0.9765306115150452, 0.9867841601371765, 0.9040697813034058, 0.9138613939285278, 0.8716904520988464, 0.8329596519470215, 0.9488517642021179, 0.8278210163116455, 0.8377823233604431, 0.9058473706245422]
 Testing Avg Label Acc : 0.9006198525428772
 Testing Std Label Acc : 0.055127719425306025
 Poison Acc: 0.17217898832684825
 Model_Weight_Norm : tensor(0.2939)
 Model_Weight_Norm_Slope : tensor(-0.1307)
======

Test end 20:10:19
-------------------------------------------------------------------------

acc_list:  [(7, 0.9023000001907349), (9, 0.9021999835968018), (2, 0.8991000056266785), (4, 0.8690999746322632), (0, 0.8623999953269958), (8, 0.8544999957084656), (5, 0.8522999882698059), (6, 0.8489999771118164), (1, 0.8122000098228455), (3, 0.8009999990463257)]
acc_avg_difference:  0.024621002208441545
Acc_Avg (total global): 0.8600696460530163
Acc_Std (total global): 0.14659492658303191

good_group_acc :  0.8922237366437912
first save models
shuffle_clients (in good): [7, 9, 2, 4]
Shuffle in good !

shuffle_clients (in normal): [0, 8, 5]
Shuffle in normal!

shuffle_clients (in bad): [6, 1, 3]
Shuffle in bad !

max_local_ep_time:  13.024783849716187
round_time:  15.701892375946045

good:  [7, 9, 2, 4]
normal:  [0, 8, 5]
bad:  [6, 1, 3]
Client 0
 5/100 are attackers with poison attack 
 count(target label):  100
=== Round   4, Average loss 0.278231 ===
 100 users; time 20:10:32
 test data_loader(per batch size): 79
 Testing accuracy: 0.8335000276565552 loss: 0.575076
 Testing Label Acc: [0.9734693765640259, 0.9797356724739075, 0.9050387740135193, 0.89702969789505, 0.8329938650131226, 0.8901345133781433, 0.9665970802307129, 0.16050583124160767, 0.8223819136619568, 0.9167492389678955]
 Testing Avg Label Acc : 0.8344635963439941
 Testing Std Label Acc : 0.23043840557987907
 Poison Acc: 0.8394941634241245
 Model_Weight_Norm : tensor(0.3039)
 Model_Weight_Norm_Slope : tensor(-0.0341)
======

Client 1
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round   4, Average loss 0.381729 ===
 100 users; time 20:10:48
 test data_loader(per batch size): 79
 Testing accuracy: 0.8849999904632568 loss: 0.379944
 Testing Label Acc: [0.9765306115150452, 0.9541850090026855, 0.9263566136360168, 0.9326732754707336, 0.8095722794532776, 0.7679372429847717, 0.9467641115188599, 0.7402724027633667, 0.8305954933166504, 0.9464816451072693]
 Testing Avg Label Acc : 0.8831368684768677
 Testing Std Label Acc : 0.0824660975327929
 Poison Acc: 0.259727626459144
 Model_Weight_Norm : tensor(0.4291)
 Model_Weight_Norm_Slope : tensor(-0.1240)
======

Client 2
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round   4, Average loss 0.225176 ===
 100 users; time 20:11:03
 test data_loader(per batch size): 79
 Testing accuracy: 0.9125999808311462 loss: 0.296999
 Testing Label Acc: [0.9755101799964905, 0.9850220084190369, 0.8992248177528381, 0.906930685043335, 0.885947048664093, 0.8587443828582764, 0.9519832730293274, 0.868677020072937, 0.8696098327636719, 0.9117938280105591]
 Testing Avg Label Acc : 0.9113443076610566
 Testing Std Label Acc : 0.04282264484527971
 Poison Acc: 0.13132295719844359
 Model_Weight_Norm : tensor(0.1784)
 Model_Weight_Norm_Slope : tensor(-0.1149)
======

Client 3
 5/100 are attackers with poison attack 
 count(target label):  100
=== Round   4, Average loss 0.334652 ===
 100 users; time 20:11:14
 test data_loader(per batch size): 79
 Testing accuracy: 0.8720999956130981 loss: 0.455671
 Testing Label Acc: [0.9785714149475098, 0.9920704960823059, 0.8759689927101135, 0.894059419631958, 0.8105906248092651, 0.8452914953231812, 0.9530271291732788, 0.5359922051429749, 0.895277202129364, 0.9345887303352356]
 Testing Avg Label Acc : 0.8715437710285187
 Testing Std Label Acc : 0.12437240317543641
 Poison Acc: 0.46400778210116733
 Model_Weight_Norm : tensor(0.3243)
 Model_Weight_Norm_Slope : tensor(-0.0816)
======

Client 4
 2/100 are attackers with poison attack 
 count(target label):  100
=== Round   4, Average loss 0.225366 ===
 100 users; time 20:11:26
 test data_loader(per batch size): 79
 Testing accuracy: 0.8952999711036682 loss: 0.363213
 Testing Label Acc: [0.9734693765640259, 0.9814978241920471, 0.8817829489707947, 0.9306930899620056, 0.9032586812973022, 0.8262332081794739, 0.9519832730293274, 0.6692606806755066, 0.8993839621543884, 0.9266600608825684]
 Testing Avg Label Acc : 0.8944223105907441
 Testing Std Label Acc : 0.08666525039152168
 Poison Acc: 0.33073929961089493
 Model_Weight_Norm : tensor(0.2161)
 Model_Weight_Norm_Slope : tensor(-0.0927)
======

Client 5
 2/100 are attackers with poison attack 
 count(target label):  100
=== Round   4, Average loss 0.264124 ===
 100 users; time 20:11:38
 test data_loader(per batch size): 79
 Testing accuracy: 0.8952000141143799 loss: 0.370081
 Testing Label Acc: [0.9673469662666321, 0.9744493365287781, 0.8779069781303406, 0.9326732754707336, 0.9266802668571472, 0.8307175040245056, 0.9467641115188599, 0.6994163393974304, 0.9127309918403625, 0.8761149644851685]
 Testing Avg Label Acc : 0.8944800734519959
 Testing Std Label Acc : 0.07745606962600318
 Poison Acc: 0.3005836575875486
 Model_Weight_Norm : tensor(0.2247)
 Model_Weight_Norm_Slope : tensor(-0.0676)
======

Client 6
 5/100 are attackers with poison attack 
 count(target label):  100
=== Round   4, Average loss 0.295541 ===
 100 users; time 20:11:49
 test data_loader(per batch size): 79
 Testing accuracy: 0.8723999857902527 loss: 0.47837
 Testing Label Acc: [0.9530612230300903, 0.9885462522506714, 0.9108527302742004, 0.909900963306427, 0.9236252307891846, 0.8441703915596008, 0.9488517642021179, 0.4649805426597595, 0.8737166523933411, 0.9028741121292114]
 Testing Avg Label Acc : 0.8720579862594604
 Testing Std Label Acc : 0.1410910260816662
 Poison Acc: 0.5350194552529183
 Model_Weight_Norm : tensor(0.3252)
 Model_Weight_Norm_Slope : tensor(-0.0105)
======

Client 7
 2/100 are attackers with poison attack 
 count(target label):  100
=== Round   4, Average loss 0.243272 ===
 100 users; time 20:12:01
 test data_loader(per batch size): 79
 Testing accuracy: 0.8784000277519226 loss: 0.431917
 Testing Label Acc: [0.9714285731315613, 0.9850220084190369, 0.930232584476471, 0.906930685043335, 0.9348269104957581, 0.8632286787033081, 0.9561586380004883, 0.505836546421051, 0.8542094230651855, 0.8741328120231628]
 Testing Avg Label Acc : 0.8782006859779358
 Testing Std Label Acc : 0.13129747845635847
 Poison Acc: 0.49416342412451364
 Model_Weight_Norm : tensor(0.2558)
 Model_Weight_Norm_Slope : tensor(-0.0342)
======

Client 8
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round   4, Average loss 0.251763 ===
 100 users; time 20:12:13
 test data_loader(per batch size): 79
 Testing accuracy: 0.8912000060081482 loss: 0.414493
 Testing Label Acc: [0.9785714149475098, 0.9850220084190369, 0.9370155334472656, 0.8831683397293091, 0.9460285305976868, 0.9002242088317871, 0.9394571781158447, 0.6157587766647339, 0.8675564527511597, 0.8582755327224731]
 Testing Avg Label Acc : 0.8911077976226807
 Testing Std Label Acc : 0.10076064897040898
 Poison Acc: 0.3842412451361868
 Model_Weight_Norm : tensor(0.2462)
 Model_Weight_Norm_Slope : tensor(-0.0520)
======

Client 9
 2/100 are attackers with poison attack 
 count(target label):  100
=== Round   4, Average loss 0.239963 ===
 100 users; time 20:12:25
 test data_loader(per batch size): 79
 Testing accuracy: 0.8844000101089478 loss: 0.405366
 Testing Label Acc: [0.9755101799964905, 0.9867841601371765, 0.9176356792449951, 0.893069326877594, 0.8686354160308838, 0.8957399129867554, 0.9592902064323425, 0.5661478638648987, 0.8685831427574158, 0.9117938280105591]
 Testing Avg Label Acc : 0.8843189716339112
 Testing Std Label Acc : 0.11324043393939216
 Poison Acc: 0.433852140077821
 Model_Weight_Norm : tensor(0.2218)
 Model_Weight_Norm_Slope : tensor(-0.0721)
======

Test end 20:12:27
-------------------------------------------------------------------------

acc_list:  [(2, 0.9125999808311462), (4, 0.8952999711036682), (5, 0.8952000141143799), (8, 0.8912000060081482), (1, 0.8849999904632568), (9, 0.8844000101089478), (7, 0.8784000277519226), (6, 0.8723999857902527), (3, 0.8720999956130981), (0, 0.8335000276565552)]
acc_avg_difference:  0.021437990851700284
Acc_Avg (total global): 0.8815076369047166
Acc_Std (total global): 0.1130610458598739

good_group_acc :  0.8978386223316193
models updates
before:  0.8922237366437912  now: 0.8978386223316193
normal:  {519, 8, 9, 524, 531, 541, 31, 548, 551, 552, 41, 569, 58, 572, 67, 581, 80, 84, 85, 102, 615, 621, 627, 628, 116, 630, 120, 633, 653, 142, 655, 145, 660, 661, 662, 150, 154, 155, 172, 693, 707, 197, 717, 733, 226, 749, 242, 248, 263, 776, 267, 268, 785, 274, 794, 796, 287, 801, 290, 292, 298, 811, 300, 304, 816, 308, 311, 828, 836, 838, 844, 848, 850, 344, 345, 861, 862, 867, 870, 873, 875, 370, 883, 386, 396, 910, 403, 420, 421, 932, 425, 431, 433, 436, 451, 981, 998, 999, 490, 492}

normal:  {514, 4, 517, 525, 539, 29, 543, 39, 40, 49, 56, 571, 577, 589, 592, 89, 93, 96, 608, 98, 100, 612, 103, 129, 642, 643, 645, 647, 147, 152, 160, 163, 679, 680, 186, 190, 193, 196, 711, 201, 714, 721, 209, 214, 220, 228, 231, 747, 755, 756, 244, 760, 766, 261, 262, 788, 797, 803, 303, 825, 314, 830, 319, 833, 324, 326, 333, 343, 856, 366, 878, 372, 898, 402, 918, 919, 408, 412, 418, 934, 945, 434, 947, 437, 438, 950, 441, 442, 444, 452, 453, 466, 986, 990, 480, 486, 488, 491, 498, 503}

normal:  {3, 6, 520, 19, 549, 554, 556, 54, 60, 61, 62, 597, 600, 92, 610, 99, 105, 617, 622, 111, 112, 624, 122, 638, 640, 641, 133, 136, 648, 651, 140, 657, 146, 669, 674, 166, 681, 683, 685, 180, 694, 706, 709, 200, 202, 718, 207, 206, 210, 723, 211, 729, 230, 234, 236, 238, 243, 757, 770, 260, 779, 781, 275, 289, 301, 822, 315, 331, 335, 337, 852, 348, 865, 866, 872, 364, 881, 375, 889, 378, 382, 389, 906, 907, 912, 409, 427, 429, 446, 448, 962, 456, 462, 979, 468, 985, 991, 997, 487, 510}

shuffle_clients (in good): [2, 4, 5, 8]
Shuffle in good !

shuffle_clients (in normal): [1, 9, 7]
Shuffle in normal!

shuffle_clients (in bad): [6, 3, 0]
Shuffle in bad !

max_local_ep_time:  9.092508316040039
round_time:  11.724358797073364

good:  [2, 4, 5, 8]
normal:  [1, 9, 7]
bad:  [6, 3, 0]
Client 0
 6/100 are attackers with poison attack 
 count(target label):  100
=== Round   5, Average loss 0.276028 ===
 100 users; time 20:12:36
 test data_loader(per batch size): 79
 Testing accuracy: 0.8636999726295471 loss: 0.508032
 Testing Label Acc: [0.9744898080825806, 0.9859030842781067, 0.8798449635505676, 0.894059419631958, 0.9460285305976868, 0.8273542523384094, 0.9373695254325867, 0.3745136260986328, 0.9620122909545898, 0.857284426689148]
 Testing Avg Label Acc : 0.8638859927654267
 Testing Std Label Acc : 0.1705655174713633
 Poison Acc: 0.6254863813229572
 Model_Weight_Norm : tensor(0.3274)
 Model_Weight_Norm_Slope : tensor(0.0234)
======

Client 1
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round   5, Average loss 0.228548 ===
 100 users; time 20:12:52
 test data_loader(per batch size): 79
 Testing accuracy: 0.8673999905586243 loss: 0.473181
 Testing Label Acc: [0.9744898080825806, 0.9920704960823059, 0.8963178396224976, 0.8396039605140686, 0.9287168979644775, 0.9405829310417175, 0.9488517642021179, 0.40175098180770874, 0.9045174717903137, 0.8582755327224731]
 Testing Avg Label Acc : 0.8685177683830261
 Testing Std Label Acc : 0.16206393516407522
 Poison Acc: 0.5982490272373541
 Model_Weight_Norm : tensor(0.2585)
 Model_Weight_Norm_Slope : tensor(-0.1706)
======

Client 2
 2/100 are attackers with poison attack 
 count(target label):  100
=== Round   5, Average loss 0.219933 ===
 100 users; time 20:13:07
 test data_loader(per batch size): 79
 Testing accuracy: 0.8795999884605408 loss: 0.424953
 Testing Label Acc: [0.9673469662666321, 0.9718061685562134, 0.8972868323326111, 0.9257425665855408, 0.914460301399231, 0.8643497824668884, 0.9613778591156006, 0.4688715934753418, 0.9147843718528748, 0.9127849340438843]
 Testing Avg Label Acc : 0.8798811376094818
 Testing Std Label Acc : 0.1406467594723637
 Poison Acc: 0.5311284046692607
 Model_Weight_Norm : tensor(0.2755)
 Model_Weight_Norm_Slope : tensor(0.0971)
======

Client 3
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round   5, Average loss 0.232290 ===
 100 users; time 20:13:23
 test data_loader(per batch size): 79
 Testing accuracy: 0.8920999765396118 loss: 0.394058
 Testing Label Acc: [0.9693877696990967, 0.9867841601371765, 0.930232584476471, 0.8584158420562744, 0.932790219783783, 0.9181614518165588, 0.9592902064323425, 0.5933852195739746, 0.8839835524559021, 0.8909811973571777]
 Testing Avg Label Acc : 0.8923412203788758
 Testing Std Label Acc : 0.10661786423052316
 Poison Acc: 0.4066147859922179
 Model_Weight_Norm : tensor(0.2497)
 Model_Weight_Norm_Slope : tensor(-0.0746)
======

Client 4
 2/100 are attackers with poison attack 
 count(target label):  100
=== Round   5, Average loss 0.218091 ===
 100 users; time 20:13:38
 test data_loader(per batch size): 79
 Testing accuracy: 0.902999997138977 loss: 0.34452
 Testing Label Acc: [0.9734693765640259, 0.9744493365287781, 0.9205426573753357, 0.8722772002220154, 0.9103869795799255, 0.9237667918205261, 0.9498956203460693, 0.6760700345039368, 0.9353182911872864, 0.8969276547431946]
 Testing Avg Label Acc : 0.9033103942871094
 Testing Std Label Acc : 0.08159975086437422
 Poison Acc: 0.3239299610894942
 Model_Weight_Norm : tensor(0.2017)
 Model_Weight_Norm_Slope : tensor(-0.0143)
======

Client 5
 1/100 are attackers with poison attack 
 count(target label):  100
=== Round   5, Average loss 0.194721 ===
 100 users; time 20:13:54
 test data_loader(per batch size): 79
 Testing accuracy: 0.914900004863739 loss: 0.293687
 Testing Label Acc: [0.9755101799964905, 0.9850220084190369, 0.9253876209259033, 0.907920777797699, 0.909368634223938, 0.8957399129867554, 0.9603340029716492, 0.7957198619842529, 0.8757700324058533, 0.9117938280105591]
 Testing Avg Label Acc : 0.9142566859722138
 Testing Std Label Acc : 0.0519152316024002
 Poison Acc: 0.20428015564202334
 Model_Weight_Norm : tensor(0.1711)
 Model_Weight_Norm_Slope : tensor(-0.0536)
======

Client 6
 6/100 are attackers with poison attack 
 count(target label):  100
=== Round   5, Average loss 0.279314 ===
 100 users; time 20:14:09
 test data_loader(per batch size): 79
 Testing accuracy: 0.8324000239372253 loss: 0.631495
 Testing Label Acc: [0.9928571581840515, 0.9770925045013428, 0.8943798542022705, 0.9287128448486328, 0.9429734945297241, 0.894618809223175, 0.9279749393463135, 0.002918287878856063, 0.8891170620918274, 0.8909811973571777]
 Testing Avg Label Acc : 0.8341626152163372
 Testing Std Label Acc : 0.2792292531704737
 Poison Acc: 0.9970817120622568
 Model_Weight_Norm : tensor(0.3408)
 Model_Weight_Norm_Slope : tensor(0.0156)
======

Client 7
 5/100 are attackers with poison attack 
 count(target label):  100
=== Round   5, Average loss 0.254613 ===
 100 users; time 20:14:24
 test data_loader(per batch size): 79
 Testing accuracy: 0.8310999870300293 loss: 0.61418
 Testing Label Acc: [0.9744898080825806, 0.9726872444152832, 0.9031007885932922, 0.9148514866828918, 0.8146639466285706, 0.8856502175331116, 0.9592902064323425, 0.056420233100652695, 0.9147843718528748, 0.9296333193778992]
 Testing Avg Label Acc : 0.8325571622699499
 Testing Std Label Acc : 0.26254599714634436
 Poison Acc: 0.943579766536965
 Model_Weight_Norm : tensor(0.3546)
 Model_Weight_Norm_Slope : tensor(0.0988)
======

Client 8
 2/100 are attackers with poison attack 
 count(target label):  100
=== Round   5, Average loss 0.219091 ===
 100 users; time 20:14:40
 test data_loader(per batch size): 79
 Testing accuracy: 0.906499981880188 loss: 0.331612
 Testing Label Acc: [0.9795918464660645, 0.9850220084190369, 0.911821722984314, 0.9108911156654358, 0.8879836797714233, 0.902466356754303, 0.9415448904037476, 0.7042801380157471, 0.9147843718528748, 0.9236868023872375]
 Testing Avg Label Acc : 0.9062072932720184
 Testing Std Label Acc : 0.07375569672661046
 Poison Acc: 0.29571984435797666
 Model_Weight_Norm : tensor(0.1984)
 Model_Weight_Norm_Slope : tensor(-0.0478)
======

Client 9
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round   5, Average loss 0.194597 ===
 100 users; time 20:14:55
 test data_loader(per batch size): 79
 Testing accuracy: 0.9247999787330627 loss: 0.260534
 Testing Label Acc: [0.9755101799964905, 0.9850220084190369, 0.9166666865348816, 0.9128713011741638, 0.909368634223938, 0.9091928005218506, 0.9498956203460693, 0.8891050815582275, 0.8839835524559021, 0.908820629119873]
 Testing Avg Label Acc : 0.9240436494350434
 Testing Std Label Acc : 0.03272291002853541
 Poison Acc: 0.11089494163424124
 Model_Weight_Norm : tensor(0.1930)
 Model_Weight_Norm_Slope : tensor(-0.0288)
======

Test end 20:14:58
-------------------------------------------------------------------------

acc_list:  [(9, 0.9247999787330627), (5, 0.914900004863739), (8, 0.906499981880188), (4, 0.902999997138977), (3, 0.8920999765396118), (2, 0.8795999884605408), (1, 0.8673999905586243), (0, 0.8636999726295471), (6, 0.8324000239372253), (7, 0.8310999870300293)]
acc_avg_difference:  0.0004087550542317686
Acc_Avg (total global): 0.8819163919589483
Acc_Std (total global): 0.13616629158770638

good_group_acc :  0.9119545057415962
models updates
before:  0.8978386223316193  now: 0.9119545057415962
normal:  {512, 2, 7, 10, 533, 24, 25, 27, 540, 32, 558, 567, 57, 63, 65, 66, 71, 585, 75, 590, 79, 596, 87, 602, 97, 110, 126, 639, 658, 153, 158, 672, 673, 676, 677, 678, 684, 181, 695, 700, 188, 703, 192, 208, 221, 740, 744, 247, 763, 767, 256, 255, 774, 266, 279, 793, 282, 286, 806, 296, 299, 815, 305, 823, 312, 318, 328, 849, 851, 339, 853, 357, 871, 877, 373, 891, 892, 897, 391, 904, 393, 394, 397, 399, 930, 935, 936, 426, 940, 432, 948, 973, 978, 982, 475, 477, 993, 485, 501, 509}

normal:  {0, 518, 526, 16, 21, 534, 33, 35, 42, 43, 48, 583, 584, 586, 587, 82, 83, 595, 606, 623, 118, 121, 636, 125, 137, 652, 654, 666, 156, 167, 170, 697, 698, 187, 198, 719, 724, 727, 217, 746, 751, 241, 758, 249, 252, 773, 777, 784, 789, 791, 283, 288, 810, 812, 821, 829, 323, 839, 327, 841, 842, 843, 332, 845, 329, 847, 855, 347, 351, 354, 356, 363, 876, 885, 905, 908, 398, 917, 413, 925, 927, 937, 942, 946, 953, 958, 963, 969, 458, 972, 461, 463, 465, 469, 471, 988, 479, 489, 507, 511}

normal:  {514, 517, 524, 19, 539, 541, 41, 554, 49, 54, 58, 62, 67, 93, 610, 615, 617, 622, 112, 630, 120, 122, 638, 642, 645, 133, 647, 136, 653, 655, 147, 661, 150, 662, 154, 155, 669, 160, 674, 681, 172, 180, 693, 694, 193, 707, 197, 201, 202, 717, 214, 733, 226, 236, 238, 756, 770, 262, 268, 788, 796, 797, 290, 292, 811, 303, 816, 315, 828, 319, 844, 333, 337, 850, 852, 348, 870, 873, 366, 881, 912, 402, 403, 412, 420, 934, 431, 945, 437, 438, 448, 453, 456, 466, 979, 981, 986, 998, 492, 498}

shuffle_clients (in good): [9, 5, 8, 4]
Shuffle in good !

shuffle_clients (in normal): [3, 2, 1]
Shuffle in normal!

shuffle_clients (in bad): [0, 6, 7]
Shuffle in bad !

max_local_ep_time:  12.953302145004272
round_time:  15.628517627716064

good:  [9, 5, 8, 4]
normal:  [3, 2, 1]
bad:  [0, 6, 7]
Client 0
 8/100 are attackers with poison attack 
 count(target label):  100
=== Round   6, Average loss 0.266526 ===
 100 users; time 20:15:11
 test data_loader(per batch size): 79
 Testing accuracy: 0.8159000277519226 loss: 0.701253
 Testing Label Acc: [0.9897959232330322, 0.9859030842781067, 0.9098837375640869, 0.9188118577003479, 0.8574337959289551, 0.8295964002609253, 0.9718163013458252, 0.0, 0.7648870348930359, 0.9365708827972412]
 Testing Avg Label Acc : 0.8164699018001557
 Testing Std Label Acc : 0.2806493401838278
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.3806)
 Model_Weight_Norm_Slope : tensor(0.0533)
======

Client 1
 1/100 are attackers with poison attack 
 count(target label):  100
=== Round   6, Average loss 0.200875 ===
 100 users; time 20:15:27
 test data_loader(per batch size): 79
 Testing accuracy: 0.9228000044822693 loss: 0.265454
 Testing Label Acc: [0.9744898080825806, 0.9867841601371765, 0.9350775480270386, 0.907920777797699, 0.9073320031166077, 0.8901345133781433, 0.9384133815765381, 0.8356031179428101, 0.9158110618591309, 0.9276511669158936]
 Testing Avg Label Acc : 0.9219217538833618
 Testing Std Label Acc : 0.04044251627918546
 Poison Acc: 0.16439688715953307
 Model_Weight_Norm : tensor(0.2113)
 Model_Weight_Norm_Slope : tensor(-0.0472)
======

Client 2
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round   6, Average loss 0.206901 ===
 100 users; time 20:15:42
 test data_loader(per batch size): 79
 Testing accuracy: 0.8944000005722046 loss: 0.388892
 Testing Label Acc: [0.9765306115150452, 0.9885462522506714, 0.9156976938247681, 0.9019802212715149, 0.9429734945297241, 0.9047085046768188, 0.9634655714035034, 0.6040856242179871, 0.8377823233604431, 0.9078295230865479]
 Testing Avg Label Acc : 0.8943599820137024
 Testing Std Label Acc : 0.10536794704271107
 Poison Acc: 0.3959143968871595
 Model_Weight_Norm : tensor(0.2356)
 Model_Weight_Norm_Slope : tensor(-0.0399)
======

Client 3
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round   6, Average loss 0.210253 ===
 100 users; time 20:15:58
 test data_loader(per batch size): 79
 Testing accuracy: 0.8654999732971191 loss: 0.47799
 Testing Label Acc: [0.9765306115150452, 0.9682819247245789, 0.8943798542022705, 0.9386138319969177, 0.8615071177482605, 0.9058296084403992, 0.9509394764900208, 0.3025291860103607, 0.9260780215263367, 0.9415262341499329]
 Testing Avg Label Acc : 0.8666215866804123
 Testing Std Label Acc : 0.19088927851726997
 Poison Acc: 0.6974708171206225
 Model_Weight_Norm : tensor(0.2653)
 Model_Weight_Norm_Slope : tensor(0.0156)
======

Client 4
 1/100 are attackers with poison attack 
 count(target label):  100
=== Round   6, Average loss 0.181640 ===
 100 users; time 20:16:14
 test data_loader(per batch size): 79
 Testing accuracy: 0.9221000075340271 loss: 0.265011
 Testing Label Acc: [0.9744898080825806, 0.9903083443641663, 0.9195736646652222, 0.9207921028137207, 0.8991853594779968, 0.8957399129867554, 0.9603340029716492, 0.8297665119171143, 0.8963038921356201, 0.9266600608825684]
 Testing Avg Label Acc : 0.9213153660297394
 Testing Std Label Acc : 0.04392321364725202
 Poison Acc: 0.17023346303501946
 Model_Weight_Norm : tensor(0.1696)
 Model_Weight_Norm_Slope : tensor(-0.0322)
======

Client 5
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round   6, Average loss 0.190305 ===
 100 users; time 20:16:29
 test data_loader(per batch size): 79
 Testing accuracy: 0.8734999895095825 loss: 0.44483
 Testing Label Acc: [0.9734693765640259, 0.9885462522506714, 0.9011628031730652, 0.9138613939285278, 0.9378818869590759, 0.8968609571456909, 0.9582463502883911, 0.34824901819229126, 0.9127309918403625, 0.9117938280105591]
 Testing Avg Label Acc : 0.8742802858352661
 Testing Std Label Acc : 0.1778720012244038
 Poison Acc: 0.6517509727626459
 Model_Weight_Norm : tensor(0.2526)
 Model_Weight_Norm_Slope : tensor(0.0815)
======

Client 6
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round   6, Average loss 0.252546 ===
 100 users; time 20:16:45
 test data_loader(per batch size): 79
 Testing accuracy: 0.9110000133514404 loss: 0.309747
 Testing Label Acc: [0.9714285731315613, 0.9894273281097412, 0.9166666865348816, 0.8732673525810242, 0.8879836797714233, 0.9035874605178833, 0.9634655714035034, 0.7811284065246582, 0.8839835524559021, 0.9335976243019104]
 Testing Avg Label Acc : 0.9104536235332489
 Testing Std Label Acc : 0.057183775465770685
 Poison Acc: 0.2188715953307393
 Model_Weight_Norm : tensor(0.2889)
 Model_Weight_Norm_Slope : tensor(-0.0519)
======

Client 7
 6/100 are attackers with poison attack 
 count(target label):  100
=== Round   6, Average loss 0.285024 ===
 100 users; time 20:17:01
 test data_loader(per batch size): 79
 Testing accuracy: 0.8203999996185303 loss: 0.567626
 Testing Label Acc: [0.9877551198005676, 0.9938325881958008, 0.8323643207550049, 0.8990098834037781, 0.9663951396942139, 0.8352017998695374, 0.9352818131446838, 0.20817120373249054, 0.7956879138946533, 0.7552031874656677]
 Testing Avg Label Acc : 0.8208902969956398
 Testing Std Label Acc : 0.21882042163125473
 Poison Acc: 0.791828793774319
 Model_Weight_Norm : tensor(0.3326)
 Model_Weight_Norm_Slope : tensor(-0.0221)
======

Client 8
 1/100 are attackers with poison attack 
 count(target label):  100
=== Round   6, Average loss 0.181314 ===
 100 users; time 20:17:16
 test data_loader(per batch size): 79
 Testing accuracy: 0.9240000247955322 loss: 0.267011
 Testing Label Acc: [0.9785714149475098, 0.9867841601371765, 0.9089147448539734, 0.9178217649459839, 0.9317718744277954, 0.9002242088317871, 0.9561586380004883, 0.8307393193244934, 0.9117043018341064, 0.9117938280105591]
 Testing Avg Label Acc : 0.9234484255313873
 Testing Std Label Acc : 0.04223763833914815
 Poison Acc: 0.16926070038910507
 Model_Weight_Norm : tensor(0.1528)
 Model_Weight_Norm_Slope : tensor(-0.0456)
======

Client 9
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round   6, Average loss 0.163677 ===
 100 users; time 20:17:32
 test data_loader(per batch size): 79
 Testing accuracy: 0.929099977016449 loss: 0.237963
 Testing Label Acc: [0.9795918464660645, 0.9850220084190369, 0.9195736646652222, 0.9188118577003479, 0.9246435761451721, 0.9136771559715271, 0.9488517642021179, 0.8988326787948608, 0.8850102424621582, 0.9098116755485535]
 Testing Avg Label Acc : 0.9283826470375061
 Testing Std Label Acc : 0.031221885757835893
 Poison Acc: 0.10116731517509728
 Model_Weight_Norm : tensor(0.1151)
 Model_Weight_Norm_Slope : tensor(-0.0779)
======

Test end 20:17:35
-------------------------------------------------------------------------

acc_list:  [(9, 0.929099977016449), (8, 0.9240000247955322), (1, 0.9228000044822693), (4, 0.9221000075340271), (6, 0.9110000133514404), (2, 0.8944000005722046), (5, 0.8734999895095825), (3, 0.8654999732971191), (7, 0.8203999996185303), (0, 0.8159000277519226)]
acc_avg_difference:  0.00589799497509369
Acc_Avg (total global): 0.887814386934042
Acc_Std (total global): 0.11886080180886596

good_group_acc :  0.9237670481204986
models updates
before:  0.9119545057415962  now: 0.9237670481204986
normal:  {3, 527, 18, 532, 542, 37, 550, 551, 50, 55, 64, 580, 70, 78, 591, 604, 99, 611, 614, 116, 631, 119, 128, 135, 145, 162, 163, 168, 680, 171, 685, 185, 711, 715, 721, 210, 722, 215, 736, 240, 755, 757, 245, 248, 251, 764, 765, 263, 780, 271, 276, 278, 795, 801, 298, 813, 301, 311, 316, 833, 322, 836, 837, 840, 330, 331, 340, 344, 859, 860, 869, 360, 361, 882, 884, 888, 893, 895, 390, 392, 395, 910, 918, 408, 920, 410, 926, 932, 424, 425, 433, 434, 952, 966, 971, 977, 487, 491, 495, 510}

normal:  {512, 0, 517, 533, 534, 25, 539, 27, 541, 33, 554, 48, 49, 66, 71, 586, 97, 617, 623, 112, 120, 121, 122, 636, 125, 133, 647, 136, 137, 658, 147, 661, 662, 666, 156, 669, 674, 678, 170, 684, 180, 693, 181, 187, 188, 700, 197, 727, 217, 733, 740, 751, 252, 770, 773, 774, 789, 793, 283, 292, 296, 812, 312, 839, 842, 333, 847, 851, 853, 351, 357, 870, 363, 881, 885, 891, 892, 897, 904, 394, 398, 402, 925, 934, 942, 437, 438, 953, 453, 456, 969, 979, 981, 982, 469, 986, 993, 998, 509, 511}

normal:  {1, 525, 29, 547, 553, 45, 562, 51, 53, 570, 59, 69, 72, 74, 76, 77, 85, 597, 600, 603, 101, 107, 114, 633, 635, 134, 139, 143, 146, 148, 663, 667, 157, 159, 161, 675, 165, 679, 682, 683, 174, 177, 705, 199, 205, 720, 723, 212, 728, 219, 220, 223, 232, 761, 762, 253, 254, 769, 259, 775, 265, 273, 787, 802, 808, 818, 306, 309, 824, 831, 832, 326, 343, 856, 349, 350, 353, 868, 358, 364, 889, 404, 924, 418, 422, 439, 444, 957, 446, 452, 460, 974, 462, 467, 983, 472, 987, 481, 484, 486}

shuffle_clients (in good): [9, 8, 1, 4]
Shuffle in good !

shuffle_clients (in normal): [6, 2, 5]
Shuffle in normal!

shuffle_clients (in bad): [3, 7, 0]
Shuffle in bad !

max_local_ep_time:  13.009013414382935
round_time:  15.682698965072632

good:  [9, 8, 1, 4]
normal:  [6, 2, 5]
bad:  [3, 7, 0]
Client 0
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round   7, Average loss 0.254556 ===
 100 users; time 20:17:47
 test data_loader(per batch size): 79
 Testing accuracy: 0.9175000190734863 loss: 0.323767
 Testing Label Acc: [0.9806122183799744, 0.9876651763916016, 0.9127907156944275, 0.896039605140686, 0.9368635416030884, 0.9013453125953674, 0.9352818131446838, 0.7344357967376709, 0.9650924205780029, 0.9226957559585571]
 Testing Avg Label Acc : 0.917282235622406
 Testing Std Label Acc : 0.06793026293166186
 Poison Acc: 0.26556420233463035
 Model_Weight_Norm : tensor(0.3302)
 Model_Weight_Norm_Slope : tensor(-0.0504)
======

Client 1
 1/100 are attackers with poison attack 
 count(target label):  100
=== Round   7, Average loss 0.155586 ===
 100 users; time 20:18:03
 test data_loader(per batch size): 79
 Testing accuracy: 0.9247999787330627 loss: 0.254042
 Testing Label Acc: [0.9765306115150452, 0.9903083443641663, 0.9292635917663574, 0.9108911156654358, 0.9052953124046326, 0.9248878955841064, 0.9509394764900208, 0.8054474592208862, 0.9137576818466187, 0.9365708827972412]
 Testing Avg Label Acc : 0.9243892371654511
 Testing Std Label Acc : 0.04769520003138373
 Poison Acc: 0.19455252918287938
 Model_Weight_Norm : tensor(0.1366)
 Model_Weight_Norm_Slope : tensor(-0.0747)
======

Client 2
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round   7, Average loss 0.211949 ===
 100 users; time 20:18:19
 test data_loader(per batch size): 79
 Testing accuracy: 0.8689000010490417 loss: 0.478715
 Testing Label Acc: [0.9755101799964905, 0.9876651763916016, 0.8982558250427246, 0.8841584324836731, 0.9307535886764526, 0.894618809223175, 0.9488517642021179, 0.30447471141815186, 0.9579055309295654, 0.9167492389678955]
 Testing Avg Label Acc : 0.8698943257331848
 Testing Std Label Acc : 0.19136944473112252
 Poison Acc: 0.6955252918287937
 Model_Weight_Norm : tensor(0.2500)
 Model_Weight_Norm_Slope : tensor(0.0144)
======

Client 3
 7/100 are attackers with poison attack 
 count(target label):  100
=== Round   7, Average loss 0.235870 ===
 100 users; time 20:18:34
 test data_loader(per batch size): 79
 Testing accuracy: 0.8357999920845032 loss: 0.557748
 Testing Label Acc: [0.9632652997970581, 0.9894273281097412, 0.940891444683075, 0.8851485252380371, 0.8890020251274109, 0.9372197389602661, 0.9749478101730347, 0.006809338461607695, 0.8911704421043396, 0.8999009132385254]
 Testing Avg Label Acc : 0.8377782865893095
 Testing Std Label Acc : 0.27931487124104654
 Poison Acc: 0.9931906614785992
 Model_Weight_Norm : tensor(0.3117)
 Model_Weight_Norm_Slope : tensor(0.0464)
======

Client 4
 1/100 are attackers with poison attack 
 count(target label):  100
=== Round   7, Average loss 0.144277 ===
 100 users; time 20:18:50
 test data_loader(per batch size): 79
 Testing accuracy: 0.9254000186920166 loss: 0.2512
 Testing Label Acc: [0.981632649898529, 0.9885462522506714, 0.9186046719551086, 0.9306930899620056, 0.9256619215011597, 0.9091928005218506, 0.9519832730293274, 0.8064202070236206, 0.9086242318153381, 0.9276511669158936]
 Testing Avg Label Acc : 0.9249010264873505
 Testing Std Label Acc : 0.04757453230138596
 Poison Acc: 0.193579766536965
 Model_Weight_Norm : tensor(0.1305)
 Model_Weight_Norm_Slope : tensor(-0.0391)
======

Client 5
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round   7, Average loss 0.206166 ===
 100 users; time 20:19:06
 test data_loader(per batch size): 79
 Testing accuracy: 0.9108999967575073 loss: 0.327154
 Testing Label Acc: [0.9795918464660645, 0.9806167483329773, 0.9195736646652222, 0.9019802212715149, 0.9338085651397705, 0.9226457476615906, 0.9540709853172302, 0.6877431869506836, 0.9178645014762878, 0.9127849340438843]
 Testing Avg Label Acc : 0.9110680401325226
 Testing Std Label Acc : 0.07881054922477922
 Poison Acc: 0.3122568093385214
 Model_Weight_Norm : tensor(0.2157)
 Model_Weight_Norm_Slope : tensor(-0.0369)
======

Client 6
 2/100 are attackers with poison attack 
 count(target label):  100
=== Round   7, Average loss 0.174583 ===
 100 users; time 20:19:22
 test data_loader(per batch size): 79
 Testing accuracy: 0.9110000133514404 loss: 0.30736
 Testing Label Acc: [0.9775510430335999, 0.9779735803604126, 0.9215116500854492, 0.9425742626190186, 0.9541751742362976, 0.8890134692192078, 0.9592902064323425, 0.6780155897140503, 0.9065708518028259, 0.901883065700531]
 Testing Avg Label Acc : 0.9108558893203735
 Testing Std Label Acc : 0.08311777276141326
 Poison Acc: 0.3219844357976654
 Model_Weight_Norm : tensor(0.1872)
 Model_Weight_Norm_Slope : tensor(-0.1016)
======

Client 7
 7/100 are attackers with poison attack 
 count(target label):  100
=== Round   7, Average loss 0.259602 ===
 100 users; time 20:19:37
 test data_loader(per batch size): 79
 Testing accuracy: 0.8080999851226807 loss: 0.691412
 Testing Label Acc: [0.9397959113121033, 0.9189427495002747, 0.934108555316925, 0.9396039843559265, 0.6924643516540527, 0.9204035997390747, 0.9467641115188599, 0.0, 0.8891170620918274, 0.9217046499252319]
 Testing Avg Label Acc : 0.8102904975414276
 Testing Std Label Acc : 0.2793671826885793
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.4133)
 Model_Weight_Norm_Slope : tensor(0.0808)
======

Client 8
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round   7, Average loss 0.146601 ===
 100 users; time 20:19:53
 test data_loader(per batch size): 79
 Testing accuracy: 0.9325000047683716 loss: 0.225422
 Testing Label Acc: [0.9795918464660645, 0.9876651763916016, 0.9253876209259033, 0.9227722883224487, 0.9195519089698792, 0.9058296084403992, 0.9519832730293274, 0.911478579044342, 0.8973305821418762, 0.9147670865058899]
 Testing Avg Label Acc : 0.9316357970237732
 Testing Std Label Acc : 0.029411544706628125
 Poison Acc: 0.08852140077821012
 Model_Weight_Norm : tensor(0.1273)
 Model_Weight_Norm_Slope : tensor(-0.0256)
======

Client 9
 1/100 are attackers with poison attack 
 count(target label):  100
=== Round   7, Average loss 0.171626 ===
 100 users; time 20:20:08
 test data_loader(per batch size): 79
 Testing accuracy: 0.9217000007629395 loss: 0.26248
 Testing Label Acc: [0.9806122183799744, 0.9823788404464722, 0.9282945990562439, 0.9188118577003479, 0.9419552087783813, 0.894618809223175, 0.9530271291732788, 0.7723735570907593, 0.9209445714950562, 0.9197224974632263]
 Testing Avg Label Acc : 0.9212739288806915
 Testing Std Label Acc : 0.05624100552823397
 Poison Acc: 0.22762645914396887
 Model_Weight_Norm : tensor(0.1599)
 Model_Weight_Norm_Slope : tensor(0.0447)
======

Test end 20:20:11
-------------------------------------------------------------------------

acc_list:  [(8, 0.9325000047683716), (4, 0.9254000186920166), (1, 0.9247999787330627), (9, 0.9217000007629395), (0, 0.9175000190734863), (6, 0.9110000133514404), (5, 0.9108999967575073), (2, 0.8689000010490417), (3, 0.8357999920845032), (7, 0.8080999851226807)]
acc_avg_difference:  0.00812253951560693
Acc_Avg (total global): 0.895936926449649
Acc_Std (total global): 0.11608323661462347

good_group_acc :  0.9255499973893166
models updates
before:  0.9237670481204986  now: 0.9255499973893166
normal:  {5, 523, 20, 22, 536, 30, 548, 565, 569, 571, 83, 84, 596, 598, 86, 605, 102, 103, 105, 619, 109, 626, 627, 123, 640, 648, 651, 144, 660, 664, 670, 671, 672, 673, 676, 178, 690, 193, 195, 709, 716, 207, 719, 211, 214, 228, 236, 750, 760, 767, 772, 266, 779, 275, 282, 803, 804, 807, 308, 823, 313, 825, 829, 324, 838, 327, 845, 846, 852, 342, 347, 861, 354, 871, 876, 366, 886, 376, 377, 381, 388, 397, 909, 400, 915, 421, 933, 436, 445, 965, 458, 972, 461, 465, 477, 996, 997, 999, 504, 508}

normal:  {3, 517, 527, 532, 533, 534, 29, 542, 547, 553, 554, 48, 51, 570, 64, 580, 77, 85, 597, 600, 603, 604, 99, 101, 623, 631, 120, 633, 635, 636, 133, 145, 146, 148, 662, 666, 667, 163, 679, 171, 684, 177, 181, 188, 705, 197, 715, 720, 210, 727, 217, 219, 223, 232, 757, 248, 251, 770, 774, 265, 780, 271, 789, 278, 793, 301, 306, 309, 311, 831, 833, 836, 326, 840, 842, 333, 340, 859, 349, 870, 360, 361, 363, 882, 885, 892, 390, 404, 418, 422, 424, 434, 437, 438, 969, 462, 974, 981, 986, 509}

normal:  {512, 1, 18, 25, 27, 541, 550, 551, 45, 53, 72, 74, 586, 76, 591, 611, 614, 617, 112, 114, 119, 128, 647, 135, 137, 139, 147, 661, 663, 156, 669, 157, 159, 161, 162, 674, 678, 680, 170, 682, 174, 700, 711, 721, 722, 723, 212, 215, 728, 736, 740, 764, 253, 254, 769, 773, 273, 787, 795, 801, 292, 808, 298, 812, 824, 839, 331, 343, 344, 860, 350, 353, 358, 364, 891, 893, 895, 897, 392, 394, 910, 402, 408, 924, 932, 934, 433, 952, 446, 452, 456, 460, 467, 983, 987, 993, 481, 486, 495, 510}

shuffle_clients (in good): [8, 4, 1, 9]
Shuffle in good !

shuffle_clients (in normal): [0, 6, 5]
Shuffle in normal!

shuffle_clients (in bad): [2, 3, 7]
Shuffle in bad !

max_local_ep_time:  13.070520401000977
round_time:  15.73804235458374

good:  [8, 4, 1, 9]
normal:  [0, 6, 5]
bad:  [2, 3, 7]
Client 0
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round   8, Average loss 0.189860 ===
 100 users; time 20:20:25
 test data_loader(per batch size): 79
 Testing accuracy: 0.866599977016449 loss: 0.439437
 Testing Label Acc: [0.9806122183799744, 0.9859030842781067, 0.932170569896698, 0.9465346336364746, 0.9317718744277954, 0.9484304785728455, 0.9613778591156006, 0.1809338480234146, 0.8798767924308777, 0.9345887303352356]
 Testing Avg Label Acc : 0.8682200089097023
 Testing Std Label Acc : 0.23081552558598603
 Poison Acc: 0.8190661478599222
 Model_Weight_Norm : tensor(0.2482)
 Model_Weight_Norm_Slope : tensor(-0.0820)
======

Client 1
 2/100 are attackers with poison attack 
 count(target label):  100
=== Round   8, Average loss 0.151964 ===
 100 users; time 20:20:40
 test data_loader(per batch size): 79
 Testing accuracy: 0.9143000245094299 loss: 0.303477
 Testing Label Acc: [0.9846938848495483, 0.9867841601371765, 0.9312015771865845, 0.9326732754707336, 0.8981670141220093, 0.931614339351654, 0.9467641115188599, 0.6702334880828857, 0.9332649111747742, 0.928642213344574]
 Testing Avg Label Acc : 0.91440389752388
 Testing Std Label Acc : 0.0851940094179597
 Poison Acc: 0.32976653696498054
 Model_Weight_Norm : tensor(0.1769)
 Model_Weight_Norm_Slope : tensor(0.0403)
======

Client 2
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round   8, Average loss 0.209730 ===
 100 users; time 20:20:56
 test data_loader(per batch size): 79
 Testing accuracy: 0.9122999906539917 loss: 0.313586
 Testing Label Acc: [0.9693877696990967, 0.9859030842781067, 0.9244186282157898, 0.9336633682250977, 0.9205702543258667, 0.902466356754303, 0.968684732913971, 0.6926069855690002, 0.8942505121231079, 0.928642213344574]
 Testing Avg Label Acc : 0.9120593905448914
 Testing Std Label Acc : 0.07841001943527183
 Poison Acc: 0.30739299610894943
 Model_Weight_Norm : tensor(0.2391)
 Model_Weight_Norm_Slope : tensor(-0.0108)
======

Client 3
 8/100 are attackers with poison attack 
 count(target label):  100
=== Round   8, Average loss 0.260401 ===
 100 users; time 20:21:13
 test data_loader(per batch size): 79
 Testing accuracy: 0.8169000148773193 loss: 0.569928
 Testing Label Acc: [0.9887754917144775, 0.9753304123878479, 0.8149224519729614, 0.9039604067802429, 0.844195544719696, 0.8318385481834412, 0.8987473845481873, 0.01361867692321539, 0.9322382211685181, 0.9762140512466431]
 Testing Avg Label Acc : 0.817984118964523
 Testing Std Label Acc : 0.27455873865874375
 Poison Acc: 0.9863813229571985
 Model_Weight_Norm : tensor(0.3671)
 Model_Weight_Norm_Slope : tensor(0.0554)
======

Client 4
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round   8, Average loss 0.129904 ===
 100 users; time 20:21:29
 test data_loader(per batch size): 79
 Testing accuracy: 0.9348999857902527 loss: 0.210204
 Testing Label Acc: [0.9806122183799744, 0.9850220084190369, 0.9224806427955627, 0.9277227520942688, 0.9246435761451721, 0.9035874605178833, 0.9509394764900208, 0.911478579044342, 0.9117043018341064, 0.9226957559585571]
 Testing Avg Label Acc : 0.9340886771678925
 Testing Std Label Acc : 0.02716518842463752
 Poison Acc: 0.08852140077821012
 Model_Weight_Norm : tensor(0.1196)
 Model_Weight_Norm_Slope : tensor(-0.0109)
======

Client 5
 1/100 are attackers with poison attack 
 count(target label):  100
=== Round   8, Average loss 0.163059 ===
 100 users; time 20:21:45
 test data_loader(per batch size): 79
 Testing accuracy: 0.9276999831199646 loss: 0.248656
 Testing Label Acc: [0.968367338180542, 0.9850220084190369, 0.9147287011146545, 0.9118812084197998, 0.9399185180664062, 0.9058296084403992, 0.9582463502883911, 0.8278210163116455, 0.9363449811935425, 0.9246779084205627]
 Testing Avg Label Acc : 0.927283763885498
 Testing Std Label Acc : 0.041202872627164676
 Poison Acc: 0.17217898832684825
 Model_Weight_Norm : tensor(0.1618)
 Model_Weight_Norm_Slope : tensor(-0.0539)
======

Client 6
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round   8, Average loss 0.176703 ===
 100 users; time 20:22:00
 test data_loader(per batch size): 79
 Testing accuracy: 0.8564000129699707 loss: 0.483585
 Testing Label Acc: [0.9795918464660645, 0.9894273281097412, 0.9195736646652222, 0.9138613939285278, 0.8961303234100342, 0.902466356754303, 0.9665970802307129, 0.15856030583381653, 0.9117043018341064, 0.9385530352592468]
 Testing Avg Label Acc : 0.8576465636491776
 Testing Std Label Acc : 0.2351130824989831
 Poison Acc: 0.8414396887159533
 Model_Weight_Norm : tensor(0.2553)
 Model_Weight_Norm_Slope : tensor(0.0681)
======

Client 7
 7/100 are attackers with poison attack 
 count(target label):  100
=== Round   8, Average loss 0.271825 ===
 100 users; time 20:22:16
 test data_loader(per batch size): 79
 Testing accuracy: 0.7839000225067139 loss: 0.646845
 Testing Label Acc: [0.9887754917144775, 0.9955947399139404, 0.7848837375640869, 0.8584158420562744, 0.9786150455474854, 0.7623318433761597, 0.9331941604614258, 0.02723735384643078, 0.8213552236557007, 0.6937562227249146]
 Testing Avg Label Acc : 0.7844159660860897
 Testing Std Label Acc : 0.2711225887665287
 Poison Acc: 0.9727626459143969
 Model_Weight_Norm : tensor(0.4242)
 Model_Weight_Norm_Slope : tensor(0.0108)
======

Client 8
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round   8, Average loss 0.147034 ===
 100 users; time 20:22:31
 test data_loader(per batch size): 79
 Testing accuracy: 0.9375 loss: 0.208697
 Testing Label Acc: [0.9795918464660645, 0.9859030842781067, 0.9253876209259033, 0.9386138319969177, 0.9399185180664062, 0.915919303894043, 0.9498956203460693, 0.9182879328727722, 0.9024640917778015, 0.9117938280105591]
 Testing Avg Label Acc : 0.9367775678634643
 Testing Std Label Acc : 0.026720715030879034
 Poison Acc: 0.08171206225680934
 Model_Weight_Norm : tensor(0.0958)
 Model_Weight_Norm_Slope : tensor(-0.0314)
======

Client 9
 1/100 are attackers with poison attack 
 count(target label):  100
=== Round   8, Average loss 0.149926 ===
 100 users; time 20:22:47
 test data_loader(per batch size): 79
 Testing accuracy: 0.9258000254631042 loss: 0.245028
 Testing Label Acc: [0.9795918464660645, 0.9885462522506714, 0.9292635917663574, 0.9178217649459839, 0.9205702543258667, 0.926008939743042, 0.9592902064323425, 0.7889105081558228, 0.9137576818466187, 0.9316154718399048]
 Testing Avg Label Acc : 0.9255376517772674
 Testing Std Label Acc : 0.05193474106360139
 Poison Acc: 0.21108949416342412
 Model_Weight_Norm : tensor(0.1286)
 Model_Weight_Norm_Slope : tensor(-0.0312)
======

Test end 20:22:50
-------------------------------------------------------------------------

acc_list:  [(8, 0.9375), (4, 0.9348999857902527), (5, 0.9276999831199646), (9, 0.9258000254631042), (1, 0.9143000245094299), (2, 0.9122999906539917), (0, 0.866599977016449), (6, 0.8564000129699707), (3, 0.8169000148773193), (7, 0.7839000225067139)]
acc_avg_difference:  0.008095165812410321
Acc_Avg (total global): 0.8878417606372386
Acc_Std (total global): 0.13222374815097557

good_group_acc :  0.9309219151735306
models updates
before:  0.9255499973893166  now: 0.9309219151735306
normal:  {10, 11, 528, 32, 549, 40, 41, 43, 44, 564, 566, 567, 581, 583, 75, 589, 95, 96, 624, 625, 634, 126, 129, 644, 160, 166, 169, 695, 183, 698, 699, 190, 191, 704, 706, 717, 725, 735, 737, 226, 738, 742, 744, 233, 237, 238, 752, 758, 250, 258, 269, 781, 783, 277, 794, 796, 293, 297, 300, 815, 304, 816, 826, 320, 855, 346, 862, 352, 877, 372, 378, 383, 896, 387, 900, 389, 905, 908, 405, 919, 412, 416, 930, 943, 442, 960, 455, 967, 466, 985, 474, 988, 480, 995, 483, 497, 500, 501, 502, 507}

normal:  {0, 16, 539, 35, 39, 49, 52, 57, 60, 63, 66, 578, 70, 584, 73, 590, 78, 97, 613, 108, 110, 116, 130, 646, 153, 158, 165, 677, 173, 691, 693, 697, 185, 196, 201, 202, 731, 733, 739, 765, 255, 259, 264, 276, 797, 286, 288, 296, 305, 818, 316, 319, 328, 330, 847, 335, 850, 338, 341, 348, 351, 866, 355, 867, 868, 878, 880, 881, 884, 888, 889, 903, 393, 907, 398, 918, 920, 410, 922, 926, 937, 938, 428, 429, 432, 439, 951, 953, 447, 971, 976, 978, 468, 469, 472, 992, 998, 488, 490, 511}

normal:  {512, 5, 517, 27, 553, 554, 45, 48, 53, 569, 570, 580, 72, 74, 76, 77, 591, 597, 85, 598, 603, 605, 103, 617, 109, 623, 112, 120, 633, 128, 135, 146, 148, 661, 663, 159, 671, 162, 676, 679, 171, 690, 721, 210, 723, 215, 728, 217, 219, 740, 232, 750, 760, 764, 253, 773, 774, 266, 271, 282, 292, 298, 306, 824, 825, 831, 327, 839, 331, 852, 342, 860, 350, 353, 358, 871, 360, 364, 876, 891, 909, 910, 400, 402, 915, 404, 408, 418, 934, 424, 437, 965, 460, 981, 983, 986, 987, 993, 996, 510}

shuffle_clients (in good): [8, 4, 5, 9]
Shuffle in good !

shuffle_clients (in normal): [1, 2, 0]
Shuffle in normal!

shuffle_clients (in bad): [6, 3, 7]
Shuffle in bad !

max_local_ep_time:  13.012224912643433
round_time:  15.716790676116943

good:  [8, 4, 5, 9]
normal:  [1, 2, 0]
bad:  [6, 3, 7]
Client 0
 5/100 are attackers with poison attack 
 count(target label):  100
=== Round   9, Average loss 0.196781 ===
 100 users; time 20:23:03
 test data_loader(per batch size): 79
 Testing accuracy: 0.8906999826431274 loss: 0.395976
 Testing Label Acc: [0.9836734533309937, 0.9867841601371765, 0.9098837375640869, 0.8861386179924011, 0.9012219905853271, 0.8979820609092712, 0.9718163013458252, 0.4961089491844177, 0.9486653208732605, 0.9296333193778992]
 Testing Avg Label Acc : 0.8911907911300659
 Testing Std Label Acc : 0.13622926128164548
 Poison Acc: 0.5038910505836576
 Model_Weight_Norm : tensor(0.2604)
 Model_Weight_Norm_Slope : tensor(0.0122)
======

Client 1
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round   9, Average loss 0.127616 ===
 100 users; time 20:23:18
 test data_loader(per batch size): 79
 Testing accuracy: 0.9387000203132629 loss: 0.204062
 Testing Label Acc: [0.9836734533309937, 0.9876651763916016, 0.9331395626068115, 0.9297029972076416, 0.9185336232185364, 0.926008939743042, 0.9551148414611816, 0.905642032623291, 0.9117043018341064, 0.9296333193778992]
 Testing Avg Label Acc : 0.9380818247795105
 Testing Std Label Acc : 0.026961523562241255
 Poison Acc: 0.0943579766536965
 Model_Weight_Norm : tensor(0.1613)
 Model_Weight_Norm_Slope : tensor(-0.0156)
======

Client 2
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round   9, Average loss 0.187381 ===
 100 users; time 20:23:34
 test data_loader(per batch size): 79
 Testing accuracy: 0.8758999705314636 loss: 0.443724
 Testing Label Acc: [0.9795918464660645, 0.9823788404464722, 0.911821722984314, 0.9287128448486328, 0.92769855260849, 0.9349775910377502, 0.9540709853172302, 0.2811284065246582, 0.9548254609107971, 0.9187313914299011]
 Testing Avg Label Acc : 0.877393764257431
 Testing Std Label Acc : 0.20006197928906735
 Poison Acc: 0.7188715953307393
 Model_Weight_Norm : tensor(0.2569)
 Model_Weight_Norm_Slope : tensor(0.0177)
======

Client 3
 8/100 are attackers with poison attack 
 count(target label):  100
=== Round   9, Average loss 0.237725 ===
 100 users; time 20:23:50
 test data_loader(per batch size): 79
 Testing accuracy: 0.8246999979019165 loss: 0.602262
 Testing Label Acc: [0.9693877696990967, 0.9903083443641663, 0.9554263353347778, 0.9158415794372559, 0.8594704866409302, 0.926008939743042, 0.9770354628562927, 0.0, 0.8583162426948547, 0.8126858472824097]
 Testing Avg Label Acc : 0.8264481008052826
 Testing Std Label Acc : 0.2810354676916868
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.4234)
 Model_Weight_Norm_Slope : tensor(0.0563)
======

Client 4
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round   9, Average loss 0.114206 ===
 100 users; time 20:24:05
 test data_loader(per batch size): 79
 Testing accuracy: 0.9376999735832214 loss: 0.198647
 Testing Label Acc: [0.9826530814170837, 0.9850220084190369, 0.9205426573753357, 0.9336633682250977, 0.9297352433204651, 0.9215246438980103, 0.9540709853172302, 0.9105058312416077, 0.9096509218215942, 0.9236868023872375]
 Testing Avg Label Acc : 0.9371055543422699
 Testing Std Label Acc : 0.026235508605759104
 Poison Acc: 0.08949416342412451
 Model_Weight_Norm : tensor(0.0821)
 Model_Weight_Norm_Slope : tensor(-0.0375)
======

Client 5
 1/100 are attackers with poison attack 
 count(target label):  100
=== Round   9, Average loss 0.143905 ===
 100 users; time 20:24:21
 test data_loader(per batch size): 79
 Testing accuracy: 0.9289000034332275 loss: 0.242946
 Testing Label Acc: [0.9775510430335999, 0.9876651763916016, 0.9282945990562439, 0.9247524738311768, 0.9399185180664062, 0.931614339351654, 0.9509394764900208, 0.7879377603530884, 0.9271047115325928, 0.9316154718399048]
 Testing Avg Label Acc : 0.928739356994629
 Testing Std Label Acc : 0.051315732600424754
 Poison Acc: 0.21206225680933852
 Model_Weight_Norm : tensor(0.1241)
 Model_Weight_Norm_Slope : tensor(-0.0376)
======

Client 6
 5/100 are attackers with poison attack 
 count(target label):  100
=== Round   9, Average loss 0.209653 ===
 100 users; time 20:24:36
 test data_loader(per batch size): 79
 Testing accuracy: 0.8881000280380249 loss: 0.398838
 Testing Label Acc: [0.9795918464660645, 0.9823788404464722, 0.9234496355056763, 0.9514851570129395, 0.9521384835243225, 0.8856502175331116, 0.968684732913971, 0.3939688801765442, 0.9250513315200806, 0.9246779084205627]
 Testing Avg Label Acc : 0.8887077033519745
 Testing Std Label Acc : 0.16732978676869187
 Poison Acc: 0.6060311284046692
 Model_Weight_Norm : tensor(0.2661)
 Model_Weight_Norm_Slope : tensor(0.0108)
======

Client 7
 6/100 are attackers with poison attack 
 count(target label):  100
=== Round   9, Average loss 0.214463 ===
 100 users; time 20:24:52
 test data_loader(per batch size): 79
 Testing accuracy: 0.8302000164985657 loss: 0.553177
 Testing Label Acc: [0.9316326379776001, 0.9022026658058167, 0.9166666865348816, 0.9534653425216675, 0.7362525463104248, 0.908071756362915, 0.9519832730293274, 0.13326847553253174, 0.9373716711997986, 0.9524281620979309]
 Testing Avg Label Acc : 0.8323343217372894
 Testing Std Label Acc : 0.24082329284818832
 Poison Acc: 0.8667315175097277
 Model_Weight_Norm : tensor(0.3954)
 Model_Weight_Norm_Slope : tensor(-0.0288)
======

Client 8
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round   9, Average loss 0.123632 ===
 100 users; time 20:25:08
 test data_loader(per batch size): 79
 Testing accuracy: 0.9384999871253967 loss: 0.198415
 Testing Label Acc: [0.981632649898529, 0.9859030842781067, 0.9224806427955627, 0.9376237392425537, 0.932790219783783, 0.9103139042854309, 0.9509394764900208, 0.9231517314910889, 0.9096509218215942, 0.9226957559585571]
 Testing Avg Label Acc : 0.9377182126045227
 Testing Std Label Acc : 0.025803419451631802
 Poison Acc: 0.07684824902723736
 Model_Weight_Norm : tensor(0.0816)
 Model_Weight_Norm_Slope : tensor(-0.0142)
======

Client 9
 1/100 are attackers with poison attack 
 count(target label):  100
=== Round   9, Average loss 0.132754 ===
 100 users; time 20:25:23
 test data_loader(per batch size): 79
 Testing accuracy: 0.9334999918937683 loss: 0.226274
 Testing Label Acc: [0.9795918464660645, 0.9876651763916016, 0.9379844665527344, 0.9138613939285278, 0.9470468163490295, 0.9338564872741699, 0.962421715259552, 0.8356031179428101, 0.9158110618591309, 0.9187313914299011]
 Testing Avg Label Acc : 0.9332573473453522
 Testing Std Label Acc : 0.040741182982165336
 Poison Acc: 0.16439688715953307
 Model_Weight_Norm : tensor(0.1247)
 Model_Weight_Norm_Slope : tensor(-0.0039)
======

Test end 20:25:26
-------------------------------------------------------------------------

acc_list:  [(1, 0.9387000203132629), (8, 0.9384999871253967), (4, 0.9376999735832214), (9, 0.9334999918937683), (5, 0.9289000034332275), (0, 0.8906999826431274), (6, 0.8881000280380249), (2, 0.8758999705314636), (7, 0.8302000164985657), (3, 0.8246999979019165)]
acc_avg_difference:  0.011255937097593982
Acc_Avg (total global): 0.8990976977348326
Acc_Std (total global): 0.11965371550815021

good_group_acc :  0.9365407347679139
models updates
before:  0.9309219151735306  now: 0.9365407347679139
normal:  {515, 523, 17, 20, 26, 30, 546, 547, 555, 47, 560, 568, 571, 573, 79, 80, 593, 87, 89, 604, 98, 105, 620, 626, 115, 630, 118, 127, 642, 133, 650, 139, 651, 140, 657, 660, 673, 674, 164, 176, 177, 694, 703, 708, 714, 716, 213, 732, 221, 741, 743, 234, 753, 754, 757, 246, 247, 768, 257, 769, 265, 268, 291, 307, 820, 310, 315, 323, 854, 345, 857, 362, 367, 369, 374, 375, 895, 384, 388, 390, 394, 401, 914, 406, 923, 413, 932, 423, 945, 946, 950, 952, 440, 452, 458, 463, 990, 991, 494, 499}

normal:  {512, 11, 539, 27, 32, 39, 553, 44, 564, 53, 569, 60, 578, 580, 70, 583, 72, 77, 590, 78, 613, 103, 146, 153, 159, 677, 165, 693, 695, 185, 699, 706, 196, 202, 721, 723, 728, 219, 733, 740, 744, 237, 238, 750, 760, 253, 258, 773, 781, 271, 277, 794, 286, 293, 297, 298, 300, 815, 306, 825, 831, 839, 328, 331, 335, 847, 341, 346, 352, 867, 868, 364, 884, 889, 378, 896, 903, 905, 909, 402, 404, 918, 412, 926, 930, 934, 428, 429, 439, 953, 967, 469, 472, 986, 987, 988, 993, 483, 501, 510}

normal:  {516, 524, 530, 19, 533, 36, 37, 38, 551, 42, 557, 561, 55, 572, 576, 577, 65, 71, 594, 596, 600, 99, 615, 107, 111, 627, 628, 629, 117, 121, 635, 132, 653, 145, 658, 147, 662, 163, 685, 689, 692, 180, 182, 184, 187, 700, 200, 224, 736, 231, 236, 755, 243, 756, 251, 252, 262, 780, 784, 787, 275, 789, 280, 792, 795, 799, 801, 802, 813, 308, 312, 314, 833, 834, 837, 843, 851, 858, 861, 863, 370, 882, 890, 381, 396, 397, 913, 925, 426, 940, 947, 957, 958, 450, 453, 974, 467, 471, 997, 492}

shuffle_clients (in good): [1, 8, 4, 9]
Shuffle in good !

shuffle_clients (in normal): [5, 0, 6]
Shuffle in normal!

shuffle_clients (in bad): [2, 7, 3]
Shuffle in bad !

max_local_ep_time:  13.062053680419922
round_time:  15.714757680892944

good:  [1, 8, 4, 9]
normal:  [5, 0, 6]
bad:  [2, 7, 3]
Client 0
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  10, Average loss 0.139672 ===
 100 users; time 20:25:39
 test data_loader(per batch size): 79
 Testing accuracy: 0.9437000155448914 loss: 0.194983
 Testing Label Acc: [0.9826530814170837, 0.9859030842781067, 0.9244186282157898, 0.9326732754707336, 0.92769855260849, 0.9360986351966858, 0.9582463502883911, 0.9260700345039368, 0.9271047115325928, 0.9316154718399048]
 Testing Avg Label Acc : 0.9432481825351715
 Testing Std Label Acc : 0.022466508210558286
 Poison Acc: 0.07392996108949416
 Model_Weight_Norm : tensor(0.2226)
 Model_Weight_Norm_Slope : tensor(-0.0378)
======

Client 1
 1/100 are attackers with poison attack 
 count(target label):  100
=== Round  10, Average loss 0.118708 ===
 100 users; time 20:25:54
 test data_loader(per batch size): 79
 Testing accuracy: 0.9320999979972839 loss: 0.228347
 Testing Label Acc: [0.9806122183799744, 0.9823788404464722, 0.930232584476471, 0.9475247263908386, 0.9246435761451721, 0.9248878955841064, 0.9572024941444397, 0.801556408405304, 0.9394250512123108, 0.9306243658065796]
 Testing Avg Label Acc : 0.9319088160991669
 Testing Std Label Acc : 0.04791414419352316
 Poison Acc: 0.19844357976653695
 Model_Weight_Norm : tensor(0.1402)
 Model_Weight_Norm_Slope : tensor(-0.0211)
======

Client 2
 6/100 are attackers with poison attack 
 count(target label):  100
=== Round  10, Average loss 0.217632 ===
 100 users; time 20:26:10
 test data_loader(per batch size): 79
 Testing accuracy: 0.8780999779701233 loss: 0.457029
 Testing Label Acc: [0.9734693765640259, 0.9841409921646118, 0.9331395626068115, 0.9475247263908386, 0.8849287033081055, 0.9204035997390747, 0.9634655714035034, 0.34143969416618347, 0.9086242318153381, 0.9326065182685852]
 Testing Avg Label Acc : 0.8789742976427078
 Testing Std Label Acc : 0.1814419994842164
 Poison Acc: 0.6585603112840467
 Model_Weight_Norm : tensor(0.2843)
 Model_Weight_Norm_Slope : tensor(0.0275)
======

Client 3
 7/100 are attackers with poison attack 
 count(target label):  100
=== Round  10, Average loss 0.239070 ===
 100 users; time 20:26:25
 test data_loader(per batch size): 79
 Testing accuracy: 0.8352000117301941 loss: 0.502182
 Testing Label Acc: [0.9867346882820129, 0.9312775135040283, 0.838178277015686, 0.8871287107467651, 0.9032586812973022, 0.8677130341529846, 0.8893527984619141, 0.13035018742084503, 0.9691991806030273, 0.9672943353652954]
 Testing Avg Label Acc : 0.8370487406849861
 Testing Std Label Acc : 0.23993842799106047
 Poison Acc: 0.8696498054474708
 Model_Weight_Norm : tensor(0.4217)
 Model_Weight_Norm_Slope : tensor(-0.0017)
======

Client 4
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  10, Average loss 0.114988 ===
 100 users; time 20:26:41
 test data_loader(per batch size): 79
 Testing accuracy: 0.9416999816894531 loss: 0.188926
 Testing Label Acc: [0.9836734533309937, 0.9850220084190369, 0.9292635917663574, 0.9425742626190186, 0.9358451962471008, 0.9215246438980103, 0.9561586380004883, 0.9124513864517212, 0.9127309918403625, 0.9316154718399048]
 Testing Avg Label Acc : 0.9410859644412994
 Testing Std Label Acc : 0.024973954144895068
 Poison Acc: 0.08754863813229571
 Model_Weight_Norm : tensor(0.0762)
 Model_Weight_Norm_Slope : tensor(-0.0059)
======

Client 5
 7/100 are attackers with poison attack 
 count(target label):  100
=== Round  10, Average loss 0.195945 ===
 100 users; time 20:26:56
 test data_loader(per batch size): 79
 Testing accuracy: 0.8421000242233276 loss: 0.865749
 Testing Label Acc: [0.9642857313156128, 0.9894273281097412, 0.9234496355056763, 0.909900963306427, 0.9154785871505737, 0.894618809223175, 0.9770354628562927, 0.0, 0.9260780215263367, 0.9375619292259216]
 Testing Avg Label Acc : 0.8437836468219757
 Testing Std Label Acc : 0.28274882868771534
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.5741)
 Model_Weight_Norm_Slope : tensor(0.4499)
======

Client 6
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round  10, Average loss 0.185527 ===
 100 users; time 20:27:10
 test data_loader(per batch size): 79
 Testing accuracy: 0.897599995136261 loss: 0.36168
 Testing Label Acc: [0.9877551198005676, 0.9920704960823059, 0.9224806427955627, 0.9217821955680847, 0.9368635416030884, 0.9271300435066223, 0.9613778591156006, 0.5029183030128479, 0.9199178814888, 0.9098116755485535]
 Testing Avg Label Acc : 0.8982107758522033
 Testing Std Label Acc : 0.13459377178231097
 Poison Acc: 0.4970817120622568
 Model_Weight_Norm : tensor(0.2261)
 Model_Weight_Norm_Slope : tensor(-0.0399)
======

Client 7
 5/100 are attackers with poison attack 
 count(target label):  100
=== Round  10, Average loss 0.210638 ===
 100 users; time 20:27:25
 test data_loader(per batch size): 79
 Testing accuracy: 0.8519999980926514 loss: 0.462936
 Testing Label Acc: [0.9908163547515869, 0.9947136640548706, 0.8275193572044373, 0.8792079091072083, 0.9602851271629333, 0.8329596519470215, 0.9457202553749084, 0.35797664523124695, 0.8880903720855713, 0.8453914523124695]
 Testing Avg Label Acc : 0.8522680789232254
 Testing Std Label Acc : 0.17528633049501036
 Poison Acc: 0.642023346303502
 Model_Weight_Norm : tensor(0.3562)
 Model_Weight_Norm_Slope : tensor(-0.0392)
======

Client 8
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  10, Average loss 0.123103 ===
 100 users; time 20:27:41
 test data_loader(per batch size): 79
 Testing accuracy: 0.9413999915122986 loss: 0.189734
 Testing Label Acc: [0.9836734533309937, 0.9867841601371765, 0.9292635917663574, 0.9386138319969177, 0.9338085651397705, 0.9204035997390747, 0.9551148414611816, 0.9231517314910889, 0.9117043018341064, 0.9246779084205627]
 Testing Avg Label Acc : 0.940719598531723
 Testing Std Label Acc : 0.024856046038424874
 Poison Acc: 0.07684824902723736
 Model_Weight_Norm : tensor(0.0738)
 Model_Weight_Norm_Slope : tensor(-0.0078)
======

Client 9
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  10, Average loss 0.118435 ===
 100 users; time 20:27:57
 test data_loader(per batch size): 79
 Testing accuracy: 0.9406999945640564 loss: 0.193214
 Testing Label Acc: [0.9806122183799744, 0.9894273281097412, 0.9282945990562439, 0.9227722883224487, 0.9266802668571472, 0.9271300435066223, 0.9592902064323425, 0.9212062358856201, 0.9137576818466187, 0.9316154718399048]
 Testing Avg Label Acc : 0.9400786340236664
 Testing Std Label Acc : 0.025206130113667166
 Poison Acc: 0.07879377431906615
 Model_Weight_Norm : tensor(0.1117)
 Model_Weight_Norm_Slope : tensor(-0.0130)
======

Test end 20:27:59
-------------------------------------------------------------------------

acc_list:  [(0, 0.9437000155448914), (4, 0.9416999816894531), (8, 0.9413999915122986), (9, 0.9406999945640564), (1, 0.9320999979972839), (6, 0.897599995136261), (2, 0.8780999779701233), (7, 0.8519999980926514), (5, 0.8421000242233276), (3, 0.8352000117301941)]
acc_avg_difference:  0.0016349758207800935
Acc_Avg (total global): 0.9007326735556127
Acc_Std (total global): 0.11594261411413823

good_group_acc :  0.9412830948829651
models updates
before:  0.9365407347679139  now: 0.9412830948829651
normal:  {6, 519, 522, 12, 13, 15, 532, 21, 23, 25, 31, 544, 34, 558, 46, 48, 54, 574, 74, 587, 84, 598, 86, 601, 90, 94, 608, 609, 612, 109, 113, 640, 131, 648, 141, 148, 160, 170, 687, 178, 179, 691, 181, 701, 194, 226, 227, 745, 747, 752, 759, 763, 764, 771, 774, 777, 272, 273, 790, 800, 296, 809, 810, 814, 817, 821, 318, 320, 338, 344, 354, 872, 363, 886, 376, 891, 899, 387, 902, 907, 400, 916, 917, 919, 408, 928, 929, 418, 438, 445, 449, 973, 981, 474, 989, 486, 489, 503, 504, 506}

normal:  {17, 19, 20, 27, 539, 547, 37, 38, 551, 39, 560, 568, 569, 571, 572, 573, 70, 77, 79, 593, 596, 613, 626, 629, 118, 127, 642, 147, 674, 165, 685, 689, 692, 693, 694, 700, 703, 721, 219, 732, 221, 736, 740, 744, 237, 754, 756, 757, 246, 253, 773, 268, 781, 789, 277, 792, 794, 799, 293, 297, 300, 307, 310, 833, 323, 843, 335, 847, 341, 857, 858, 861, 352, 868, 367, 369, 370, 884, 378, 381, 896, 903, 397, 404, 406, 918, 923, 940, 945, 946, 947, 439, 953, 958, 452, 469, 472, 986, 987, 494}

normal:  {513, 528, 22, 538, 541, 35, 43, 59, 63, 584, 73, 589, 597, 602, 603, 605, 611, 617, 108, 624, 116, 123, 135, 654, 661, 154, 155, 161, 162, 168, 681, 171, 173, 690, 697, 188, 195, 707, 712, 718, 210, 729, 233, 751, 239, 762, 250, 766, 767, 782, 783, 788, 282, 796, 804, 811, 301, 309, 322, 841, 330, 845, 337, 339, 853, 348, 869, 361, 874, 885, 892, 382, 391, 395, 908, 398, 414, 417, 935, 937, 944, 433, 434, 435, 446, 447, 966, 969, 971, 460, 462, 470, 982, 992, 481, 996, 487, 999, 490, 505}

shuffle_clients (in good): [0, 4, 8, 9]
Shuffle in good !

shuffle_clients (in normal): [1, 6, 2]
Shuffle in normal!

shuffle_clients (in bad): [7, 5, 3]
Shuffle in bad !

max_local_ep_time:  13.154714345932007
round_time:  15.82837963104248

good:  [0, 4, 8, 9]
normal:  [1, 6, 2]
bad:  [7, 5, 3]
Client 0
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  11, Average loss 0.112480 ===
 100 users; time 20:28:12
 test data_loader(per batch size): 79
 Testing accuracy: 0.9453999996185303 loss: 0.177955
 Testing Label Acc: [0.9846938848495483, 0.9850220084190369, 0.9244186282157898, 0.9356435537338257, 0.9297352433204651, 0.939461886882782, 0.9551148414611816, 0.938715934753418, 0.9229979515075684, 0.9335976243019104]
 Testing Avg Label Acc : 0.9449401557445526
 Testing Std Label Acc : 0.021698048499488604
 Poison Acc: 0.061284046692607
 Model_Weight_Norm : tensor(0.0991)
 Model_Weight_Norm_Slope : tensor(-0.1234)
======

Client 1
 5/100 are attackers with poison attack 
 count(target label):  100
=== Round  11, Average loss 0.166295 ===
 100 users; time 20:28:28
 test data_loader(per batch size): 79
 Testing accuracy: 0.8414000272750854 loss: 0.605931
 Testing Label Acc: [0.972449004650116, 0.9911894202232361, 0.9244186282157898, 0.8990098834037781, 0.9409368634223938, 0.9058296084403992, 0.968684732913971, 0.0, 0.8993839621543884, 0.9296333193778992]
 Testing Avg Label Acc : 0.8431535422801971
 Testing Std Label Acc : 0.2826928258011228
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.4328)
 Model_Weight_Norm_Slope : tensor(0.2926)
======

Client 2
 1/100 are attackers with poison attack 
 count(target label):  100
=== Round  11, Average loss 0.171859 ===
 100 users; time 20:28:44
 test data_loader(per batch size): 79
 Testing accuracy: 0.9376000165939331 loss: 0.217551
 Testing Label Acc: [0.981632649898529, 0.9894273281097412, 0.934108555316925, 0.9346534609794617, 0.9368635416030884, 0.9304932951927185, 0.9603340029716492, 0.8599221706390381, 0.9158110618591309, 0.928642213344574]
 Testing Avg Label Acc : 0.9371888279914856
 Testing Std Label Acc : 0.034352372999044055
 Poison Acc: 0.14007782101167315
 Model_Weight_Norm : tensor(0.2576)
 Model_Weight_Norm_Slope : tensor(-0.0267)
======

Client 3
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round  11, Average loss 0.169737 ===
 100 users; time 20:28:59
 test data_loader(per batch size): 79
 Testing accuracy: 0.9293000102043152 loss: 0.273875
 Testing Label Acc: [0.9734693765640259, 0.9903083443641663, 0.9505813717842102, 0.9376237392425537, 0.8961303234100342, 0.9641255736351013, 0.962421715259552, 0.774319052696228, 0.9096509218215942, 0.9345887303352356]
 Testing Avg Label Acc : 0.9293219149112701
 Testing Std Label Acc : 0.058342416422616554
 Poison Acc: 0.22568093385214008
 Model_Weight_Norm : tensor(0.2848)
 Model_Weight_Norm_Slope : tensor(-0.1369)
======

Client 4
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  11, Average loss 0.107940 ===
 100 users; time 20:29:15
 test data_loader(per batch size): 79
 Testing accuracy: 0.9448000192642212 loss: 0.180027
 Testing Label Acc: [0.9826530814170837, 0.9867841601371765, 0.9282945990562439, 0.9435643553733826, 0.9439918398857117, 0.9293721914291382, 0.9582463502883911, 0.9221789836883545, 0.9147843718528748, 0.9326065182685852]
 Testing Avg Label Acc : 0.9442476451396942
 Testing Std Label Acc : 0.02333930941384733
 Poison Acc: 0.07782101167315175
 Model_Weight_Norm : tensor(0.0688)
 Model_Weight_Norm_Slope : tensor(-0.0074)
======

Client 5
 7/100 are attackers with poison attack 
 count(target label):  100
=== Round  11, Average loss 0.365352 ===
 100 users; time 20:29:31
 test data_loader(per batch size): 79
 Testing accuracy: 0.9211000204086304 loss: 0.273275
 Testing Label Acc: [0.9765306115150452, 0.9867841601371765, 0.9379844665527344, 0.895049512386322, 0.9592667818069458, 0.9372197389602661, 0.9530271291732788, 0.725680947303772, 0.9281314015388489, 0.9127849340438843]
 Testing Avg Label Acc : 0.9212459683418274
 Testing Std Label Acc : 0.07028053750150914
 Poison Acc: 0.27431906614785995
 Model_Weight_Norm : tensor(0.5222)
 Model_Weight_Norm_Slope : tensor(-0.0519)
======

Client 6
 5/100 are attackers with poison attack 
 count(target label):  100
=== Round  11, Average loss 0.180543 ===
 100 users; time 20:29:47
 test data_loader(per batch size): 79
 Testing accuracy: 0.8695999979972839 loss: 0.461544
 Testing Label Acc: [0.9908163547515869, 0.976211428642273, 0.9418604373931885, 0.9425742626190186, 0.8849287033081055, 0.8867713212966919, 0.9676409363746643, 0.2470817118883133, 0.9219712615013123, 0.9454905986785889]
 Testing Avg Label Acc : 0.8705347016453743
 Testing Std Label Acc : 0.21042112018039832
 Poison Acc: 0.7529182879377432
 Model_Weight_Norm : tensor(0.2812)
 Model_Weight_Norm_Slope : tensor(0.0550)
======

Client 7
 9/100 are attackers with poison attack 
 count(target label):  100
=== Round  11, Average loss 0.224961 ===
 100 users; time 20:30:02
 test data_loader(per batch size): 79
 Testing accuracy: 0.807699978351593 loss: 0.82795
 Testing Label Acc: [0.8551020622253418, 0.8528634309768677, 0.9525193572044373, 0.9445544481277466, 0.7382891774177551, 0.9562780261039734, 0.9498956203460693, 0.0, 0.9106776118278503, 0.9504460096359253]
 Testing Avg Label Acc : 0.8110625743865967
 Testing Std Label Acc : 0.27827116209051694
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.4892)
 Model_Weight_Norm_Slope : tensor(0.1330)
======

Client 8
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  11, Average loss 0.098865 ===
 100 users; time 20:30:18
 test data_loader(per batch size): 79
 Testing accuracy: 0.9430000185966492 loss: 0.18213
 Testing Label Acc: [0.981632649898529, 0.9876651763916016, 0.9312015771865845, 0.9425742626190186, 0.9338085651397705, 0.931614339351654, 0.9561586380004883, 0.9212062358856201, 0.9147843718528748, 0.9236868023872375]
 Testing Avg Label Acc : 0.9424332618713379
 Testing Std Label Acc : 0.02378021584777736
 Poison Acc: 0.07879377431906615
 Model_Weight_Norm : tensor(0.0670)
 Model_Weight_Norm_Slope : tensor(-0.0068)
======

Client 9
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  11, Average loss 0.102828 ===
 100 users; time 20:30:34
 test data_loader(per batch size): 79
 Testing accuracy: 0.9434000253677368 loss: 0.183807
 Testing Label Acc: [0.9806122183799744, 0.9859030842781067, 0.930232584476471, 0.9326732754707336, 0.9429734945297241, 0.9327354431152344, 0.9603340029716492, 0.9192606806755066, 0.9147843718528748, 0.9296333193778992]
 Testing Avg Label Acc : 0.9429142475128174
 Testing Std Label Acc : 0.023386112994643795
 Poison Acc: 0.08073929961089495
 Model_Weight_Norm : tensor(0.0751)
 Model_Weight_Norm_Slope : tensor(-0.0366)
======

Test end 20:30:36
-------------------------------------------------------------------------

acc_list:  [(0, 0.9453999996185303), (4, 0.9448000192642212), (9, 0.9434000253677368), (8, 0.9430000185966492), (2, 0.9376000165939331), (3, 0.9293000102043152), (5, 0.9211000204086304), (6, 0.8695999979972839), (1, 0.8414000272750854), (7, 0.807699978351593)]
acc_avg_difference:  0.007971610426902531
Acc_Avg (total global): 0.9087042839825152
Acc_Std (total global): 0.1026564121750965

good_group_acc :  0.9436338275671005
models updates
before:  0.9412830948829651  now: 0.9436338275671005
normal:  {519, 522, 15, 528, 17, 23, 541, 38, 43, 568, 59, 572, 574, 63, 77, 84, 596, 597, 602, 609, 108, 109, 624, 113, 116, 629, 640, 642, 135, 654, 148, 154, 161, 165, 170, 173, 685, 689, 691, 693, 697, 700, 718, 219, 732, 226, 745, 237, 239, 752, 246, 759, 763, 766, 773, 774, 272, 277, 800, 293, 809, 297, 810, 814, 817, 310, 330, 337, 853, 858, 363, 367, 369, 891, 382, 896, 899, 902, 395, 908, 907, 917, 406, 414, 944, 433, 434, 947, 439, 953, 447, 986, 474, 987, 992, 481, 999, 503, 505, 506}

normal:  {16, 18, 533, 534, 28, 540, 32, 33, 546, 40, 44, 557, 556, 60, 64, 66, 580, 586, 591, 80, 96, 619, 111, 625, 628, 122, 125, 136, 143, 662, 663, 167, 682, 683, 686, 180, 183, 695, 187, 193, 705, 196, 199, 711, 713, 723, 212, 724, 735, 224, 741, 230, 232, 241, 245, 255, 768, 263, 775, 275, 281, 793, 283, 802, 291, 299, 305, 308, 829, 835, 329, 844, 854, 343, 856, 345, 863, 356, 871, 368, 881, 373, 897, 393, 906, 405, 922, 930, 422, 429, 942, 457, 463, 979, 480, 484, 485, 491, 498, 509}

normal:  {512, 0, 1, 517, 518, 8, 525, 543, 553, 42, 49, 50, 52, 564, 578, 69, 583, 83, 88, 101, 107, 627, 630, 134, 647, 649, 144, 671, 163, 676, 677, 166, 678, 164, 169, 684, 176, 706, 708, 202, 205, 717, 722, 725, 727, 220, 240, 243, 248, 249, 769, 258, 772, 784, 287, 288, 812, 815, 311, 312, 827, 317, 832, 837, 326, 846, 350, 862, 355, 357, 358, 876, 880, 375, 380, 895, 385, 898, 396, 913, 413, 416, 932, 425, 426, 427, 428, 941, 943, 961, 455, 974, 978, 985, 988, 990, 993, 483, 997, 493}

shuffle_clients (in good): [0, 4, 9, 8]
Shuffle in good !

shuffle_clients (in normal): [2, 3, 5]
Shuffle in normal!

shuffle_clients (in bad): [6, 1, 7]
Shuffle in bad !

max_local_ep_time:  12.963146924972534
round_time:  15.644377708435059

good:  [0, 4, 9, 8]
normal:  [2, 3, 5]
bad:  [6, 1, 7]
Client 0
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  12, Average loss 0.093165 ===
 100 users; time 20:30:49
 test data_loader(per batch size): 79
 Testing accuracy: 0.9466999769210815 loss: 0.168886
 Testing Label Acc: [0.9826530814170837, 0.9859030842781067, 0.9282945990562439, 0.9415841698646545, 0.9256619215011597, 0.939461886882782, 0.9572024941444397, 0.9377431869506836, 0.9240246415138245, 0.9395440816879272]
 Testing Avg Label Acc : 0.9462073147296906
 Testing Std Label Acc : 0.02107820190495184
 Poison Acc: 0.0622568093385214
 Model_Weight_Norm : tensor(0.0750)
 Model_Weight_Norm_Slope : tensor(-0.0241)
======

Client 1
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round  12, Average loss 0.222254 ===
 100 users; time 20:31:05
 test data_loader(per batch size): 79
 Testing accuracy: 0.9319000244140625 loss: 0.257402
 Testing Label Acc: [0.9704081416130066, 0.9806167483329773, 0.9399224519729614, 0.9554455280303955, 0.9185336232185364, 0.8979820609092712, 0.9592902064323425, 0.8142023086547852, 0.9394250512123108, 0.9375619292259216]
 Testing Avg Label Acc : 0.9313388049602509
 Testing Std Label Acc : 0.04526868805357818
 Poison Acc: 0.1857976653696498
 Model_Weight_Norm : tensor(0.3106)
 Model_Weight_Norm_Slope : tensor(-0.1222)
======

Client 2
 2/100 are attackers with poison attack 
 count(target label):  100
=== Round  12, Average loss 0.133557 ===
 100 users; time 20:31:21
 test data_loader(per batch size): 79
 Testing accuracy: 0.9186000227928162 loss: 0.291854
 Testing Label Acc: [0.9836734533309937, 0.9885462522506714, 0.9505813717842102, 0.9455445408821106, 0.9307535886764526, 0.9517937302589417, 0.9592902064323425, 0.6215953230857849, 0.9322382211685181, 0.9266600608825684]
 Testing Avg Label Acc : 0.9190676748752594
 Testing Std Label Acc : 0.10111460422298528
 Poison Acc: 0.3784046692607004
 Model_Weight_Norm : tensor(0.1904)
 Model_Weight_Norm_Slope : tensor(-0.0672)
======

Client 3
 5/100 are attackers with poison attack 
 count(target label):  100
=== Round  12, Average loss 0.159954 ===
 100 users; time 20:31:36
 test data_loader(per batch size): 79
 Testing accuracy: 0.8482000231742859 loss: 0.5187
 Testing Label Acc: [0.9836734533309937, 0.9885462522506714, 0.8914728760719299, 0.9128713011741638, 0.9287168979644775, 0.9147982001304626, 0.9718163013458252, 0.0038910505827516317, 0.9455851912498474, 0.9613478779792786]
 Testing Avg Label Acc : 0.8502719402080402
 Testing Std Label Acc : 0.2837966380392789
 Poison Acc: 0.9961089494163424
 Model_Weight_Norm : tensor(0.2638)
 Model_Weight_Norm_Slope : tensor(-0.0210)
======

Client 4
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  12, Average loss 0.111673 ===
 100 users; time 20:31:52
 test data_loader(per batch size): 79
 Testing accuracy: 0.945900022983551 loss: 0.174332
 Testing Label Acc: [0.9826530814170837, 0.9859030842781067, 0.9331395626068115, 0.9514851570129395, 0.9429734945297241, 0.9282511472702026, 0.9582463502883911, 0.9173151850700378, 0.9158110618591309, 0.9375619292259216]
 Testing Avg Label Acc : 0.945334005355835
 Testing Std Label Acc : 0.023251436637361983
 Poison Acc: 0.08268482490272373
 Model_Weight_Norm : tensor(0.0654)
 Model_Weight_Norm_Slope : tensor(-0.0034)
======

Client 5
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round  12, Average loss 0.156323 ===
 100 users; time 20:32:07
 test data_loader(per batch size): 79
 Testing accuracy: 0.8755999803543091 loss: 0.435826
 Testing Label Acc: [0.9734693765640259, 0.9876651763916016, 0.934108555316925, 0.9336633682250977, 0.8971486687660217, 0.9428251385688782, 0.9728600978851318, 0.2470817118883133, 0.9383983612060547, 0.9435084462165833]
 Testing Avg Label Acc : 0.8770728901028633
 Testing Std Label Acc : 0.21141037134006874
 Poison Acc: 0.7529182879377432
 Model_Weight_Norm : tensor(0.2719)
 Model_Weight_Norm_Slope : tensor(-0.2503)
======

Client 6
 7/100 are attackers with poison attack 
 count(target label):  100
=== Round  12, Average loss 0.211563 ===
 100 users; time 20:32:23
 test data_loader(per batch size): 79
 Testing accuracy: 0.8501999974250793 loss: 0.472825
 Testing Label Acc: [0.9897959232330322, 0.9894273281097412, 0.932170569896698, 0.9237623810768127, 0.9490835070610046, 0.931614339351654, 0.9582463502883911, 0.01750972680747509, 0.9301847815513611, 0.9008919596672058]
 Testing Avg Label Acc : 0.8522686867043376
 Testing Std Label Acc : 0.27953169083728
 Poison Acc: 0.9824902723735408
 Model_Weight_Norm : tensor(0.2830)
 Model_Weight_Norm_Slope : tensor(0.0018)
======

Client 7
 9/100 are attackers with poison attack 
 count(target label):  100
=== Round  12, Average loss 0.295195 ===
 100 users; time 20:32:38
 test data_loader(per batch size): 79
 Testing accuracy: 0.645799994468689 loss: 1.04477
 Testing Label Acc: [0.9918367266654968, 0.9991189241409302, 0.49806201457977295, 0.6673267483711243, 0.9246435761451721, 0.6188340783119202, 0.8235908150672913, 0.005836575757712126, 0.5903490781784058, 0.3310208022594452]
 Testing Avg Label Acc : 0.645061933947727
 Testing Std Label Acc : 0.2981047720877907
 Poison Acc: 0.9941634241245136
 Model_Weight_Norm : tensor(0.6148)
 Model_Weight_Norm_Slope : tensor(0.1256)
======

Client 8
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  12, Average loss 0.121450 ===
 100 users; time 20:32:54
 test data_loader(per batch size): 79
 Testing accuracy: 0.9463000297546387 loss: 0.177188
 Testing Label Acc: [0.9826530814170837, 0.9876651763916016, 0.934108555316925, 0.9415841698646545, 0.9378818869590759, 0.9473094344139099, 0.9561586380004883, 0.9163424372673035, 0.9178645014762878, 0.9375619292259216]
 Testing Avg Label Acc : 0.9459129810333252
 Testing Std Label Acc : 0.02270123396911366
 Poison Acc: 0.08365758754863813
 Model_Weight_Norm : tensor(0.0687)
 Model_Weight_Norm_Slope : tensor(0.0016)
======

Client 9
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  12, Average loss 0.105036 ===
 100 users; time 20:33:09
 test data_loader(per batch size): 79
 Testing accuracy: 0.9453999996185303 loss: 0.176765
 Testing Label Acc: [0.9826530814170837, 0.9859030842781067, 0.9312015771865845, 0.9316831827163696, 0.9490835070610046, 0.939461886882782, 0.9603340029716492, 0.9260700345039368, 0.918891191482544, 0.9246779084205627]
 Testing Avg Label Acc : 0.9449959456920624
 Testing Std Label Acc : 0.02279041252366876
 Poison Acc: 0.07392996108949416
 Model_Weight_Norm : tensor(0.0678)
 Model_Weight_Norm_Slope : tensor(-0.0073)
======

Test end 20:33:12
-------------------------------------------------------------------------

acc_list:  [(0, 0.9466999769210815), (8, 0.9463000297546387), (4, 0.945900022983551), (9, 0.9453999996185303), (1, 0.9319000244140625), (2, 0.9186000227928162), (5, 0.8755999803543091), (6, 0.8501999974250793), (3, 0.8482000231742859), (7, 0.645799994468689)]
acc_avg_difference:  0.022951066221575944
Acc_Avg (total global): 0.8857532177609393
Acc_Std (total global): 0.13090480496160783

good_group_acc :  0.9456125617027283
models updates
before:  0.9436338275671005  now: 0.9456125617027283
normal:  {13, 20, 25, 538, 27, 539, 544, 34, 37, 551, 46, 47, 48, 571, 581, 74, 594, 86, 87, 601, 605, 612, 105, 123, 128, 131, 653, 660, 151, 155, 158, 701, 703, 195, 200, 721, 217, 228, 747, 751, 762, 250, 765, 771, 781, 273, 282, 796, 286, 296, 811, 301, 306, 307, 825, 318, 323, 845, 335, 341, 348, 861, 864, 354, 868, 874, 879, 376, 903, 397, 910, 398, 402, 915, 916, 404, 410, 926, 928, 934, 423, 937, 946, 436, 446, 449, 452, 456, 971, 462, 464, 977, 469, 982, 989, 478, 482, 996, 487, 511}

normal:  {512, 518, 15, 17, 18, 534, 28, 553, 43, 556, 557, 50, 52, 59, 60, 574, 64, 66, 580, 596, 96, 111, 628, 640, 642, 647, 136, 144, 148, 662, 161, 676, 677, 678, 683, 685, 176, 689, 183, 695, 187, 705, 706, 196, 713, 202, 717, 212, 724, 725, 735, 224, 741, 239, 243, 258, 774, 784, 793, 293, 812, 815, 305, 311, 837, 337, 853, 343, 345, 350, 862, 357, 871, 880, 881, 382, 895, 385, 902, 396, 908, 917, 406, 922, 413, 930, 426, 942, 947, 961, 457, 978, 986, 988, 480, 997, 491, 493, 503, 506}

normal:  {517, 8, 525, 528, 16, 533, 543, 32, 546, 42, 44, 564, 568, 572, 69, 583, 586, 80, 84, 602, 609, 101, 107, 108, 619, 624, 116, 629, 630, 649, 154, 671, 163, 164, 166, 169, 682, 170, 700, 193, 708, 199, 205, 723, 219, 732, 226, 230, 232, 237, 241, 246, 768, 769, 772, 275, 281, 283, 802, 291, 299, 814, 817, 308, 312, 317, 829, 832, 835, 330, 844, 856, 356, 876, 368, 369, 375, 380, 897, 898, 899, 393, 395, 907, 913, 405, 414, 422, 427, 943, 433, 434, 985, 481, 484, 485, 999, 498, 505, 509}

shuffle_clients (in good): [0, 8, 4, 9]
Shuffle in good !

shuffle_clients (in normal): [1, 2, 5]
Shuffle in normal!

shuffle_clients (in bad): [6, 3, 7]
Shuffle in bad !

max_local_ep_time:  13.045126914978027
round_time:  15.677247047424316

good:  [0, 8, 4, 9]
normal:  [1, 2, 5]
bad:  [6, 3, 7]
Client 0
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  13, Average loss 0.085374 ===
 100 users; time 20:33:25
 test data_loader(per batch size): 79
 Testing accuracy: 0.9501000046730042 loss: 0.161506
 Testing Label Acc: [0.9836734533309937, 0.9859030842781067, 0.9350775480270386, 0.9485148787498474, 0.9439918398857117, 0.945067286491394, 0.9561586380004883, 0.9406614899635315, 0.9219712615013123, 0.935579776763916]
 Testing Avg Label Acc : 0.949659925699234
 Testing Std Label Acc : 0.019559603357107033
 Poison Acc: 0.05933852140077821
 Model_Weight_Norm : tensor(0.0682)
 Model_Weight_Norm_Slope : tensor(-0.0069)
======

Client 1
 2/100 are attackers with poison attack 
 count(target label):  100
=== Round  13, Average loss 0.131212 ===
 100 users; time 20:33:41
 test data_loader(per batch size): 79
 Testing accuracy: 0.9240999817848206 loss: 0.264876
 Testing Label Acc: [0.9704081416130066, 0.9894273281097412, 0.9457364082336426, 0.9138613939285278, 0.92769855260849, 0.926008939743042, 0.9697285890579224, 0.7062256932258606, 0.9466118812561035, 0.9454905986785889]
 Testing Avg Label Acc : 0.9241197526454925
 Testing Std Label Acc : 0.0758400823605448
 Poison Acc: 0.29377431906614787
 Model_Weight_Norm : tensor(0.1632)
 Model_Weight_Norm_Slope : tensor(-0.1474)
======

Client 2
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round  13, Average loss 0.141181 ===
 100 users; time 20:33:56
 test data_loader(per batch size): 79
 Testing accuracy: 0.9207000136375427 loss: 0.290921
 Testing Label Acc: [0.9755101799964905, 0.9814978241920471, 0.9176356792449951, 0.9465346336364746, 0.9429734945297241, 0.9517937302589417, 0.9707724452018738, 0.6381322741508484, 0.953798770904541, 0.935579776763916]
 Testing Avg Label Acc : 0.9214228808879852
 Testing Std Label Acc : 0.09617887424936192
 Poison Acc: 0.36186770428015563
 Model_Weight_Norm : tensor(0.1892)
 Model_Weight_Norm_Slope : tensor(-0.0012)
======

Client 3
 5/100 are attackers with poison attack 
 count(target label):  100
=== Round  13, Average loss 0.184041 ===
 100 users; time 20:34:12
 test data_loader(per batch size): 79
 Testing accuracy: 0.9340999722480774 loss: 0.264659
 Testing Label Acc: [0.9775510430335999, 0.9894273281097412, 0.9467054009437561, 0.9435643553733826, 0.9429734945297241, 0.963004469871521, 0.9613778591156006, 0.7568093538284302, 0.9312114715576172, 0.9306243658065796]
 Testing Avg Label Acc : 0.9343249142169953
 Testing Std Label Acc : 0.061893260052450064
 Poison Acc: 0.24319066147859922
 Model_Weight_Norm : tensor(0.2414)
 Model_Weight_Norm_Slope : tensor(-0.0224)
======

Client 4
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  13, Average loss 0.088217 ===
 100 users; time 20:34:27
 test data_loader(per batch size): 79
 Testing accuracy: 0.9484000205993652 loss: 0.167651
 Testing Label Acc: [0.9836734533309937, 0.9867841601371765, 0.932170569896698, 0.9475247263908386, 0.9501018524169922, 0.9428251385688782, 0.9582463502883911, 0.9221789836883545, 0.9199178814888, 0.9365708827972412]
 Testing Avg Label Acc : 0.9479993999004364
 Testing Std Label Acc : 0.02179390451715045
 Poison Acc: 0.07782101167315175
 Model_Weight_Norm : tensor(0.0576)
 Model_Weight_Norm_Slope : tensor(-0.0078)
======

Client 5
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round  13, Average loss 0.186779 ===
 100 users; time 20:34:43
 test data_loader(per batch size): 79
 Testing accuracy: 0.9235000014305115 loss: 0.297616
 Testing Label Acc: [0.9806122183799744, 0.9850220084190369, 0.9389534592628479, 0.9415841698646545, 0.9348269104957581, 0.9069506525993347, 0.9697285890579224, 0.6906614899635315, 0.9486653208732605, 0.9375619292259216]
 Testing Avg Label Acc : 0.9234566748142242
 Testing Std Label Acc : 0.08074444629299503
 Poison Acc: 0.3093385214007782
 Model_Weight_Norm : tensor(0.2264)
 Model_Weight_Norm_Slope : tensor(-0.0455)
======

Client 6
 9/100 are attackers with poison attack 
 count(target label):  100
=== Round  13, Average loss 0.215714 ===
 100 users; time 20:34:59
 test data_loader(per batch size): 79
 Testing accuracy: 0.8154000043869019 loss: 0.656154
 Testing Label Acc: [0.9785714149475098, 0.9859030842781067, 0.8866279125213623, 0.9346534609794617, 0.7189409136772156, 0.7802690863609314, 0.9728600978851318, 0.0, 0.9342916011810303, 0.9643211364746094]
 Testing Avg Label Acc : 0.8156438708305359
 Testing Std Label Acc : 0.28487058776325896
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.4147)
 Model_Weight_Norm_Slope : tensor(0.1317)
======

Client 7
 7/100 are attackers with poison attack 
 count(target label):  100
=== Round  13, Average loss 0.236352 ===
 100 users; time 20:35:14
 test data_loader(per batch size): 79
 Testing accuracy: 0.738099992275238 loss: 0.81951
 Testing Label Acc: [0.7448979616165161, 0.6678414344787598, 0.9651162624359131, 0.9326732754707336, 0.3869653642177582, 0.9820627570152283, 0.9217119216918945, 0.0009727626456879079, 0.9045174717903137, 0.9256689548492432]
 Testing Avg Label Acc : 0.7432428166212048
 Testing Std Label Acc : 0.3027991552918761
 Poison Acc: 0.9990272373540856
 Model_Weight_Norm : tensor(0.6933)
 Model_Weight_Norm_Slope : tensor(0.0784)
======

Client 8
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  13, Average loss 0.112500 ===
 100 users; time 20:35:30
 test data_loader(per batch size): 79
 Testing accuracy: 0.9451000094413757 loss: 0.173577
 Testing Label Acc: [0.9846938848495483, 0.9885462522506714, 0.9350775480270386, 0.9504950642585754, 0.9256619215011597, 0.9349775910377502, 0.9592902064323425, 0.9192606806755066, 0.9096509218215942, 0.9375619292259216]
 Testing Avg Label Acc : 0.9445216000080109
 Testing Std Label Acc : 0.02498851224837304
 Poison Acc: 0.08073929961089495
 Model_Weight_Norm : tensor(0.0624)
 Model_Weight_Norm_Slope : tensor(-0.0063)
======

Client 9
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  13, Average loss 0.099525 ===
 100 users; time 20:35:45
 test data_loader(per batch size): 79
 Testing accuracy: 0.9465000033378601 loss: 0.170376
 Testing Label Acc: [0.9826530814170837, 0.9859030842781067, 0.930232584476471, 0.9435643553733826, 0.9439918398857117, 0.9372197389602661, 0.9603340029716492, 0.9250972867012024, 0.9178645014762878, 0.9335976243019104]
 Testing Avg Label Acc : 0.9460458099842072
 Testing Std Label Acc : 0.022043514328058393
 Poison Acc: 0.07490272373540856
 Model_Weight_Norm : tensor(0.0615)
 Model_Weight_Norm_Slope : tensor(-0.0063)
======

Test end 20:35:48
-------------------------------------------------------------------------

acc_list:  [(0, 0.9501000046730042), (4, 0.9484000205993652), (9, 0.9465000033378601), (8, 0.9451000094413757), (3, 0.9340999722480774), (1, 0.9240999817848206), (5, 0.9235000014305115), (2, 0.9207000136375427), (6, 0.8154000043869019), (7, 0.738099992275238)]
acc_avg_difference:  0.019290546799893393
Acc_Avg (total global): 0.9050437645608327
Acc_Std (total global): 0.0990711940461176

good_group_acc :  0.947056683897972
models updates
before:  0.9456125617027283  now: 0.947056683897972
normal:  {0, 6, 519, 522, 523, 532, 22, 540, 31, 33, 35, 548, 38, 39, 560, 584, 585, 587, 589, 77, 593, 89, 90, 98, 109, 113, 627, 117, 633, 125, 126, 134, 143, 146, 147, 153, 667, 669, 673, 674, 679, 168, 684, 687, 178, 692, 697, 194, 718, 736, 227, 740, 236, 758, 782, 783, 272, 789, 277, 799, 297, 810, 310, 320, 833, 324, 329, 841, 843, 846, 847, 344, 857, 859, 863, 361, 885, 387, 388, 391, 918, 408, 932, 935, 940, 941, 439, 953, 956, 958, 455, 969, 974, 470, 472, 992, 486, 490, 494, 500}

normal:  {528, 17, 534, 539, 543, 32, 546, 551, 553, 44, 46, 47, 50, 564, 59, 571, 572, 66, 74, 586, 594, 87, 602, 101, 619, 108, 116, 630, 123, 647, 136, 660, 662, 154, 163, 170, 682, 689, 703, 713, 202, 717, 721, 723, 725, 217, 219, 735, 741, 230, 237, 239, 243, 250, 765, 772, 275, 286, 802, 812, 817, 312, 317, 837, 330, 335, 337, 853, 343, 345, 861, 356, 868, 871, 874, 368, 881, 380, 382, 397, 402, 915, 405, 934, 937, 426, 942, 433, 434, 961, 452, 462, 464, 985, 478, 481, 485, 999, 493, 498}

normal:  {512, 8, 18, 538, 27, 28, 37, 43, 557, 52, 60, 574, 64, 580, 80, 596, 86, 96, 609, 105, 629, 128, 642, 131, 653, 144, 148, 671, 676, 164, 678, 683, 176, 183, 700, 706, 708, 196, 205, 212, 732, 224, 226, 241, 762, 258, 774, 784, 273, 281, 282, 283, 291, 296, 301, 814, 815, 306, 307, 308, 825, 318, 832, 835, 323, 844, 856, 350, 864, 354, 357, 876, 879, 376, 897, 385, 899, 902, 903, 395, 907, 398, 913, 917, 922, 410, 413, 926, 928, 427, 977, 469, 986, 989, 480, 482, 484, 491, 505, 511}

shuffle_clients (in good): [0, 4, 9, 8]
Shuffle in good !

shuffle_clients (in normal): [3, 1, 5]
Shuffle in normal!

shuffle_clients (in bad): [2, 6, 7]
Shuffle in bad !

max_local_ep_time:  12.85008716583252
round_time:  15.534758567810059

good:  [0, 4, 9, 8]
normal:  [3, 1, 5]
bad:  [2, 6, 7]
Client 0
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  14, Average loss 0.080951 ===
 100 users; time 20:36:01
 test data_loader(per batch size): 79
 Testing accuracy: 0.9524000287055969 loss: 0.155883
 Testing Label Acc: [0.9846938848495483, 0.9850220084190369, 0.9350775480270386, 0.9465346336364746, 0.9490835070610046, 0.9506726264953613, 0.9540709853172302, 0.9445525407791138, 0.9322382211685181, 0.9385530352592468]
 Testing Avg Label Acc : 0.9520498991012574
 Testing Std Label Acc : 0.017654823990860363
 Poison Acc: 0.05544747081712062
 Model_Weight_Norm : tensor(0.0583)
 Model_Weight_Norm_Slope : tensor(-0.0099)
======

Client 1
 2/100 are attackers with poison attack 
 count(target label):  100
=== Round  14, Average loss 0.126635 ===
 100 users; time 20:36:17
 test data_loader(per batch size): 79
 Testing accuracy: 0.9243999719619751 loss: 0.256883
 Testing Label Acc: [0.9857142567634583, 0.9894273281097412, 0.932170569896698, 0.9405940771102905, 0.9399185180664062, 0.9103139042854309, 0.9655532240867615, 0.7062256932258606, 0.9301847815513611, 0.9425173401832581]
 Testing Avg Label Acc : 0.9242619693279266
 Testing Std Label Acc : 0.07642315816971852
 Poison Acc: 0.29377431906614787
 Model_Weight_Norm : tensor(0.1342)
 Model_Weight_Norm_Slope : tensor(-0.0289)
======

Client 2
 6/100 are attackers with poison attack 
 count(target label):  100
=== Round  14, Average loss 0.178222 ===
 100 users; time 20:36:32
 test data_loader(per batch size): 79
 Testing accuracy: 0.8511999845504761 loss: 0.545818
 Testing Label Acc: [0.9877551198005676, 0.983259916305542, 0.940891444683075, 0.9217821955680847, 0.9287168979644775, 0.9147982001304626, 0.9530271291732788, 0.0, 0.9558521509170532, 0.9454905986785889]
 Testing Avg Label Acc : 0.8531573653221131
 Testing Std Label Acc : 0.28528613802376623
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.3064)
 Model_Weight_Norm_Slope : tensor(0.1172)
======

Client 3
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round  14, Average loss 0.128611 ===
 100 users; time 20:36:48
 test data_loader(per batch size): 79
 Testing accuracy: 0.9186999797821045 loss: 0.30054
 Testing Label Acc: [0.9765306115150452, 0.9903083443641663, 0.940891444683075, 0.9297029972076416, 0.9297352433204651, 0.9327354431152344, 0.9770354628562927, 0.6215953230857849, 0.9312114715576172, 0.9603567719459534]
 Testing Avg Label Acc : 0.9190103113651276
 Testing Std Label Acc : 0.10147389168798854
 Poison Acc: 0.3784046692607004
 Model_Weight_Norm : tensor(0.1697)
 Model_Weight_Norm_Slope : tensor(-0.0717)
======

Client 4
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  14, Average loss 0.085579 ===
 100 users; time 20:37:04
 test data_loader(per batch size): 79
 Testing accuracy: 0.9495999813079834 loss: 0.163235
 Testing Label Acc: [0.9836734533309937, 0.9867841601371765, 0.9350775480270386, 0.9514851570129395, 0.9480651617050171, 0.9349775910377502, 0.9592902064323425, 0.9328793883323669, 0.9219712615013123, 0.9365708827972412]
 Testing Avg Label Acc : 0.9490774810314179
 Testing Std Label Acc : 0.020683669327167354
 Poison Acc: 0.06712062256809338
 Model_Weight_Norm : tensor(0.0528)
 Model_Weight_Norm_Slope : tensor(-0.0048)
======

Client 5
 6/100 are attackers with poison attack 
 count(target label):  100
=== Round  14, Average loss 0.176187 ===
 100 users; time 20:37:19
 test data_loader(per batch size): 79
 Testing accuracy: 0.8529000282287598 loss: 0.517596
 Testing Label Acc: [0.9612244963645935, 0.9885462522506714, 0.9457364082336426, 0.9544554352760315, 0.9307535886764526, 0.9125560522079468, 0.9770354628562927, 0.0009727626456879079, 0.9445585012435913, 0.9316154718399048]
 Testing Avg Label Acc : 0.8547454431594815
 Testing Std Label Acc : 0.28538381416301645
 Poison Acc: 0.9990272373540856
 Model_Weight_Norm : tensor(0.2817)
 Model_Weight_Norm_Slope : tensor(0.0553)
======

Client 6
 8/100 are attackers with poison attack 
 count(target label):  100
=== Round  14, Average loss 0.257067 ===
 100 users; time 20:37:35
 test data_loader(per batch size): 79
 Testing accuracy: 0.8228999972343445 loss: 0.523496
 Testing Label Acc: [0.9887754917144775, 0.9911894202232361, 0.9505813717842102, 0.8346534371376038, 0.9908350110054016, 0.976457417011261, 0.9144049882888794, 0.14007781445980072, 0.8254619836807251, 0.637264609336853]
 Testing Avg Label Acc : 0.8249701544642448
 Testing Std Label Acc : 0.25161522976879125
 Poison Acc: 0.8599221789883269
 Model_Weight_Norm : tensor(0.5015)
 Model_Weight_Norm_Slope : tensor(0.0868)
======

Client 7
 5/100 are attackers with poison attack 
 count(target label):  100
=== Round  14, Average loss 0.244759 ===
 100 users; time 20:37:51
 test data_loader(per batch size): 79
 Testing accuracy: 0.7911999821662903 loss: 0.589643
 Testing Label Acc: [0.9887754917144775, 0.9973568320274353, 0.7141472697257996, 0.8792079091072083, 0.9572301506996155, 0.7701793909072876, 0.9394571781158447, 0.019455252215266228, 0.8377823233604431, 0.8156590461730957]
 Testing Avg Label Acc : 0.7919250844046474
 Testing Std Label Acc : 0.2726829942415761
 Poison Acc: 0.980544747081712
 Model_Weight_Norm : tensor(0.5707)
 Model_Weight_Norm_Slope : tensor(-0.1226)
======

Client 8
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  14, Average loss 0.096148 ===
 100 users; time 20:38:07
 test data_loader(per batch size): 79
 Testing accuracy: 0.947700023651123 loss: 0.168441
 Testing Label Acc: [0.9826530814170837, 0.9885462522506714, 0.9370155334472656, 0.9514851570129395, 0.9460285305976868, 0.9282511472702026, 0.962421715259552, 0.9134241342544556, 0.9209445714950562, 0.9405351877212524]
 Testing Avg Label Acc : 0.9471305310726166
 Testing Std Label Acc : 0.023569428416366604
 Poison Acc: 0.08657587548638132
 Model_Weight_Norm : tensor(0.0608)
 Model_Weight_Norm_Slope : tensor(-0.0016)
======

Client 9
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  14, Average loss 0.096067 ===
 100 users; time 20:38:22
 test data_loader(per batch size): 79
 Testing accuracy: 0.9491000175476074 loss: 0.165471
 Testing Label Acc: [0.9846938848495483, 0.9894273281097412, 0.932170569896698, 0.9504950642585754, 0.9460285305976868, 0.9461883306503296, 0.9582463502883911, 0.929961085319519, 0.9147843718528748, 0.9345887303352356]
 Testing Avg Label Acc : 0.94865842461586
 Testing Std Label Acc : 0.022440643383633444
 Poison Acc: 0.07003891050583658
 Model_Weight_Norm : tensor(0.0594)
 Model_Weight_Norm_Slope : tensor(-0.0021)
======

Test end 20:38:25
-------------------------------------------------------------------------

acc_list:  [(0, 0.9524000287055969), (4, 0.9495999813079834), (9, 0.9491000175476074), (8, 0.947700023651123), (1, 0.9243999719619751), (3, 0.9186999797821045), (5, 0.8529000282287598), (2, 0.8511999845504761), (6, 0.8228999972343445), (7, 0.7911999821662903)]
acc_avg_difference:  0.008545098174363441
Acc_Avg (total global): 0.8964986663864692
Acc_Std (total global): 0.1357213791172885

good_group_acc :  0.9492290839552879
models updates
before:  0.947056683897972  now: 0.9492290839552879
normal:  {6, 519, 8, 18, 22, 539, 543, 31, 32, 546, 39, 553, 43, 557, 46, 47, 64, 580, 585, 77, 90, 609, 101, 105, 109, 125, 126, 134, 144, 662, 671, 163, 678, 679, 168, 170, 178, 692, 703, 196, 713, 212, 219, 732, 735, 736, 227, 236, 237, 241, 758, 258, 774, 782, 783, 272, 275, 802, 297, 307, 308, 317, 320, 835, 837, 329, 847, 335, 337, 853, 859, 350, 361, 879, 368, 380, 387, 902, 395, 397, 913, 915, 405, 918, 408, 410, 922, 932, 934, 937, 961, 969, 989, 485, 486, 490, 491, 493, 494, 511}

normal:  {512, 522, 528, 17, 532, 538, 28, 38, 551, 564, 60, 572, 586, 74, 589, 80, 596, 87, 89, 98, 108, 627, 116, 630, 136, 653, 146, 147, 148, 154, 673, 683, 176, 689, 183, 697, 202, 717, 205, 721, 723, 725, 226, 741, 230, 762, 772, 784, 273, 789, 281, 282, 283, 286, 799, 296, 810, 812, 814, 815, 306, 310, 312, 318, 832, 833, 323, 841, 330, 843, 844, 846, 344, 861, 863, 864, 354, 356, 868, 871, 874, 881, 376, 382, 897, 388, 402, 413, 926, 935, 427, 941, 942, 953, 470, 472, 986, 482, 498, 505}

normal:  {0, 523, 534, 27, 540, 33, 35, 548, 37, 44, 560, 50, 52, 59, 571, 574, 66, 584, 587, 593, 594, 86, 602, 96, 619, 113, 629, 117, 633, 123, 128, 642, 131, 647, 143, 660, 153, 667, 669, 674, 676, 164, 682, 684, 687, 700, 194, 706, 708, 718, 217, 224, 740, 239, 243, 250, 765, 277, 291, 301, 817, 825, 324, 343, 856, 345, 857, 357, 876, 885, 385, 899, 903, 391, 907, 398, 917, 928, 426, 940, 433, 434, 439, 956, 958, 452, 455, 462, 974, 464, 977, 469, 985, 478, 480, 992, 481, 484, 999, 500}

shuffle_clients (in good): [0, 4, 9, 8]
Shuffle in good !

shuffle_clients (in normal): [1, 3, 5]
Shuffle in normal!

shuffle_clients (in bad): [2, 6, 7]
Shuffle in bad !

max_local_ep_time:  13.029841899871826
round_time:  15.678920984268188

good:  [0, 4, 9, 8]
normal:  [1, 3, 5]
bad:  [2, 6, 7]
Client 0
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  15, Average loss 0.076131 ===
 100 users; time 20:38:38
 test data_loader(per batch size): 79
 Testing accuracy: 0.953499972820282 loss: 0.151578
 Testing Label Acc: [0.9867346882820129, 0.9859030842781067, 0.9331395626068115, 0.9564356207847595, 0.9490835070610046, 0.9495515823364258, 0.9572024941444397, 0.9445525407791138, 0.9271047115325928, 0.9415262341499329]
 Testing Avg Label Acc : 0.95312340259552
 Testing Std Label Acc : 0.01882868721752802
 Poison Acc: 0.05544747081712062
 Model_Weight_Norm : tensor(0.0526)
 Model_Weight_Norm_Slope : tensor(-0.0057)
======

Client 1
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round  15, Average loss 0.135268 ===
 100 users; time 20:38:53
 test data_loader(per batch size): 79
 Testing accuracy: 0.9129999876022339 loss: 0.321192
 Testing Label Acc: [0.9826530814170837, 0.9894273281097412, 0.934108555316925, 0.9514851570129395, 0.9470468163490295, 0.9248878955841064, 0.9676409363746643, 0.5651751160621643, 0.9394250512123108, 0.9326065182685852]
 Testing Avg Label Acc : 0.913445645570755
 Testing Std Label Acc : 0.11788484598132266
 Poison Acc: 0.4348249027237354
 Model_Weight_Norm : tensor(0.1897)
 Model_Weight_Norm_Slope : tensor(0.0555)
======

Client 2
 7/100 are attackers with poison attack 
 count(target label):  100
=== Round  15, Average loss 0.224824 ===
 100 users; time 20:39:08
 test data_loader(per batch size): 79
 Testing accuracy: 0.9164999723434448 loss: 0.322585
 Testing Label Acc: [0.9744898080825806, 0.9894273281097412, 0.9205426573753357, 0.9257425665855408, 0.9307535886764526, 0.9719731211662292, 0.9718163013458252, 0.6206225752830505, 0.9363449811935425, 0.9316154718399048]
 Testing Avg Label Acc : 0.9173328399658203
 Testing Std Label Acc : 0.10162781179364638
 Poison Acc: 0.37937743190661477
 Model_Weight_Norm : tensor(0.2953)
 Model_Weight_Norm_Slope : tensor(-0.0111)
======

Client 3
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round  15, Average loss 0.125993 ===
 100 users; time 20:39:24
 test data_loader(per batch size): 79
 Testing accuracy: 0.9354000091552734 loss: 0.25235
 Testing Label Acc: [0.9806122183799744, 0.9885462522506714, 0.9573643207550049, 0.9257425665855408, 0.9409368634223938, 0.9596412777900696, 0.9707724452018738, 0.744163453578949, 0.9383983612060547, 0.9504460096359253]
 Testing Avg Label Acc : 0.9356623768806458
 Testing Std Label Acc : 0.0664228675662149
 Poison Acc: 0.25583657587548636
 Model_Weight_Norm : tensor(0.1702)
 Model_Weight_Norm_Slope : tensor(0.0005)
======

Client 4
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  15, Average loss 0.102144 ===
 100 users; time 20:39:39
 test data_loader(per batch size): 79
 Testing accuracy: 0.9491000175476074 loss: 0.161166
 Testing Label Acc: [0.9857142567634583, 0.9876651763916016, 0.944767415523529, 0.9455445408821106, 0.9450101852416992, 0.9349775910377502, 0.9603340029716492, 0.9153696298599243, 0.9209445714950562, 0.9454905986785889]
 Testing Avg Label Acc : 0.9485817968845367
 Testing Std Label Acc : 0.022677013705414476
 Poison Acc: 0.08463035019455253
 Model_Weight_Norm : tensor(0.0617)
 Model_Weight_Norm_Slope : tensor(0.0088)
======

Client 5
 5/100 are attackers with poison attack 
 count(target label):  100
=== Round  15, Average loss 0.203041 ===
 100 users; time 20:39:55
 test data_loader(per batch size): 79
 Testing accuracy: 0.9108999967575073 loss: 0.3153
 Testing Label Acc: [0.9877551198005676, 0.9823788404464722, 0.9195736646652222, 0.9376237392425537, 0.9032586812973022, 0.9047085046768188, 0.9634655714035034, 0.594357967376709, 0.9548254609107971, 0.9633300304412842]
 Testing Avg Label Acc : 0.911127758026123
 Testing Std Label Acc : 0.1093352103945433
 Poison Acc: 0.4056420233463035
 Model_Weight_Norm : tensor(0.2581)
 Model_Weight_Norm_Slope : tensor(-0.0236)
======

Client 6
 6/100 are attackers with poison attack 
 count(target label):  100
=== Round  15, Average loss 0.176658 ===
 100 users; time 20:40:10
 test data_loader(per batch size): 79
 Testing accuracy: 0.8102999925613403 loss: 0.562816
 Testing Label Acc: [0.9826530814170837, 0.966519832611084, 0.8633720874786377, 0.9346534609794617, 0.655804455280304, 0.7399103045463562, 0.9697285890579224, 0.046692606061697006, 0.966119110584259, 0.9772051572799683]
 Testing Avg Label Acc : 0.8102658685296774
 Testing Std Label Acc : 0.27601899848611805
 Poison Acc: 0.953307392996109
 Model_Weight_Norm : tensor(0.4501)
 Model_Weight_Norm_Slope : tensor(-0.0514)
======

Client 7
 6/100 are attackers with poison attack 
 count(target label):  100
=== Round  15, Average loss 0.189388 ===
 100 users; time 20:40:26
 test data_loader(per batch size): 79
 Testing accuracy: 0.8616999983787537 loss: 0.431531
 Testing Label Acc: [0.949999988079071, 0.9453744292259216, 0.9505813717842102, 0.9544554352760315, 0.8543788194656372, 0.9686098694801331, 0.9394571781158447, 0.2188715934753418, 0.9127309918403625, 0.9425173401832581]
 Testing Avg Label Acc : 0.8636977016925812
 Testing Std Label Acc : 0.2170611255768212
 Poison Acc: 0.7811284046692607
 Model_Weight_Norm : tensor(0.4573)
 Model_Weight_Norm_Slope : tensor(-0.1134)
======

Client 8
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  15, Average loss 0.092693 ===
 100 users; time 20:40:41
 test data_loader(per batch size): 79
 Testing accuracy: 0.9496999979019165 loss: 0.162353
 Testing Label Acc: [0.9826530814170837, 0.9876651763916016, 0.940891444683075, 0.9455445408821106, 0.9439918398857117, 0.9428251385688782, 0.9592902064323425, 0.9289883375167847, 0.9250513315200806, 0.935579776763916]
 Testing Avg Label Acc : 0.9492480874061584
 Testing Std Label Acc : 0.020069394177563746
 Poison Acc: 0.07101167315175097
 Model_Weight_Norm : tensor(0.0543)
 Model_Weight_Norm_Slope : tensor(-0.0065)
======

Client 9
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  15, Average loss 0.095489 ===
 100 users; time 20:40:57
 test data_loader(per batch size): 79
 Testing accuracy: 0.949999988079071 loss: 0.161141
 Testing Label Acc: [0.9867346882820129, 0.9867841601371765, 0.9292635917663574, 0.9485148787498474, 0.9480651617050171, 0.9517937302589417, 0.9582463502883911, 0.929961085319519, 0.9199178814888, 0.9375619292259216]
 Testing Avg Label Acc : 0.9496843457221985
 Testing Std Label Acc : 0.021609906330953808
 Poison Acc: 0.07003891050583658
 Model_Weight_Norm : tensor(0.0586)
 Model_Weight_Norm_Slope : tensor(-0.0008)
======

Test end 20:40:59
-------------------------------------------------------------------------

acc_list:  [(0, 0.953499972820282), (9, 0.949999988079071), (8, 0.9496999979019165), (4, 0.9491000175476074), (3, 0.9354000091552734), (2, 0.9164999723434448), (1, 0.9129999876022339), (5, 0.9108999967575073), (7, 0.8616999983787537), (6, 0.8102999925613403)]
acc_avg_difference:  0.01871831594093243
Acc_Avg (total global): 0.9152169823274017
Acc_Std (total global): 0.09715358612301266

good_group_acc :  0.9501594081521034
models updates
before:  0.9492290839552879  now: 0.9501594081521034
normal:  {522, 17, 532, 27, 33, 35, 39, 44, 560, 564, 571, 59, 580, 587, 77, 594, 86, 96, 609, 619, 108, 630, 633, 662, 673, 163, 678, 679, 168, 170, 684, 700, 706, 202, 205, 721, 723, 217, 735, 741, 241, 250, 765, 258, 772, 782, 784, 277, 283, 297, 810, 812, 301, 814, 312, 318, 832, 833, 324, 841, 330, 329, 843, 847, 856, 857, 859, 864, 868, 871, 885, 376, 382, 385, 387, 899, 395, 398, 913, 915, 926, 928, 427, 940, 941, 433, 434, 956, 958, 452, 455, 974, 470, 986, 480, 485, 486, 491, 493, 500}

normal:  {517, 7, 525, 13, 15, 19, 21, 23, 34, 547, 40, 42, 558, 53, 573, 581, 583, 591, 84, 88, 603, 608, 104, 628, 634, 127, 648, 137, 649, 654, 661, 151, 160, 161, 675, 169, 185, 701, 705, 709, 210, 729, 220, 221, 228, 745, 747, 238, 244, 757, 246, 245, 759, 763, 254, 768, 771, 773, 263, 775, 792, 794, 797, 287, 293, 299, 311, 824, 322, 326, 338, 339, 342, 358, 872, 367, 880, 371, 884, 891, 895, 906, 404, 923, 416, 422, 423, 943, 944, 947, 952, 444, 445, 966, 457, 460, 978, 979, 492, 506}

normal:  {0, 512, 6, 519, 8, 528, 22, 534, 539, 540, 28, 546, 37, 551, 553, 43, 557, 46, 50, 60, 574, 64, 66, 586, 74, 589, 80, 89, 90, 602, 101, 105, 109, 627, 629, 123, 126, 128, 134, 653, 147, 660, 148, 671, 683, 687, 689, 183, 212, 725, 219, 732, 224, 226, 740, 230, 236, 237, 239, 243, 758, 762, 272, 273, 275, 282, 799, 291, 815, 817, 310, 825, 317, 846, 853, 344, 863, 357, 361, 879, 368, 881, 380, 903, 405, 917, 922, 937, 426, 942, 439, 961, 969, 462, 472, 989, 478, 992, 482, 505}

shuffle_clients (in good): [0, 9, 8, 4]
Shuffle in good !

shuffle_clients (in normal): [3, 2, 1]
Shuffle in normal!

shuffle_clients (in bad): [5, 7, 6]
Shuffle in bad !

max_local_ep_time:  13.029681205749512
round_time:  15.688409805297852

good:  [0, 9, 8, 4]
normal:  [3, 2, 1]
bad:  [5, 7, 6]
Client 0
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  16, Average loss 0.073242 ===
 100 users; time 20:41:12
 test data_loader(per batch size): 79
 Testing accuracy: 0.9535999894142151 loss: 0.14813
 Testing Label Acc: [0.9857142567634583, 0.9859030842781067, 0.9389534592628479, 0.9574257135391235, 0.9480651617050171, 0.9506726264953613, 0.9582463502883911, 0.9367704391479492, 0.9240246415138245, 0.9464816451072693]
 Testing Avg Label Acc : 0.9532257378101349
 Testing Std Label Acc : 0.018899657947052617
 Poison Acc: 0.0632295719844358
 Model_Weight_Norm : tensor(0.0501)
 Model_Weight_Norm_Slope : tensor(-0.0025)
======

Client 1
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round  16, Average loss 0.154254 ===
 100 users; time 20:41:28
 test data_loader(per batch size): 79
 Testing accuracy: 0.9090999960899353 loss: 0.333509
 Testing Label Acc: [0.9846938848495483, 0.9867841601371765, 0.9350775480270386, 0.9217821955680847, 0.9164969325065613, 0.9428251385688782, 0.9603340029716492, 0.5301556587219238, 0.9630390405654907, 0.9573835730552673]
 Testing Avg Label Acc : 0.9098572134971619
 Testing Std Label Acc : 0.12854406305981866
 Poison Acc: 0.4698443579766537
 Model_Weight_Norm : tensor(0.1872)
 Model_Weight_Norm_Slope : tensor(-0.0025)
======

Client 2
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round  16, Average loss 0.146971 ===
 100 users; time 20:41:44
 test data_loader(per batch size): 79
 Testing accuracy: 0.9254000186920166 loss: 0.266332
 Testing Label Acc: [0.9867346882820129, 0.9903083443641663, 0.940891444683075, 0.9138613939285278, 0.9419552087783813, 0.9360986351966858, 0.9582463502883911, 0.6906614899635315, 0.941478431224823, 0.9554013609886169]
 Testing Avg Label Acc : 0.9255637347698211
 Testing Std Label Acc : 0.08128719303705778
 Poison Acc: 0.3093385214007782
 Model_Weight_Norm : tensor(0.1945)
 Model_Weight_Norm_Slope : tensor(-0.1008)
======

Client 3
 6/100 are attackers with poison attack 
 count(target label):  100
=== Round  16, Average loss 0.153878 ===
 100 users; time 20:41:59
 test data_loader(per batch size): 79
 Testing accuracy: 0.8550000190734863 loss: 0.568786
 Testing Label Acc: [0.972449004650116, 0.9911894202232361, 0.9370155334472656, 0.9524752497673035, 0.9215885996818542, 0.9091928005218506, 0.9780793190002441, 0.0, 0.9404517412185669, 0.9653121829032898]
 Testing Avg Label Acc : 0.8567753851413726
 Testing Std Label Acc : 0.28662754172786825
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.2884)
 Model_Weight_Norm_Slope : tensor(0.1182)
======

Client 4
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  16, Average loss 0.083374 ===
 100 users; time 20:42:15
 test data_loader(per batch size): 79
 Testing accuracy: 0.9521999955177307 loss: 0.154742
 Testing Label Acc: [0.9836734533309937, 0.9814978241920471, 0.942829430103302, 0.9495049715042114, 0.9541751742362976, 0.9439461827278137, 0.9603340029716492, 0.9289883375167847, 0.9342916011810303, 0.9395440816879272]
 Testing Avg Label Acc : 0.9518785059452057
 Testing Std Label Acc : 0.017609176728230893
 Poison Acc: 0.07101167315175097
 Model_Weight_Norm : tensor(0.0517)
 Model_Weight_Norm_Slope : tensor(-0.0099)
======

Client 5
 6/100 are attackers with poison attack 
 count(target label):  100
=== Round  16, Average loss 0.179152 ===
 100 users; time 20:42:31
 test data_loader(per batch size): 79
 Testing accuracy: 0.8468999862670898 loss: 0.53833
 Testing Label Acc: [0.9795918464660645, 0.9903083443641663, 0.9486433863639832, 0.9683168530464172, 0.9297352433204651, 0.9147982001304626, 0.9759916663169861, 0.0, 0.8870636820793152, 0.8919722437858582]
 Testing Avg Label Acc : 0.8486421465873718
 Testing Std Label Acc : 0.285001269720769
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.3008)
 Model_Weight_Norm_Slope : tensor(0.0427)
======

Client 6
 8/100 are attackers with poison attack 
 count(target label):  100
=== Round  16, Average loss 0.230828 ===
 100 users; time 20:42:46
 test data_loader(per batch size): 79
 Testing accuracy: 0.8313000202178955 loss: 0.548766
 Testing Label Acc: [0.9775510430335999, 0.9903083443641663, 0.9602712988853455, 0.8811880946159363, 0.9796333909034729, 0.9876681566238403, 0.9363256692886353, 0.0, 0.8275154232978821, 0.79682856798172]
 Testing Avg Label Acc : 0.8337289988994598
 Testing Std Label Acc : 0.2855666153191732
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.4152)
 Model_Weight_Norm_Slope : tensor(-0.0350)
======

Client 7
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round  16, Average loss 0.151104 ===
 100 users; time 20:43:02
 test data_loader(per batch size): 79
 Testing accuracy: 0.9276999831199646 loss: 0.262171
 Testing Label Acc: [0.9836734533309937, 0.9903083443641663, 0.9108527302742004, 0.9287128448486328, 0.9735234379768372, 0.9125560522079468, 0.9707724452018738, 0.7334630489349365, 0.9579055309295654, 0.9157581925392151]
 Testing Avg Label Acc : 0.9277526080608368
 Testing Std Label Acc : 0.07092601576239335
 Poison Acc: 0.26653696498054474
 Model_Weight_Norm : tensor(0.2844)
 Model_Weight_Norm_Slope : tensor(-0.1728)
======

Client 8
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  16, Average loss 0.075668 ===
 100 users; time 20:43:18
 test data_loader(per batch size): 79
 Testing accuracy: 0.9523000121116638 loss: 0.158322
 Testing Label Acc: [0.9867346882820129, 0.9894273281097412, 0.940891444683075, 0.9495049715042114, 0.9460285305976868, 0.9529147744178772, 0.9592902064323425, 0.9348248839378357, 0.9240246415138245, 0.935579776763916]
 Testing Avg Label Acc : 0.9519221246242523
 Testing Std Label Acc : 0.020429731707370873
 Poison Acc: 0.0651750972762646
 Model_Weight_Norm : tensor(0.0490)
 Model_Weight_Norm_Slope : tensor(-0.0053)
======

Client 9
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  16, Average loss 0.084501 ===
 100 users; time 20:43:33
 test data_loader(per batch size): 79
 Testing accuracy: 0.9502000212669373 loss: 0.157047
 Testing Label Acc: [0.9846938848495483, 0.9885462522506714, 0.9312015771865845, 0.9495049715042114, 0.9480651617050171, 0.9506726264953613, 0.9592902064323425, 0.9280155897140503, 0.9178645014762878, 0.9405351877212524]
 Testing Avg Label Acc : 0.9498389959335327
 Testing Std Label Acc : 0.0217690995049438
 Poison Acc: 0.07198443579766536
 Model_Weight_Norm : tensor(0.0486)
 Model_Weight_Norm_Slope : tensor(-0.0100)
======

Test end 20:43:36
-------------------------------------------------------------------------

acc_list:  [(0, 0.9535999894142151), (8, 0.9523000121116638), (4, 0.9521999955177307), (9, 0.9502000212669373), (7, 0.9276999831199646), (2, 0.9254000186920166), (1, 0.9090999960899353), (3, 0.8550000190734863), (5, 0.8468999862670898), (6, 0.8313000202178955)]
acc_avg_difference:  0.004298437200486616
Acc_Avg (total global): 0.9109185451269151
Acc_Std (total global): 0.12166603645146785

good_group_acc :  0.9517163410782814
models updates
before:  0.9501594081521034  now: 0.9517163410782814
normal:  {523, 20, 25, 541, 32, 48, 49, 54, 569, 73, 585, 79, 87, 601, 113, 626, 119, 141, 143, 146, 674, 677, 166, 681, 686, 690, 691, 178, 693, 695, 188, 193, 707, 713, 724, 222, 223, 232, 751, 753, 248, 249, 761, 769, 774, 268, 789, 281, 793, 286, 288, 811, 306, 308, 821, 835, 845, 343, 348, 862, 352, 354, 363, 370, 378, 388, 902, 396, 397, 908, 400, 916, 406, 919, 408, 410, 414, 932, 421, 428, 946, 436, 447, 456, 973, 463, 464, 987, 481, 483, 996, 484, 999, 487, 490, 494, 498, 503, 504, 511}

normal:  {13, 532, 21, 22, 23, 28, 540, 35, 37, 551, 40, 44, 557, 59, 574, 581, 583, 589, 602, 90, 96, 609, 126, 127, 649, 653, 147, 661, 163, 678, 683, 687, 183, 185, 700, 709, 723, 725, 221, 228, 747, 236, 237, 238, 239, 244, 246, 759, 250, 765, 771, 773, 775, 784, 273, 277, 797, 799, 299, 812, 815, 310, 312, 825, 317, 832, 324, 326, 841, 846, 856, 864, 358, 361, 879, 880, 881, 895, 899, 398, 913, 915, 405, 917, 416, 423, 426, 427, 940, 942, 944, 433, 947, 444, 452, 457, 986, 480, 486, 493}

normal:  {6, 7, 8, 528, 17, 539, 27, 34, 546, 43, 560, 53, 60, 64, 580, 74, 77, 591, 80, 84, 86, 603, 608, 104, 105, 109, 627, 628, 629, 630, 633, 634, 123, 128, 137, 654, 151, 160, 673, 675, 679, 169, 170, 684, 706, 205, 219, 220, 224, 226, 745, 758, 763, 254, 768, 772, 263, 782, 272, 275, 282, 287, 291, 293, 311, 824, 318, 329, 843, 338, 853, 342, 344, 863, 868, 884, 387, 903, 906, 395, 923, 928, 941, 434, 439, 952, 956, 958, 966, 455, 969, 460, 462, 974, 979, 472, 989, 478, 482, 491}

shuffle_clients (in good): [0, 8, 4, 9]
Shuffle in good !

shuffle_clients (in normal): [7, 2, 1]
Shuffle in normal!

shuffle_clients (in bad): [3, 5, 6]
Shuffle in bad !

max_local_ep_time:  13.071959733963013
round_time:  15.631294012069702

good:  [0, 8, 4, 9]
normal:  [7, 2, 1]
bad:  [3, 5, 6]
Client 0
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  17, Average loss 0.077290 ===
 100 users; time 20:43:49
 test data_loader(per batch size): 79
 Testing accuracy: 0.955299973487854 loss: 0.144717
 Testing Label Acc: [0.9846938848495483, 0.9885462522506714, 0.9370155334472656, 0.9584158658981323, 0.9429734945297241, 0.9551569223403931, 0.9592902064323425, 0.9426069855690002, 0.9301847815513611, 0.9504460096359253]
 Testing Avg Label Acc : 0.9549329936504364
 Testing Std Label Acc : 0.018153044227599578
 Poison Acc: 0.057392996108949414
 Model_Weight_Norm : tensor(0.0467)
 Model_Weight_Norm_Slope : tensor(-0.0035)
======

Client 1
 2/100 are attackers with poison attack 
 count(target label):  100
=== Round  17, Average loss 0.131130 ===
 100 users; time 20:44:04
 test data_loader(per batch size): 79
 Testing accuracy: 0.9419999718666077 loss: 0.208843
 Testing Label Acc: [0.9826530814170837, 0.9894273281097412, 0.9467054009437561, 0.9415841698646545, 0.9592667818069458, 0.963004469871521, 0.9551148414611816, 0.811284065246582, 0.9383983612060547, 0.9335976243019104]
 Testing Avg Label Acc : 0.9421036124229432
 Testing Std Label Acc : 0.04691032586826927
 Poison Acc: 0.188715953307393
 Model_Weight_Norm : tensor(0.1697)
 Model_Weight_Norm_Slope : tensor(-0.0175)
======

Client 2
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round  17, Average loss 0.124240 ===
 100 users; time 20:44:19
 test data_loader(per batch size): 79
 Testing accuracy: 0.9254000186920166 loss: 0.278343
 Testing Label Acc: [0.9857142567634583, 0.9876651763916016, 0.940891444683075, 0.9594059586524963, 0.932790219783783, 0.9618834257125854, 0.9530271291732788, 0.6468871831893921, 0.9394250512123108, 0.9514370560646057]
 Testing Avg Label Acc : 0.9259126901626586
 Testing Std Label Acc : 0.09460520956826575
 Poison Acc: 0.3531128404669261
 Model_Weight_Norm : tensor(0.1658)
 Model_Weight_Norm_Slope : tensor(-0.0287)
======

Client 3
 9/100 are attackers with poison attack 
 count(target label):  100
=== Round  17, Average loss 0.229970 ===
 100 users; time 20:44:35
 test data_loader(per batch size): 79
 Testing accuracy: 0.9230999946594238 loss: 0.31339
 Testing Label Acc: [0.9857142567634583, 0.9726872444152832, 0.942829430103302, 0.9316831827163696, 0.9460285305976868, 0.9573991298675537, 0.9572024941444397, 0.6712062358856201, 0.9568788409233093, 0.9167492389678955]
 Testing Avg Label Acc : 0.9238378584384919
 Testing Std Label Acc : 0.08621708394347627
 Poison Acc: 0.32879377431906615
 Model_Weight_Norm : tensor(0.3485)
 Model_Weight_Norm_Slope : tensor(0.0600)
======

Client 4
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  17, Average loss 0.106993 ===
 100 users; time 20:44:50
 test data_loader(per batch size): 79
 Testing accuracy: 0.954800009727478 loss: 0.149633
 Testing Label Acc: [0.9877551198005676, 0.9859030842781067, 0.9437984228134155, 0.9504950642585754, 0.9572301506996155, 0.9484304785728455, 0.9592902064323425, 0.9348248839378357, 0.9342916011810303, 0.9425173401832581]
 Testing Avg Label Acc : 0.9544536352157593
 Testing Std Label Acc : 0.01796917100147042
 Poison Acc: 0.0651750972762646
 Model_Weight_Norm : tensor(0.0549)
 Model_Weight_Norm_Slope : tensor(0.0032)
======

Client 5
 7/100 are attackers with poison attack 
 count(target label):  100
=== Round  17, Average loss 0.223384 ===
 100 users; time 20:45:06
 test data_loader(per batch size): 79
 Testing accuracy: 0.8884999752044678 loss: 0.371331
 Testing Label Acc: [0.9795918464660645, 0.9400880932807922, 0.8963178396224976, 0.9574257135391235, 0.8788187503814697, 0.8733183741569519, 0.9530271291732788, 0.4785992205142975, 0.978439450263977, 0.9573835730552673]
 Testing Avg Label Acc : 0.889300999045372
 Testing Std Label Acc : 0.14181155510037652
 Poison Acc: 0.5214007782101168
 Model_Weight_Norm : tensor(0.3334)
 Model_Weight_Norm_Slope : tensor(0.0326)
======

Client 6
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round  17, Average loss 0.163497 ===
 100 users; time 20:45:22
 test data_loader(per batch size): 79
 Testing accuracy: 0.9139999747276306 loss: 0.30922
 Testing Label Acc: [0.9877551198005676, 0.9735682606697083, 0.9050387740135193, 0.9584158658981323, 0.8594704866409302, 0.8127802610397339, 0.9676409363746643, 0.7431906461715698, 0.9599589109420776, 0.9613478779792786]
 Testing Avg Label Acc : 0.9129167139530182
 Testing Std Label Acc : 0.07788174679666392
 Poison Acc: 0.25680933852140075
 Model_Weight_Norm : tensor(0.3109)
 Model_Weight_Norm_Slope : tensor(-0.1043)
======

Client 7
 5/100 are attackers with poison attack 
 count(target label):  100
=== Round  17, Average loss 0.139935 ===
 100 users; time 20:45:37
 test data_loader(per batch size): 79
 Testing accuracy: 0.8637999892234802 loss: 0.431946
 Testing Label Acc: [0.9857142567634583, 0.9841409921646118, 0.9476743936538696, 0.9465346336364746, 0.8767820596694946, 0.9204035997390747, 0.9728600978851318, 0.1031128391623497, 0.9558521509170532, 0.9613478779792786]
 Testing Avg Label Acc : 0.8654422901570797
 Testing Std Label Acc : 0.2559489700543596
 Poison Acc: 0.896887159533074
 Model_Weight_Norm : tensor(0.2593)
 Model_Weight_Norm_Slope : tensor(-0.0251)
======

Client 8
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  17, Average loss 0.073724 ===
 100 users; time 20:45:53
 test data_loader(per batch size): 79
 Testing accuracy: 0.9517999887466431 loss: 0.155591
 Testing Label Acc: [0.9846938848495483, 0.9867841601371765, 0.9418604373931885, 0.9564356207847595, 0.951120138168335, 0.9428251385688782, 0.962421715259552, 0.9319066405296326, 0.9229979515075684, 0.9326065182685852]
 Testing Avg Label Acc : 0.9513652205467225
 Testing Std Label Acc : 0.020522712657854568
 Poison Acc: 0.06809338521400778
 Model_Weight_Norm : tensor(0.0483)
 Model_Weight_Norm_Slope : tensor(-0.0007)
======

Client 9
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  17, Average loss 0.082432 ===
 100 users; time 20:46:08
 test data_loader(per batch size): 79
 Testing accuracy: 0.9517999887466431 loss: 0.153733
 Testing Label Acc: [0.9846938848495483, 0.9876651763916016, 0.9418604373931885, 0.9475247263908386, 0.951120138168335, 0.9529147744178772, 0.9592902064323425, 0.9250972867012024, 0.9229979515075684, 0.9415262341499329]
 Testing Avg Label Acc : 0.9514690816402436
 Testing Std Label Acc : 0.020470094342400828
 Poison Acc: 0.07490272373540856
 Model_Weight_Norm : tensor(0.0485)
 Model_Weight_Norm_Slope : tensor(-0.0001)
======

Test end 20:46:11
-------------------------------------------------------------------------

acc_list:  [(0, 0.955299973487854), (4, 0.954800009727478), (8, 0.9517999887466431), (9, 0.9517999887466431), (1, 0.9419999718666077), (2, 0.9254000186920166), (3, 0.9230999946594238), (6, 0.9139999747276306), (5, 0.8884999752044678), (7, 0.8637999892234802)]
acc_avg_difference:  0.01625496439635754
Acc_Avg (total global): 0.9271735095232726
Acc_Std (total global): 0.07804899135607368

good_group_acc :  0.9530552327632904
models updates
before:  0.9517163410782814  now: 0.9530552327632904
normal:  {17, 20, 21, 532, 25, 32, 546, 551, 43, 557, 49, 54, 569, 60, 574, 585, 73, 591, 80, 601, 602, 608, 105, 626, 629, 119, 127, 128, 649, 141, 143, 146, 160, 163, 166, 681, 170, 691, 185, 700, 706, 707, 713, 725, 223, 232, 747, 236, 238, 239, 751, 758, 759, 250, 765, 769, 773, 775, 268, 782, 793, 288, 293, 310, 825, 318, 324, 326, 329, 841, 338, 342, 864, 358, 881, 370, 378, 903, 906, 908, 400, 913, 916, 406, 919, 923, 427, 940, 941, 944, 433, 447, 979, 986, 480, 482, 483, 484, 999, 511}

normal:  {7, 8, 523, 13, 528, 23, 27, 28, 541, 540, 539, 37, 560, 48, 64, 79, 84, 87, 90, 603, 104, 113, 634, 137, 678, 679, 687, 690, 693, 695, 188, 205, 723, 221, 237, 244, 763, 254, 771, 772, 774, 263, 272, 277, 281, 797, 286, 287, 291, 811, 812, 815, 308, 821, 824, 317, 832, 835, 853, 343, 352, 354, 868, 895, 387, 388, 902, 396, 397, 915, 405, 917, 408, 410, 414, 416, 932, 423, 426, 428, 942, 946, 434, 439, 952, 444, 956, 958, 966, 455, 974, 463, 464, 472, 987, 478, 481, 487, 493, 498}

normal:  {512, 519, 522, 12, 525, 15, 536, 538, 31, 543, 38, 39, 47, 562, 66, 578, 69, 587, 83, 596, 597, 98, 611, 612, 613, 111, 125, 131, 647, 135, 144, 663, 153, 669, 676, 167, 682, 176, 180, 181, 694, 703, 199, 712, 200, 210, 722, 212, 217, 740, 741, 233, 241, 245, 255, 258, 777, 783, 788, 283, 796, 800, 802, 804, 296, 814, 305, 307, 339, 859, 861, 866, 369, 371, 373, 376, 892, 385, 909, 910, 413, 926, 929, 418, 417, 934, 937, 438, 953, 449, 961, 967, 458, 971, 977, 985, 474, 988, 485, 492}

shuffle_clients (in good): [0, 4, 8, 9]
Shuffle in good !

shuffle_clients (in normal): [1, 2, 3]
Shuffle in normal!

shuffle_clients (in bad): [6, 5, 7]
Shuffle in bad !

max_local_ep_time:  13.05198073387146
round_time:  15.778348922729492

good:  [0, 4, 8, 9]
normal:  [1, 2, 3]
bad:  [6, 5, 7]
Client 0
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  18, Average loss 0.072344 ===
 100 users; time 20:46:24
 test data_loader(per batch size): 79
 Testing accuracy: 0.9559000134468079 loss: 0.141064
 Testing Label Acc: [0.9867346882820129, 0.9876651763916016, 0.9389534592628479, 0.9574257135391235, 0.9562118053436279, 0.9551569223403931, 0.9572024941444397, 0.9445525407791138, 0.9312114715576172, 0.9405351877212524]
 Testing Avg Label Acc : 0.955564945936203
 Testing Std Label Acc : 0.017958024576492853
 Poison Acc: 0.05544747081712062
 Model_Weight_Norm : tensor(0.0474)
 Model_Weight_Norm_Slope : tensor(0.0007)
======

Client 1
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round  18, Average loss 0.128819 ===
 100 users; time 20:46:40
 test data_loader(per batch size): 79
 Testing accuracy: 0.8949999809265137 loss: 0.331749
 Testing Label Acc: [0.9846938848495483, 0.9885462522506714, 0.934108555316925, 0.9524752497673035, 0.9358451962471008, 0.931614339351654, 0.9592902064323425, 0.3696497976779938, 0.9445585012435913, 0.959365725517273]
 Testing Avg Label Acc : 0.8960147708654403
 Testing Std Label Acc : 0.1764518283888359
 Poison Acc: 0.6303501945525292
 Model_Weight_Norm : tensor(0.1846)
 Model_Weight_Norm_Slope : tensor(0.0149)
======

Client 2
 7/100 are attackers with poison attack 
 count(target label):  100
=== Round  18, Average loss 0.164711 ===
 100 users; time 20:46:55
 test data_loader(per batch size): 79
 Testing accuracy: 0.8567000031471252 loss: 0.557603
 Testing Label Acc: [0.9785714149475098, 0.9876651763916016, 0.9515503644943237, 0.896039605140686, 0.9348269104957581, 0.9562780261039734, 0.9780793190002441, 0.0, 0.9527720808982849, 0.9554013609886169]
 Testing Avg Label Acc : 0.8591184258460999
 Testing Std Label Acc : 0.28742815753622025
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.3254)
 Model_Weight_Norm_Slope : tensor(0.1596)
======

Client 3
 4/100 are attackers with poison attack 
 count(target label):  100
=== Round  18, Average loss 0.137761 ===
 100 users; time 20:47:09
 test data_loader(per batch size): 79
 Testing accuracy: 0.897599995136261 loss: 0.353438
 Testing Label Acc: [0.9867346882820129, 0.9911894202232361, 0.9156976938247681, 0.9376237392425537, 0.9368635416030884, 0.9035874605178833, 0.9791231751441956, 0.4309338629245758, 0.9507187008857727, 0.9504460096359253]
 Testing Avg Label Acc : 0.8982918292284012
 Testing Std Label Acc : 0.15819092776141253
 Poison Acc: 0.5690661478599222
 Model_Weight_Norm : tensor(0.2292)
 Model_Weight_Norm_Slope : tensor(-0.1193)
======

Client 4
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  18, Average loss 0.073689 ===
 100 users; time 20:47:25
 test data_loader(per batch size): 79
 Testing accuracy: 0.9539999961853027 loss: 0.148569
 Testing Label Acc: [0.9867346882820129, 0.9867841601371765, 0.9467054009437561, 0.9495049715042114, 0.951120138168335, 0.9461883306503296, 0.9613778591156006, 0.924124538898468, 0.9322382211685181, 0.9514370560646057]
 Testing Avg Label Acc : 0.9536215364933014
 Testing Std Label Acc : 0.01927376596831569
 Poison Acc: 0.07587548638132295
 Model_Weight_Norm : tensor(0.0459)
 Model_Weight_Norm_Slope : tensor(-0.0091)
======

Client 5
 5/100 are attackers with poison attack 
 count(target label):  100
=== Round  18, Average loss 0.166807 ===
 100 users; time 20:47:41
 test data_loader(per batch size): 79
 Testing accuracy: 0.8729000091552734 loss: 0.408289
 Testing Label Acc: [0.9846938848495483, 0.9894273281097412, 0.9467054009437561, 0.9376237392425537, 0.9786150455474854, 0.9181614518165588, 0.9697285890579224, 0.20136186480522156, 0.9065708518028259, 0.9098116755485535]
 Testing Avg Label Acc : 0.8742699831724167
 Testing Std Label Acc : 0.22621976761230145
 Poison Acc: 0.7986381322957199
 Model_Weight_Norm : tensor(0.2812)
 Model_Weight_Norm_Slope : tensor(-0.0523)
======

Client 6
 6/100 are attackers with poison attack 
 count(target label):  100
=== Round  18, Average loss 0.163022 ===
 100 users; time 20:47:56
 test data_loader(per batch size): 79
 Testing accuracy: 0.8503999710083008 loss: 0.517713
 Testing Label Acc: [0.9806122183799744, 0.9894273281097412, 0.9399224519729614, 0.9247524738311768, 0.958248496055603, 0.9697309136390686, 0.9707724452018738, 0.0, 0.882956862449646, 0.9117938280105591]
 Testing Avg Label Acc : 0.8528217017650604
 Testing Std Label Acc : 0.2860310708961649
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.3032)
 Model_Weight_Norm_Slope : tensor(-0.0076)
======

Client 7
 5/100 are attackers with poison attack 
 count(target label):  100
=== Round  18, Average loss 0.168210 ===
 100 users; time 20:48:12
 test data_loader(per batch size): 79
 Testing accuracy: 0.9315999746322632 loss: 0.269464
 Testing Label Acc: [0.9887754917144775, 0.9920704960823059, 0.9370155334472656, 0.9504950642585754, 0.9602851271629333, 0.9417040348052979, 0.9613778591156006, 0.701361894607544, 0.941478431224823, 0.9435084462165833]
 Testing Avg Label Acc : 0.9318072378635407
 Testing Std Label Acc : 0.07897611558720721
 Poison Acc: 0.29863813229571984
 Model_Weight_Norm : tensor(0.2310)
 Model_Weight_Norm_Slope : tensor(-0.0283)
======

Client 8
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  18, Average loss 0.081088 ===
 100 users; time 20:48:27
 test data_loader(per batch size): 79
 Testing accuracy: 0.953499972820282 loss: 0.150945
 Testing Label Acc: [0.9846938848495483, 0.9876651763916016, 0.942829430103302, 0.9534653425216675, 0.951120138168335, 0.9529147744178772, 0.9613778591156006, 0.929961085319519, 0.9260780215263367, 0.9415262341499329]
 Testing Avg Label Acc : 0.9531631946563721
 Testing Std Label Acc : 0.0194178500006684
 Poison Acc: 0.07003891050583658
 Model_Weight_Norm : tensor(0.0486)
 Model_Weight_Norm_Slope : tensor(0.0004)
======

Client 9
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  18, Average loss 0.078101 ===
 100 users; time 20:48:43
 test data_loader(per batch size): 79
 Testing accuracy: 0.9520999789237976 loss: 0.150529
 Testing Label Acc: [0.9867346882820129, 0.9867841601371765, 0.9370155334472656, 0.9544554352760315, 0.9501018524169922, 0.9517937302589417, 0.9582463502883911, 0.9328793883323669, 0.9209445714950562, 0.9385530352592468]
 Testing Avg Label Acc : 0.9517508745193481
 Testing Std Label Acc : 0.020493657130923323
 Poison Acc: 0.06712062256809338
 Model_Weight_Norm : tensor(0.0475)
 Model_Weight_Norm_Slope : tensor(-0.0011)
======

Test end 20:48:46
-------------------------------------------------------------------------

acc_list:  [(0, 0.9559000134468079), (4, 0.9539999961853027), (8, 0.953499972820282), (9, 0.9520999789237976), (7, 0.9315999746322632), (3, 0.897599995136261), (1, 0.8949999809265137), (5, 0.8729000091552734), (2, 0.8567000031471252), (6, 0.8503999710083008)]
acc_avg_difference:  0.014531059488654186
Acc_Avg (total global): 0.9126424500346184
Acc_Std (total global): 0.12904411654585426

good_group_acc :  0.9535251379013061
models updates
before:  0.9530552327632904  now: 0.9535251379013061
normal:  {513, 517, 518, 534, 33, 34, 35, 553, 42, 46, 51, 52, 580, 77, 598, 88, 96, 609, 101, 617, 619, 108, 625, 627, 117, 633, 136, 140, 654, 148, 660, 662, 154, 155, 162, 164, 165, 169, 171, 684, 173, 179, 187, 194, 709, 727, 220, 736, 227, 745, 756, 248, 761, 253, 768, 275, 789, 799, 810, 300, 309, 311, 322, 323, 844, 847, 341, 854, 344, 863, 356, 361, 363, 367, 375, 380, 897, 391, 395, 907, 398, 918, 421, 935, 425, 429, 947, 446, 456, 460, 469, 982, 470, 983, 996, 486, 490, 494, 503, 504}

normal:  {523, 12, 532, 21, 23, 541, 543, 32, 31, 546, 39, 43, 557, 60, 574, 578, 66, 73, 83, 84, 90, 608, 613, 111, 125, 131, 647, 137, 141, 146, 669, 678, 681, 695, 188, 706, 199, 713, 741, 233, 237, 751, 758, 250, 763, 765, 771, 272, 796, 286, 287, 288, 802, 804, 293, 296, 814, 815, 825, 835, 324, 326, 853, 859, 864, 868, 358, 881, 370, 373, 378, 892, 387, 902, 903, 916, 405, 413, 926, 414, 929, 934, 423, 426, 940, 942, 438, 952, 956, 449, 961, 967, 472, 986, 987, 474, 478, 483, 485, 487}

normal:  {519, 8, 522, 13, 15, 528, 25, 539, 27, 540, 560, 49, 562, 569, 64, 69, 585, 587, 87, 601, 104, 105, 626, 629, 119, 634, 143, 144, 160, 166, 679, 167, 682, 170, 687, 690, 693, 694, 210, 725, 221, 223, 740, 747, 236, 238, 241, 244, 254, 769, 772, 773, 777, 268, 783, 788, 281, 283, 800, 812, 305, 821, 318, 329, 338, 342, 343, 861, 352, 866, 354, 369, 376, 895, 385, 906, 396, 397, 909, 908, 913, 915, 406, 919, 410, 923, 418, 427, 433, 439, 444, 958, 966, 455, 458, 979, 985, 482, 484, 493}

shuffle_clients (in good): [0, 4, 8, 9]
Shuffle in good !

shuffle_clients (in normal): [7, 3, 1]
Shuffle in normal!

shuffle_clients (in bad): [5, 2, 6]
Shuffle in bad !

max_local_ep_time:  12.911081075668335
round_time:  15.60689663887024

good:  [0, 4, 8, 9]
normal:  [7, 3, 1]
bad:  [5, 2, 6]
Client 0
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  19, Average loss 0.076560 ===
 100 users; time 20:48:59
 test data_loader(per batch size): 79
 Testing accuracy: 0.9567999839782715 loss: 0.137723
 Testing Label Acc: [0.9846938848495483, 0.9867841601371765, 0.9418604373931885, 0.9564356207847595, 0.9592667818069458, 0.9573991298675537, 0.9603340029716492, 0.9435797929763794, 0.9312114715576172, 0.9435084462165833]
 Testing Avg Label Acc : 0.9565073728561402
 Testing Std Label Acc : 0.017101844571361862
 Poison Acc: 0.05642023346303502
 Model_Weight_Norm : tensor(0.0448)
 Model_Weight_Norm_Slope : tensor(-0.0026)
======

Client 1
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round  19, Average loss 0.134919 ===
 100 users; time 20:49:14
 test data_loader(per batch size): 79
 Testing accuracy: 0.9340999722480774 loss: 0.244295
 Testing Label Acc: [0.9846938848495483, 0.983259916305542, 0.9554263353347778, 0.9267326593399048, 0.9368635416030884, 0.9641255736351013, 0.9613778591156006, 0.7324903011322021, 0.9476386308670044, 0.9524281620979309]
 Testing Avg Label Acc : 0.93450368642807
 Testing Std Label Acc : 0.06950024444321981
 Poison Acc: 0.26750972762645914
 Model_Weight_Norm : tensor(0.1713)
 Model_Weight_Norm_Slope : tensor(-0.0133)
======

Client 2
 3/100 are attackers with poison attack 
 count(target label):  100
=== Round  19, Average loss 0.184368 ===
 100 users; time 20:49:30
 test data_loader(per batch size): 79
 Testing accuracy: 0.951200008392334 loss: 0.192445
 Testing Label Acc: [0.9857142567634583, 0.9903083443641663, 0.944767415523529, 0.9653465151786804, 0.9439918398857117, 0.945067286491394, 0.9613778591156006, 0.868677020072937, 0.9496920108795166, 0.9544103145599365]
 Testing Avg Label Acc : 0.950935286283493
 Testing Std Label Acc : 0.03158682755558587
 Poison Acc: 0.13132295719844359
 Model_Weight_Norm : tensor(0.2964)
 Model_Weight_Norm_Slope : tensor(-0.0291)
======

Client 3
 2/100 are attackers with poison attack 
 count(target label):  100
=== Round  19, Average loss 0.124135 ===
 100 users; time 20:49:45
 test data_loader(per batch size): 79
 Testing accuracy: 0.9480999708175659 loss: 0.19315
 Testing Label Acc: [0.9836734533309937, 0.9903083443641663, 0.9389534592628479, 0.9534653425216675, 0.9287168979644775, 0.9573991298675537, 0.9655532240867615, 0.8599221706390381, 0.9476386308670044, 0.9544103145599365]
 Testing Avg Label Acc : 0.9480040967464447
 Testing Std Label Acc : 0.034265908806445165
 Poison Acc: 0.14007782101167315
 Model_Weight_Norm : tensor(0.1694)
 Model_Weight_Norm_Slope : tensor(-0.0597)
======

Client 4
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  19, Average loss 0.069724 ===
 100 users; time 20:50:01
 test data_loader(per batch size): 79
 Testing accuracy: 0.9546999931335449 loss: 0.144716
 Testing Label Acc: [0.9857142567634583, 0.9867841601371765, 0.9476743936538696, 0.9524752497673035, 0.9521384835243225, 0.9484304785728455, 0.9603340029716492, 0.9270427823066711, 0.9342916011810303, 0.9484637975692749]
 Testing Avg Label Acc : 0.9543349206447601
 Testing Std Label Acc : 0.01828162517880374
 Poison Acc: 0.07295719844357977
 Model_Weight_Norm : tensor(0.0453)
 Model_Weight_Norm_Slope : tensor(-0.0006)
======

Client 5
 10/100 are attackers with poison attack 
 count(target label):  100
=== Round  19, Average loss 0.216705 ===
 100 users; time 20:50:17
 test data_loader(per batch size): 79
 Testing accuracy: 0.8352000117301941 loss: 0.659307
 Testing Label Acc: [0.9612244963645935, 0.9541850090026855, 0.940891444683075, 0.9524752497673035, 0.7515274882316589, 0.9125560522079468, 0.9655532240867615, 0.0, 0.9804928302764893, 0.9534192085266113]
 Testing Avg Label Acc : 0.8372325003147125
 Testing Std Label Acc : 0.28592731594344933
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.3815)
 Model_Weight_Norm_Slope : tensor(0.1003)
======

Client 6
 5/100 are attackers with poison attack 
 count(target label):  100
=== Round  19, Average loss 0.172906 ===
 100 users; time 20:50:32
 test data_loader(per batch size): 79
 Testing accuracy: 0.9398000240325928 loss: 0.241629
 Testing Label Acc: [0.9887754917144775, 0.9823788404464722, 0.9234496355056763, 0.9524752497673035, 0.9195519089698792, 0.9226457476615906, 0.9707724452018738, 0.8336575627326965, 0.9507187008857727, 0.9514370560646057]
 Testing Avg Label Acc : 0.9395862638950347
 Testing Std Label Acc : 0.042217884840835246
 Poison Acc: 0.16634241245136186
 Model_Weight_Norm : tensor(0.2756)
 Model_Weight_Norm_Slope : tensor(-0.0276)
======

Client 7
 7/100 are attackers with poison attack 
 count(target label):  100
=== Round  19, Average loss 0.158560 ===
 100 users; time 20:50:48
 test data_loader(per batch size): 79
 Testing accuracy: 0.8547999858856201 loss: 0.607397
 Testing Label Acc: [0.9857142567634583, 0.9859030842781067, 0.9389534592628479, 0.9465346336364746, 0.9266802668571472, 0.9035874605178833, 0.9770354628562927, 0.0, 0.953798770904541, 0.9484637975692749]
 Testing Avg Label Acc : 0.8566671192646027
 Testing Std Label Acc : 0.286624135195318
 Poison Acc: 1.0
 Model_Weight_Norm : tensor(0.3344)
 Model_Weight_Norm_Slope : tensor(0.1034)
======

Client 8
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  19, Average loss 0.066997 ===
 100 users; time 20:51:03
 test data_loader(per batch size): 79
 Testing accuracy: 0.9553999900817871 loss: 0.148547
 Testing Label Acc: [0.9867346882820129, 0.9876651763916016, 0.9389534592628479, 0.9534653425216675, 0.9562118053436279, 0.9529147744178772, 0.9634655714035034, 0.9426069855690002, 0.929158091545105, 0.9395440816879272]
 Testing Avg Label Acc : 0.955071997642517
 Testing Std Label Acc : 0.018632385738023956
 Poison Acc: 0.057392996108949414
 Model_Weight_Norm : tensor(0.0441)
 Model_Weight_Norm_Slope : tensor(-0.0046)
======

Client 9
 0/100 are attackers with poison attack 
 count(target label):  100
=== Round  19, Average loss 0.076559 ===
 100 users; time 20:51:19
 test data_loader(per batch size): 79
 Testing accuracy: 0.9539999961853027 loss: 0.148706
 Testing Label Acc: [0.9857142567634583, 0.9894273281097412, 0.9486433863639832, 0.9524752497673035, 0.951120138168335, 0.9529147744178772, 0.962421715259552, 0.9309338331222534, 0.9199178814888, 0.9425173401832581]
 Testing Avg Label Acc : 0.9536085903644562
 Testing Std Label Acc : 0.020484781562664072
 Poison Acc: 0.06906614785992218
 Model_Weight_Norm : tensor(0.0466)
 Model_Weight_Norm_Slope : tensor(-0.0009)
======

Test end 20:51:22
-------------------------------------------------------------------------

acc_list:  [(0, 0.9567999839782715), (8, 0.9553999900817871), (4, 0.9546999931335449), (9, 0.9539999961853027), (2, 0.951200008392334), (3, 0.9480999708175659), (6, 0.9398000240325928), (1, 0.9340999722480774), (7, 0.8547999858856201), (5, 0.8352000117301941)]
acc_avg_difference:  0.016002733409404835
Acc_Avg (total global): 0.9286451834440232
Acc_Std (total global): 0.08246229538357071

good_group_acc :  0.9548807203769685
models updates
before:  0.9535251379013061  now: 0.9548807203769685
normal:  {7, 525, 16, 17, 18, 547, 37, 40, 59, 572, 70, 584, 591, 593, 597, 602, 603, 94, 624, 113, 630, 126, 128, 145, 147, 151, 168, 683, 685, 176, 178, 697, 700, 703, 705, 195, 707, 196, 200, 718, 724, 219, 228, 239, 240, 754, 243, 757, 246, 255, 258, 781, 273, 794, 297, 299, 811, 301, 817, 307, 824, 312, 827, 317, 320, 846, 337, 856, 857, 858, 348, 862, 350, 357, 366, 879, 880, 896, 904, 910, 402, 917, 408, 922, 416, 417, 930, 943, 431, 945, 434, 435, 962, 969, 459, 973, 462, 977, 997, 505}

normal:  {523, 12, 528, 534, 541, 543, 31, 33, 39, 553, 43, 46, 574, 64, 580, 69, 88, 90, 101, 105, 108, 629, 119, 633, 647, 136, 140, 144, 146, 660, 154, 155, 162, 164, 679, 681, 682, 171, 687, 690, 179, 693, 694, 695, 187, 713, 210, 725, 751, 241, 758, 250, 763, 254, 777, 783, 788, 286, 287, 288, 804, 810, 300, 309, 835, 323, 844, 343, 864, 868, 358, 378, 895, 385, 387, 391, 395, 908, 913, 915, 406, 410, 923, 926, 421, 934, 935, 426, 427, 433, 439, 952, 961, 979, 469, 983, 486, 494, 503, 504}

normal:  {0, 1, 19, 533, 535, 28, 548, 38, 44, 48, 564, 54, 571, 573, 581, 583, 74, 589, 596, 86, 605, 98, 106, 109, 116, 122, 123, 127, 640, 134, 135, 653, 661, 663, 667, 158, 671, 673, 674, 675, 689, 691, 180, 181, 185, 193, 202, 721, 722, 212, 217, 732, 735, 224, 742, 752, 753, 762, 766, 767, 256, 774, 263, 277, 790, 282, 797, 809, 306, 310, 829, 833, 837, 845, 345, 353, 869, 381, 382, 899, 388, 393, 404, 928, 937, 941, 953, 445, 447, 974, 464, 988, 989, 990, 480, 481, 993, 992, 999, 500}




max_local_ep_time:  12.975095272064209
round_time:  15.623281955718994

Round:  19
locals:  {520, 9, 526, 36, 552, 576, 590, 592, 82, 85, 600, 610, 615, 620, 621, 622, 124, 636, 643, 644, 645, 142, 150, 668, 156, 672, 172, 186, 699, 189, 704, 198, 201, 716, 204, 206, 208, 720, 214, 726, 733, 738, 234, 235, 750, 760, 259, 776, 271, 276, 278, 279, 791, 290, 806, 807, 295, 298, 303, 820, 823, 315, 836, 325, 839, 328, 852, 351, 867, 360, 873, 364, 878, 889, 893, 390, 392, 905, 914, 920, 412, 927, 415, 419, 420, 938, 430, 949, 440, 441, 443, 960, 450, 963, 964, 454, 461, 467, 475, 994}

locals:  {515, 521, 529, 531, 545, 550, 41, 555, 45, 561, 566, 567, 61, 575, 67, 582, 72, 78, 81, 599, 604, 606, 95, 607, 99, 115, 631, 632, 637, 130, 132, 138, 139, 656, 658, 659, 670, 159, 680, 175, 177, 190, 702, 207, 209, 213, 728, 737, 739, 229, 748, 749, 251, 257, 770, 266, 786, 787, 289, 294, 808, 813, 304, 313, 316, 831, 834, 327, 331, 336, 848, 850, 851, 340, 359, 365, 372, 377, 890, 383, 384, 389, 399, 921, 409, 411, 924, 939, 432, 951, 954, 448, 471, 479, 998, 488, 496, 502, 508, 510}

locals:  {514, 5, 10, 11, 524, 14, 527, 530, 537, 29, 549, 563, 56, 58, 577, 579, 68, 76, 595, 91, 92, 102, 103, 618, 623, 120, 635, 641, 129, 650, 651, 664, 665, 666, 157, 688, 182, 184, 696, 191, 710, 715, 719, 211, 216, 730, 731, 218, 743, 746, 260, 262, 264, 780, 270, 274, 795, 284, 803, 805, 302, 816, 818, 826, 830, 319, 838, 842, 332, 333, 346, 347, 349, 870, 362, 374, 894, 394, 911, 912, 401, 403, 925, 931, 933, 950, 957, 959, 965, 453, 968, 972, 975, 976, 980, 477, 991, 995, 499, 501}

locals:  {2, 3, 516, 4, 26, 30, 542, 554, 559, 565, 55, 57, 570, 62, 65, 71, 75, 588, 93, 97, 100, 614, 616, 110, 112, 114, 121, 638, 639, 133, 646, 652, 655, 657, 149, 152, 174, 698, 192, 197, 714, 203, 215, 734, 225, 231, 242, 755, 247, 252, 261, 265, 778, 267, 779, 269, 785, 280, 285, 798, 801, 292, 819, 822, 314, 828, 321, 840, 334, 849, 855, 860, 865, 875, 877, 882, 883, 887, 888, 379, 386, 900, 901, 407, 936, 424, 948, 437, 442, 955, 970, 465, 466, 468, 984, 473, 476, 495, 497, 507}

save 4 models
clients (in good): [0, 8, 4, 9]
clients (in normal): [2, 3, 6]
clients (in bad): [1, 7, 5]
total_time:  312.08944940567017
=== End ===
